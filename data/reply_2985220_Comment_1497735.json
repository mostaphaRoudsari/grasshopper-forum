{"body": "\nHi awkweird,<br/><br/>Glad it helped.<br/>The **baseSurface_** input controls the ground (roof) plane, but you are right, previously it did not support the vertical roof/walls.<br/><br/>Check the attached file below for an example of the 3rd solution.<br/><br/>Do not be confused by the additional division of the initial PV surfaces (yellow group label: **\"divided PV surfaces\"**). This is to more accurately account for their self shading.<br/>The attached .gh file takes a little bit more to execute everything, so I internalized some of the results, and the final result also.<br/><br/>Feel free to change something in definition (for example try using a bit larger tilt angle, instead of the optimal one) but be prepared to wait a little bit, before everything is executed. I labeled with green group color the steps I have been using. If you have a bit stronger PC configuration, you only need to internalize once (**\"2 internalize\"** label). If not do the steps that that I did.<br/><br/>Have a great weekend!\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1497736", "name": "FindingoptimalsizeofPVingivenarray3.gh"}], "created_by_name": "djordje", "created_at": "March 31, 2016 at 12:11pm", "created_by": "djordje", "parent_id": "reply_2985220_Comment_1497567", "id": "reply_2985220_Comment_1497735"}