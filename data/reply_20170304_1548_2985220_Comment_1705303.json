{"body": "\nHi Wigg,\n\nI am stuck with some other work this spring, and this is the reason why you didn't get the reply straight away. I apologize for that. I am probably going to reply even rarely in the next couple of weeks. But if you are patient I think we will try to solve most of the issues.\n\n\n\nFor the TOF module, I find that no matter which inputs I provide, the optimalTilt is always 45 and the optimalAzimuth is always 180. I'm providing a weather <br/>file input and a north vector.\n\nYou are the second user who reported this which means that I was wrong in my assumption of setting a very low default value for the **precision_** input, it should have been higher as more user friendly for beginners. Basically the TOF component results depend on the **precision_** input. The best would be to set this value to 100, let your PC run the whole night, and in the morning you would get the most precise tilt and azimuth optimal angles. However, as some of us are using weaker PCs, and as sometimes the difference between results from **precision_** = 100 and say **precision_** = 30 is less than a degree, you can try using the **precision_** = 30 for the start.\n\nBy default the **precision_** is set to only 2. I will make sure this is increased in the next release of this component. Your topic definitively contributed to that!\n\nAnother thing I noticed is that \"TOF\" component does not support **north_** inputs not equal to 0, in terms of graphical representation of results. It would probably take me some time to fix this. But the numerical results (which is what we need) are supported.\n\nBy looking at some other similar PV applications, I haven't seen the optimal tilt/azimuth graphical representation which supports change of north angle direction, so maybe this is not too much of an <br/>issue after all. The important thing is the numerical part, which is outputs correct results.\n\n\n\nI'm then using the optimalTilt and optimalAzimuth outputs to supply the PV_SWH_SystemSize inputs for arrayTiltAngle and arrayAzimuthAngle - obviously <br/>this isn't actually doing anything useful at the moment as the outputs from the TOF are always 45 and 180.\n\nIt will make sence now, that you increase the upper precision_ input.\n\n\n\nWith the PV_SWH_SystemSize module, I'm having issues with the spacing it is providing between the rows of PV. I know it calculates this based on the <br/>sun position on a date based on the altitude of the location the weather file provides, but I think the spacing is far too large, especially for a rooftop array <br/>where the space is more like 1-2m normally. I'm trying to specify a summer date in the format the minimalSpacingDate output provides (15 NOV 15:00) so <br/>the calculated spacing is lower, but it just throws up an error whenever I do.\n\n**minimalSpacingPeriod_** input of the \"PV SWH System Size\" component accepts data from Ladybug \"Analysis Period\" component. But again, I apologize: as this is my mistake for not mentioning this in its docstring (that's the explanation you get when you hover your mouse over this input). I will make sure this gets added to the next release of \"PV SWH System Size\" component as well!\n\nI also noticed a bug with \"PV SWH System Size\" component - at the moment the values it calculates are not correct if **north_** input is not equal to 0. This is due to the component using another Ladybug developer's code which calculates sun position angles. For some reason this code does not support changing the north angle direction. I will contact the author to see how this can be solved.\n\nSo to be clear: it's not that all Ladybug Photovoltaics component do not support **north_** inputs not equal to 0. It's that \"PV SWH System Size\" component currently does not due to the upper issue. And \"Tilt and Orientation Factor (TOF)\" component does not support for its graphical representation of results. I will see if at least the first one can be fixed.\n\n\n\nFinally, it would be really useful to be able to get the PV_SWH_SystemSize component to actually produce the array it has created as Rhino geometry, so <br/>they can be viewed when rendered; is that possible? Also, is it possible to restrict the module so that it only creates rows with dimensions such that it fits <br/>within a surface you provide?\n\nThe PV_SWHsurface output of \"PV SWH System Size\" component contains Grasshopper geometry of all PV rows. Are you familiar with [baking in Grasshopper](https://www.lynda.com/Grasshopper-tutorials/Saving-baking-Grasshopper-files/174491/194099-4.html)?\n\n<br/>I attached below an example of how to perform a shaded PV analysis. I rotated the whole context by 40 degrees so that the issue with \"PV SWH System Size\" component could be overlooked. When you determine your **minimalSpacingPeriod_** input, we can internalize its \"PV SWH System Size\" output, rotate back your context and use \"40\" as a value for **north_** input for all components.\n\nLet me know if something was not clear, or if I replied vaguely to some of your questions.<br/>I apology in advance if it may take me a bit longer to answer to your next question. This spring period has really toughen my free time.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1705305", "name": "Photovoltaics shaded analysis.gh"}], "created_by_name": "djordje", "created_at": "March 04, 2017 at 03:48PM", "created_by": "djordje", "parent_id": "topic_1702950", "id": "reply_2985220_Comment_1705303"}