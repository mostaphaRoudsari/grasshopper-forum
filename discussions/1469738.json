{"body": "\nHi everyone,\n\n\n\nIn my case, there is a curve blind covering parts of building. I have several problems:\n\n\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/AOzcN6l-SPpe2ayXhifpmWrVpE6KYp4K1Ss00Ln*dfzon0afxfqq6oxj6APYR3w9cOKVVB9vlWu3vvVbrMNKNZ0DCOGUVF0e/3.JPG\" width=\"672\"/>](http://api.ning.com:80/files/AOzcN6l-SPpe2ayXhifpmWrVpE6KYp4K1Ss00Ln*dfzon0afxfqq6oxj6APYR3w9cOKVVB9vlWu3vvVbrMNKNZ0DCOGUVF0e/3.JPG)\n\n1. When I use splitMasses to divide my building, an error appears: 'Brep' object has no attribute 'Surfaces'.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/AOzcN6l-SPqMZSlr0fTwDZLf2nvDGRIaK57QAOk*W-RTdRt4Bqk46JHMmiF8HsXJnTqAWAN6YGo*KaSYkjX2FuIMRwiJDsk0/1.JPG?width=750\" width=\"750\"/>](http://api.ning.com:80/files/AOzcN6l-SPqMZSlr0fTwDZLf2nvDGRIaK57QAOk*W-RTdRt4Bqk46JHMmiF8HsXJnTqAWAN6YGo*KaSYkjX2FuIMRwiJDsk0/1.JPG)\n\n2. When I run the simulation, it says, \"Runtime error (KeyNotFoundException)\".\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/AOzcN6l-SPrrh7eh-Dyj3WNfr7cquHK1*FeUQBPldQjfn9KdB9uBUwIPiOhAsXtxUWs6DIEOPp-9PJv2V3RpBhxwqVLkOIdR/2.JPG?width=750\" width=\"750\"/>](http://api.ning.com:80/files/AOzcN6l-SPrrh7eh-Dyj3WNfr7cquHK1*FeUQBPldQjfn9KdB9uBUwIPiOhAsXtxUWs6DIEOPp-9PJv2V3RpBhxwqVLkOIdR/2.JPG)\n\n3. How much time would it take to achieve the simulation of such kind of complex shading?\n\n4. Could I use the same method of simulating outdoor shadow to get the indoor shadow distribution?\n\n\n\nThanks a lot.\n\n\n\nBest regards,\n\nDan\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1469736", "name": "problem_3d.3dm"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1469737", "name": "problem.gh"}], "created_by_name": "Dan Hou", "created_at": "February 23, 2016 at 7:38am", "created_by": "DanHou", "topic": "Daylight Simulation of Complex Blinds", "replies": [{"body": "\nDan,\n\nSee attached for a working file.\n\nBasically you needed to solve the intersection of the masses. Also you needed to define the shades as HB surfaces.\n\nI put in groups your definitions that i changed with other components.\n\n\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1469748", "name": "problem_AY.gh"}], "created_by_name": "Abraham Yezioro", "created_at": "February 23, 2016 at 8:39am", "created_by": "AbrahamYezioro", "replies": [{"body": "\nHi Abraham,\n\n\n\nThanks a lot for your help. But it still has some problems in my computer:\n\n1. I find some previous discussions about this error \"truncated octree\", but it seems to be not suitable for my case.\n\n<img class=\"align-full\" src=\"http://api.ning.com:80/files/tUpf1dE*xKa0unLqS0p-brRCN0cxmU*YLz7ahZHeEI8WHMDhEw6EUcjPscc3nV5ZYAPQoPkfkqn-WmhgetoJZbTNZzYBXaLm/4.JPG?width=721\" width=\"721\"/>\n\n2. There is still a problem after adding the intersectMass component.\u00a0\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/tUpf1dE*xKaNmufY4F9G63Pgxo3o*PkgMnV5LAnhHXK9XTKtsL6TVC6lE8QwpoBM8OZfKOEBUJvJaREkEDSYQsXJWHyEauOI/5.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/tUpf1dE*xKaNmufY4F9G63Pgxo3o*PkgMnV5LAnhHXK9XTKtsL6TVC6lE8QwpoBM8OZfKOEBUJvJaREkEDSYQsXJWHyEauOI/5.JPG)\n\n\n\nThanks.\n\n\n\nBest regards,\n\nDan\n\n\n\n\n", "attachments": [], "created_by_name": "Dan Hou", "created_at": "February 23, 2016 at 6:08pm", "created_by": "DanHou", "replies": []}, {"body": "\nThe splitMass is complaining about the brep connected. I suggest to check this input again. As i said, this file worked for me, so something is going on at your end. Check the tolerance value in rhino (mine is set to 0.001).\n\nAs for the octree, are you sure you have write permissions at your output folder? Or the folder exists? When i tested it i disconnected this input, so probably there is an issue there.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 23, 2016 at 9:42pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Abraham,\n\n\n\nI have tried both of your suggestion, but it still doesn't work. I am sure the folder exists. As for the permissions at output folder, how can I set it? Thanks.\n\n\n\nBest regards,\n\nDan\n", "attachments": [], "created_by_name": "Dan Hou", "created_at": "February 24, 2016 at 8:31am", "created_by": "DanHou", "replies": []}, {"body": "\n\n\nCheck if it says Read only.\n\nTry also not giving a working folder ... just to see.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 24, 2016 at 9:02am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nDan,\n\nThe split building Mass error was happening because my code was not sending you the right message, which is that you cannot have the top or bottom of the mass composed of polysurfaces:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/2lIhFeoR70BEPg0Ad0IKdetRvxJrgD*iThbpff0dQ2ljxFsD3J7LuMzOrc9-aa37BCacE-tWgknCACa4792K5KZe-JEhpcyX/SplitBldgMass.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/2lIhFeoR70BEPg0Ad0IKdetRvxJrgD*iThbpff0dQ2ljxFsD3J7LuMzOrc9-aa37BCacE-tWgknCACa4792K5KZe-JEhpcyX/SplitBldgMass.JPG)\n\nThis is fixed in the attached file.\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1471458", "name": "problem_AY_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "February 25, 2016 at 8:42am", "created_by": "ChrisMackey", "replies": []}]}]}