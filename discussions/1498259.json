{"body": "\nHello,\n\nI need an advice on how to create external sunshades on Ladybug.<br/><br/>I would like to obtain a result like in this picture; and eventually replicate this system on a more extended shading canopy.\n\n[<img class=\"align-full\" height=\"368\" src=\"http://api.ning.com:80/files/iwhKaf*i-h3l2dxMCypmwn0ZiEHIIkIWG9BDi12*QiQHsIIXCWolp9hdsu7eksXCJygrFrfS*zfOL4x3fYxXA9b6hHhxn1PT/03760e86fb0aa4501cdc75ed1ba4f89a.jpg\" width=\"244\"/>](http://api.ning.com:80/files/iwhKaf*i-h3l2dxMCypmwn0ZiEHIIkIWG9BDi12*QiQHsIIXCWolp9hdsu7eksXCJygrFrfS*zfOL4x3fYxXA9b6hHhxn1PT/03760e86fb0aa4501cdc75ed1ba4f89a.jpg)\n\nThis is my geometry (gray):<br/>[<img class=\"align-left\" height=\"235\" src=\"http://api.ning.com:80/files/iwhKaf*i-h0EvLKh*Q6T0rk0iT10MMvbVFr0decy8Qs1-ZMlZQi37gpgkPbvGjV8q6OocwdbCnjaMOidiSYunQVORz8IveZY/upload.png?width=750\" width=\"511\"/>](http://api.ning.com:80/files/iwhKaf*i-h0EvLKh*Q6T0rk0iT10MMvbVFr0decy8Qs1-ZMlZQi37gpgkPbvGjV8q6OocwdbCnjaMOidiSYunQVORz8IveZY/upload.png)<br/><br/><br/>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat is my problem? My problem is that the Shading Designer component gives me the following error when i try to work on a perfectly horizontal surface. I also want the kind of shading shown before to be 100% efficient at noon, so i set the sun vector at the right time, and this is the error i get.<br/>[<img class=\"align-center\" src=\"http://api.ning.com:80/files/iwhKaf*i-h2T1bV3aoa6M-8KTpCmM4U5AWc-G-ja62ssclTsttlYKvxxvLMaJk6W57pr2nMNZgl7okzMzn0mnLLAxl-T27LG/upload.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/iwhKaf*i-h2T1bV3aoa6M-8KTpCmM4U5AWc-G-ja62ssclTsttlYKvxxvLMaJk6W57pr2nMNZgl7okzMzn0mnLLAxl-T27LG/upload.png)<br/><br/>\n\nif you can give some help, thank you.\n\n\n", "attachments": [], "created_by_name": "Jay Ramos", "created_at": "April 1, 2016 at 10:26am", "created_by": "JayRamos", "topic": "ladybug - create sunshades", "replies": [{"body": "\nHi Jay Ramos,\n\n\n\nI have made a small component to deal your issue, I have to talk to Mostapha and Chris about it ,and if it is useful I'll ask them if it is possible to insert it inside of LB Shading designer component.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/iWYakHOp-CFR16kkFQdWlIk0ZSkNNppVeTsEjRJjpJi-zan6ReMvS9SxEBAjFoosfwue2fMLoi897tmIa2HTYQx-JW1ytsJH/shading01.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/iWYakHOp-CFR16kkFQdWlIk0ZSkNNppVeTsEjRJjpJi-zan6ReMvS9SxEBAjFoosfwue2fMLoi897tmIa2HTYQx-JW1ytsJH/shading01.png)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/iWYakHOp-CH5wNjaZXen3o8yekb9W0nqtCn9KRkAteave5XXMbudIt0cZLUaerJ-VrYsEyssuLnUzn**i3uqZRZG4Qi75EwC/shading02.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/iWYakHOp-CH5wNjaZXen3o8yekb9W0nqtCn9KRkAteave5XXMbudIt0cZLUaerJ-VrYsEyssuLnUzn**i3uqZRZG4Qi75EwC/shading02.png)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/iWYakHOp-CEL7AVW6YZwdA7PsryXMcn*sUYpBsuLwMMlBTdNjGhQ01TRCJaFWutZw38dA6Ngxd-ld5syfO7ckSdWzRupYoJI/shading03.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/iWYakHOp-CEL7AVW6YZwdA7PsryXMcn*sUYpBsuLwMMlBTdNjGhQ01TRCJaFWutZw38dA6Ngxd-ld5syfO7ckSdWzRupYoJI/shading03.png)\n\nthe component uses a shading surface which comes from LB Shading designer as input. And you can set the number of shading surfaces, and it calculates the ideal height of them automatically.\n\n\n\nBest\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "April 1, 2016 at 7:14pm", "created_by": "AntonelloDiNunzio", "replies": [{"body": "\nIt is very useful Antonello!!\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "April 1, 2016 at 9:46pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Abraham,\n\n\n\nThanks! I have made a component about it, I have been waiting Chris and Mostapha to understand if I can add it or merge it inside LB shading designer.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/4ZOdnxlws1Xu9KZqAIdWTJDZpaMErXuE-fWArtiTYmxNzR-BV29zEAr7vwji2nYBUfbgMLcnknGgoOb-TUSDFtUVRgxXmm8W/LB_HorzShd.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/4ZOdnxlws1Xu9KZqAIdWTJDZpaMErXuE-fWArtiTYmxNzR-BV29zEAr7vwji2nYBUfbgMLcnknGgoOb-TUSDFtUVRgxXmm8W/LB_HorzShd.png)\n\nin the reply below you can find an example file.\n\nBest\u00a0\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "April 3, 2016 at 6:18pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nok thank you...so where do i find this component and get it to work? gotta solve this... thank you again for help\n", "attachments": [], "created_by_name": "Jay Ramos", "created_at": "April 2, 2016 at 10:59am", "created_by": "JayRamos", "replies": []}, {"body": "\nHi Jay Ramos,\n\n\n\nHere's an example where you can find the component which I made.\n\n\n\nBest\n\nAntonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1499816", "name": "example_Horizontal shading surfaces.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "April 3, 2016 at 6:21pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nThis is amazing, thank you very much for sharing!<br/><br/>One question: why does the first definition generate shades which are tapered according to the sun vector? (see image) How can I avoid that? And is there a way to internalise your component in GH? man this really made my day...hours saved![<img class=\"align-full\" src=\"http://api.ning.com:80/files/PFt8hYehZ85O74ql0*BO6zNEiSM9hrGVj1yTF44uTZIJIE7bXBodSrjyj7FkZ-C2uyHakExFrgcgGgNw3XbJwhDCPsuH182h/upload.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/PFt8hYehZ85O74ql0*BO6zNEiSM9hrGVj1yTF44uTZIJIE7bXBodSrjyj7FkZ-C2uyHakExFrgcgGgNw3XbJwhDCPsuH182h/upload.png)\n", "attachments": [], "created_by_name": "Jay Ramos", "created_at": "April 4, 2016 at 8:38am", "created_by": "JayRamos", "replies": []}, {"body": "\nHi Jay Ramos,\n\n\n\nI have done a lot of tests about the inclination angle and I rewrote the component with new formulas, and now it is very good. You can see this by running solar hours simulations, the facades will be black without horizontal white stripes, or by checking the angles on Rhino.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/nqHVUVOkmeMJdEZGilBDZC01*oqpjtQRLAvj7e6yfFVn2McKcl**vABvlf8E-dgUSlOReCWR922ohnjF40XzcdoqdDLeaKcO/001.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/nqHVUVOkmeMJdEZGilBDZC01*oqpjtQRLAvj7e6yfFVn2McKcl**vABvlf8E-dgUSlOReCWR922ohnjF40XzcdoqdDLeaKcO/001.png)[<img class=\"align-center\" src=\"http://api.ning.com:80/files/nqHVUVOkmeMtDBJOXm170rSuxRAIS-o2Hqe8kWDD1MS**VdxzzaI0UeGaWq9sut2DT7C*h*pzOk-3EycmkzcLYxMlQ24LfuF/002.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/nqHVUVOkmeMtDBJOXm170rSuxRAIS-o2Hqe8kWDD1MS**VdxzzaI0UeGaWq9sut2DT7C*h*pzOk-3EycmkzcLYxMlQ24LfuF/002.png)**Above, an image to answer to your question about avoiding from sun vectors.\u00a0<br/>**I added a new function for it.\n\n\n\nDespite I removed the option to connect curves because I have to work more around them, I think the component is complete enough.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/nqHVUVOkmeN6SEThxva-aHeLlfLvcWGMRPst2jw5-Lc5DLGBEURcxQGDIpjCjiDvxdPHv9Nc4xqQ8CISUYNEbL*YhFCGIqhW/003.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/nqHVUVOkmeN6SEThxva-aHeLlfLvcWGMRPst2jw5-Lc5DLGBEURcxQGDIpjCjiDvxdPHv9Nc4xqQ8CISUYNEbL*YhFCGIqhW/003.png)\n\nIf there are some bugs, please let me know.\n\n\n\nBest\n\nAntonello\n\n\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1501590", "name": "example_Horizontalshadingsurfaces _newVersion.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "April 5, 2016 at 5:41pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nAntonello,\n\nThis is going to be really useful once it gets integrated. \u00a0I have played around with your file a bit and realized that your component is essentially the same as the shading designer except that you can specify a shdAngle when you connect up a sunVector (or a sunAltitude in your case). \u00a0Right now, the shades are always horizontal when you connect a sunVector and this prevents people from using it for cases like that here unless you angle the shades like so:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4-r35uyukEbTbDG*U*pnHp3Ch-UySPeU*pIhdTU*4Kl9l4myS60lTpwJCxvwmUVrosrvbm55yn2IjCBg8bXBnvzer03Vct9C/AngledShades.JPG\" width=\"635\"/>](http://api.ning.com:80/files/4-r35uyukEbTbDG*U*pnHp3Ch-UySPeU*pIhdTU*4Kl9l4myS60lTpwJCxvwmUVrosrvbm55yn2IjCBg8bXBnvzer03Vct9C/AngledShades.JPG)\n\n\n\nAntonello, if you could integrate your current work in a manner that allows you to set the shadeAngle when someone connects up a sun vector, I think that will be the best of all worlds.\n\nLet me know if you have any questions on this or on the shading designer.\n\n\n\nAlso, I noticed that you should give people the option of setting the angle of the shades by U or V. \u00a0Otherwise, it is easy to generate shades facing the wrong direction like so and in the attached file:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4-r35uyukEaDO9jojOpuQVqUpyTPOVfpq9kSq*k7KjXlJH-s5ciX2m*N2W8RnzxXa3Khsr8OUeXS42XJgeeSVYitr83SmKcK/WrongDirection.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/4-r35uyukEaDO9jojOpuQVqUpyTPOVfpq9kSq*k7KjXlJH-s5ciX2m*N2W8RnzxXa3Khsr8OUeXS42XJgeeSVYitr83SmKcK/WrongDirection.JPG)\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1506075", "name": "example_Horizontalshadingsurfaces_newVersion_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "April 11, 2016 at 1:19pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris,\n\n<br/>Thanks for you test and your reply! you tested the older version, the new version is a little bit different, but the main function is similar.\n\nI made the latest version with Abraham's contribution, he gave some very good ideas, and we have been working together on them.\n\n<br/>I rewrote the component and now the system to generate pergola shades is a function.[<img class=\"align-center\" src=\"http://api.ning.com:80/files/4-r35uyukEZMfBM3x*zKCo6KedPI0b72IptVyiBb1exsRzZIeb3ZQCL7LegEqlyAmUvSBmctR5kH3XcZNTmYuZuCbq7womrX/function_pergola.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/4-r35uyukEZMfBM3x*zKCo6KedPI0b72IptVyiBb1exsRzZIeb3ZQCL7LegEqlyAmUvSBmctR5kH3XcZNTmYuZuCbq7womrX/function_pergola.png)I have never tried the component by connecting depths instead Vectors. Because to run correctly the component needs to have shading surfaces with a depth and shape according to the sun vectors.<br/>But we can work around the depth as well. We have to find another method to find the right size of the pergola shades.\n\n\n\nthe component generates the best dimension of pergola shades to block the sun rays.<br/>It accepts multiple shading surfaces which are generated by vectors and it creates a big pergola shade for all of them (we have to modify a bit this part), or it finds the shading surface with the max sun Altitude or with the max solar radiation value.<br/>It is not completed yet, there are some small bugs to fix about the merge mode and a couple\u00a0of good Abraham's ideas which we have to elaborate\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/4-r35uyukEafvt-okn7ktCgDXyKiilRBw-3S0d2Bmyy0GC2s*dX-o0TKnM2sHz*XoNr8Vbn9VIkbsU5RyPbYWZwW1TL5g8T3/function_pergola2.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/4-r35uyukEafvt-okn7ktCgDXyKiilRBw-3S0d2Bmyy0GC2s*dX-o0TKnM2sHz*XoNr8Vbn9VIkbsU5RyPbYWZwW1TL5g8T3/function_pergola2.png)\n\n\n\nI am agree with you about the integration also in order to reduce the number of components.\n\nWe can do in this way, if Abraham is agree, we can complete this component with all functions and then we can try to integrate it into LB shading designer, thus when all functions work fine. What do you think about it?\n\n\n\nBest\n\nAntonello\n\n\n\n\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "April 11, 2016 at 3:04pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nI know that I'm very late to the party but if I'm not mistaken you can do all of this with the current component if you just use optionaPlanes input. Remove the rotation angle if you want them vertical.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4-r35uyukEakhYAwrTnig5moLGt5*MtwnxBTs6Fo2edqQkq6c7P9xexguRmOTK0yyQDHjsPk6y*34Wv9BKXIZtek-WRhmO84/shadingDesigner.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/4-r35uyukEakhYAwrTnig5moLGt5*MtwnxBTs6Fo2edqQkq6c7P9xexguRmOTK0yyQDHjsPk6y*34Wv9BKXIZtek-WRhmO84/shadingDesigner.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1506366", "name": "shadingDesigner.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 11, 2016 at 4:09pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThe party is getting good :-)\n\nOne of the final outputs expected, by now, is having the pergola keeping the contour of the merged vectors.\n\nWe are working on this with Antonello and having good progress.\n\nSo i think that by now it is a good idea to keep going until we have a working version. Then we can merge it with the shadingDesigner ... or not, because we are also starting to work in a more general shading device calculator that i started to develop and this pergola thing can, maybe, be a part of it.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "April 11, 2016 at 11:20pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Mostapha,\n\nI think your function which projects points on plane through vectors (also not perpendicular to projection plane) is the best solution in this cases, a great function!<br/>I've played a bit with your system, to make the same thing you need to use some native components of GH,\u00a0only this could be a problem for someone.\n\n\n\n<img class=\"align-center\" src=\"http://api.ning.com:80/files/ZuR8thm*Gj*4xopOpXTS*TgcWSMIw3m*Toe0yqPwwoqo3bMTtTryPEnOmMPT3OIjpE2tmdUD8V5ZKOA47dQYhkmcLE7g9843/MostaphaMethod.png?width=450\" width=\"450\"/>\n\nAnyway, we could continue to work at our shading system, probably, something of interesting could born.\n\n\n\nBest<br/>Antonello\n\nPS. Another thing, I'm looking forward to see your idea about \"schedule components\".\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "April 15, 2016 at 5:15am", "created_by": "AntonelloDiNunzio", "replies": []}]}], "id": "1498259"}