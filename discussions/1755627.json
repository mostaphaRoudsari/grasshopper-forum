{"body": "\nHello!\n\nToday I tried to create a simple outdoor airflow analysis with Butterfly and received an error while trying to blockmesh. The error message is as follows:\n\n\n\nSET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/> Butterfly is running blockMesh. PID: 1837<br/> SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh\n\n/*---------------------------------------------------------------------------*\\<br/> | ========= | |<br/> | \\\\ / F ield | OpenFOAM: The Open Source CFD Toolbox |<br/> | \\\\ / O peration | Version: v1612+ |<br/> | \\\\ / A nd | Web: [www.OpenFOAM.com](http://www.OpenFOAM.com) |<br/> | \\\\/ M anipulation | |<br/> \\*---------------------------------------------------------------------------*/<br/> Build : v1612+<br/> Exec : blockMesh<br/> Date : May 22 2017<br/> Time : 08:51:50<br/> Host : \"default\"<br/> PID : 1837<br/> Case : /home/ofuser/workingDir/butterfly/outdoor_airflow<br/> nProcs : 1<br/> sigFpe : Enabling floating point exception trapping (FOAM_SIGFPE).<br/> fileModificationChecking : Monitoring run-time modified files using timeStampMaster (fileModificationSkew 10)<br/> allowSystemOperations : Allowing user-supplied system call operations\n\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //<br/> Create time\n\nCreating block mesh from<br/> \"/home/ofuser/workingDir/butterfly/outdoor_airflow/system/blockMeshDict\"<br/> Creating block edges<br/> No non-planar block faces defined<br/> Creating topology blocks<br/> Creating topology patches\n\nCreating block mesh topology\n\nCheck topology\n\nBasic statistics<br/> Number of internal faces : 0<br/> Number of boundary faces : 6<br/> Number of defined boundary faces : 6<br/> Number of undefined boundary faces : 0<br/> Checking patch -&gt; block consistency\n\nCreating block offsets<br/> Creating merge list .\n\nCreating polyMesh from blockMesh<br/> Creating patches<br/> Creating cells<br/> new cannot satisfy memory request.<br/> **This does not necessarily mean you have run out of virtual memory.**<br/> **It could be due to a stack violation caused by e.g. bad use of pointers or an out of date shared library**<br/> **Runtime error (PythonException):**\n\n<br/> **Butterfly failed to run OpenFOAM command!**<br/> **new cannot satisfy memory request.**<br/> **This does not necessarily mean you have run out of virtual memory.**<br/> **It could be due to a stack violation caused by e.g. bad use of pointers or an out of date shared library**<br/> **Traceback:**<br/> **line 51, in script**\n\n\n\nI don't really have any knowledge in CFD simulation and only watched the tutorials and managed to get the sample files to work. So this time, I replaced the starting geometry my building which is a curve building, I wonder if that is the issue that caused this problem. Can anyone enlighten me on the issue?\n\n\n\nWarm regards,\n\nAnnie\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1755626", "name": "Building Creation_WIND.gh"}], "created_by_name": "Annie Wu", "created_at": "May 22, 2017 at 3:14am", "created_by": "AnnieWu", "topic": "Butterfly Error - Cannot satisfy memory request", "replies": [{"body": "\nHi Annie,\n\n\n\nYou need to change memory settings in VM VirtualBox according to your\u00a0hardware.\n\nBy default, it is 1 GB, and it is why it say that it cannot satisfy memory request for complex geometry.\n\n\n\nCheers.\n", "attachments": [], "created_by_name": "Federico Cucchi", "created_at": "May 22, 2017 at 3:45am", "created_by": "FedericoCucchi", "replies": [{"body": "\nDear Federico,\n\nI have changed the Motherboard option to 4GB and the Processor to 4 CPU, the same error persists.\n\nCould it be other problems that might have caused this?\n\n\n\nThanks for the suggestion!!\n", "attachments": [], "created_by_name": "Annie Wu", "created_at": "May 22, 2017 at 9:41pm", "created_by": "AnnieWu", "replies": []}, {"body": "\nCan you\u00a0run the sample outdoor analysis file which came with the butterfly installation and see if you get any errors?\n\nI was able to run that file without any errors.\u00a0 I have set the Virtual machine ram to 10GB.\n\nBest,\n", "attachments": [], "created_by_name": "Ibby", "created_at": "May 22, 2017 at 10:28pm", "created_by": "Ibby", "replies": []}, {"body": "\nDear Ibby,\n\n\n\nI could run the original sample file without any errors, even when I did not change my settings for the virtual machine.\n\nI tried to change to 10GB, lower the tunnel params, and it still did not work.\n\nThe block mesh would stop halfway and my snappyhexmesh would not work as well.\n\n**Block Mesh stopping halfway:**\n\nSET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>Butterfly is running blockMesh. PID: None<br/>/*---------------------------------------------------------------------------*\\<br/>| ========= | |<br/>| \\\\ / F ield | OpenFOAM: The Open Source CFD Toolbox |<br/>| \\\\ / O peration | Version: v1612+ |<br/>| \\\\ / A nd | Web: [www.OpenFOAM.com](http://www.OpenFOAM.com) |<br/>| \\\\/ M anipulation | |<br/>\\*---------------------------------------------------------------------------*/<br/>Build : v1612+<br/>Exec : blockMesh<br/>Date : May 23 2017<br/>Time : 06:45:55<br/>Host : \"default\"<br/>PID : 1412<br/>Case : /home/ofuser/workingDir/butterfly/outdoor_airflow<br/>nProcs : 1<br/>sigFpe : Enabling floating point exception trapping (FOAM_SIGFPE).<br/>fileModificationChecking : Monitoring run-time modified files using timeStampMaster (fileModificationSkew 10)<br/>allowSystemOperations : Allowing user-supplied system call operations\n\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //<br/>Create time\n\nCreating block mesh from<br/> \"/home/ofuser/workingDir/butterfly/outdoor_airflow/system/blockMeshDict\"<br/>Creating block edges<br/>No non-planar block faces defined<br/>Creating topology blocks<br/>Creating topology patches\n\nCreating block mesh topology\n\nCheck topology\n\nBasic statistics<br/> Number of internal faces : 0<br/> Number of boundary faces : 6<br/> Number of defined boundary faces : 6<br/> Number of undefined boundary faces : 0<br/> Checking patch -&gt; block consistency\n\nCreating block offsets<br/>Creating merge list .\n\nCreating polyMesh from blockMesh<br/>Creating patches<br/>Creating cells<br/>Creating points with scale 1<br/> Block 0 cell size :<br/> i : 4.992714 .. 4.992714<br/> j : 4.989322 .. 29.93593<br/> k : 2.137405 .. 5\n\n\n\n**Snappyhexmesh error:**\n\nSnappyHexMeshDict.snap is changed from \"true\" to \"false\".<br/>saving the new snappyHexMeshDict.<br/>SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>SET DOCKER_TLS_VERIFY=1&amp;SET DOCKER_HOST=tcp://192.168.99.100:2376&amp;SET DOCKER_CERT_PATH=C:\\Users\\akiwya\\.docker\\machine\\machines\\default&amp;SET DOCKER_MACHINE_NAME=default&amp;docker exec -i 4c9bb2f7444b pgrep snappyHexMesh<br/>docker-machine env<br/>Butterfly is running snappyHexMesh. PID: None<br/>/*---------------------------------------------------------------------------*\\<br/>| ========= | |<br/>| \\\\ / F ield | OpenFOAM: The Open Source CFD Toolbox |<br/>| \\\\ / O peration | Version: v1612+ |<br/>| \\\\ / A nd | Web: [www.OpenFOAM.com](http://www.OpenFOAM.com) |<br/>| \\\\/ M anipulation | |<br/>\\*---------------------------------------------------------------------------*/<br/>Build : v1612+<br/>Exec : snappyHexMesh<br/>Date : May 23 2017<br/>Time : 06:47:44<br/>Host : \"default\"<br/>PID : 1643<br/>Case : /home/ofuser/workingDir/butterfly/outdoor_airflow<br/>nProcs : 1<br/>sigFpe : Enabling floating point exception trapping (FOAM_SIGFPE).<br/>fileModificationChecking : Monitoring run-time modified files using timeStampMaster (fileModificationSkew 10)<br/>allowSystemOperations : Allowing user-supplied system call operations\n\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //<br/>Create time\n\nCreate mesh for time = 0<br/>--&gt; FOAM FATAL ERROR: <br/>Cannot find file \"points\" in directory \"polyMesh\" in times 0 down to constant\n\nFrom function Foam::word Foam::Time::findInstance(const Foam::fileName&amp;, const Foam::word&amp;, Foam::IOobject::readOption, const Foam::word&amp;) const<br/> in file db/Time/findInstance.C at line 202.\n\nFOAM exiting<br/>Runtime error (PythonException): <br/> --&gt; snappyHexMesh Failed!<br/>--&gt; FOAM FATAL ERROR: <br/>Cannot find file \"points\" in directory \"polyMesh\" in times 0 down to constant\n\nFrom function Foam::word Foam::Time::findInstance(const Foam::fileName&amp;, const Foam::word&amp;, Foam::IOobject::readOption, const Foam::word&amp;) const<br/> in file db/Time/findInstance.C at line 202.\n\nFOAM exiting<br/>Traceback:<br/> line 110, in script\n\n\n\nHeres an updated file\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1755997", "name": "Building Creation_WIND.gh"}], "created_by_name": "Annie Wu", "created_at": "May 23, 2017 at 12:52am", "created_by": "AnnieWu", "replies": []}, {"body": "\nHi Annie,\n\n\n\nTHis is no longer a memory error. You need to either delete or purge the case folder and start over. It seems that your blockMesh has not created the points file which is located at constant/polyMesh folder. This could have happened because the blockmesh has not finished (if that is the whole log then blockMesh never finished). I would just clean everything and run the case again with the increased GB of memory. Make sure to take note of the total cells at the end of the blockMesh log.\n\n\n\nAlso, as a rule of thumb you can usually have a bit less than 1 million cells per 1GB of memory, although with modern operating systems you should set your max always a bit lower than your total memory.\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "June 7, 2017 at 4:22am", "created_by": "TheodorosGalanos", "replies": []}]}]}