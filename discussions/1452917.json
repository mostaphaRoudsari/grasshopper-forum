{"body": "\nI have a large energyplus results file in csv format which is about 200MB. The **Read EP Result** component takes more than 10 minutes to read it...\n\n\n\nMay I ask if there is a more efficient way to read large Eplus csv result file?\n\n\n\nThanks!\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 2, 2016 at 8:46am", "created_by": "Grasshope", "topic": "how to read large EPlus csv result file efficiently?", "replies": [{"body": "\nI'm afraid you are going to drink a lot of coffee ... :-)\n\n200 Mb is a lot of building.\n\nCSV is not the more efficient file but this is what we have in HB. Maybe SQL can be more efficient to draw data, but it depends what do you want to do and how.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 2, 2016 at 9:29am", "created_by": "AbrahamYezioro", "replies": [{"body": "\nGrasshope,\n\nHaving E+ output an SQL file as Abraham states can help you pull aggregate sums/averages of dataset out without having to bring all of the small pieces of data in. \u00a0However, if you want all of the data to come in, SQL is going to take the same amount of time to import to GH as the CSV does. \u00a0So, in the end, there is no better substitute for reducing the amount of time it takes to import the data than to specify only the outputs you are interested in and at the timestep that you need the data at (ie monthly instead of hourly).\n\nThis is one of the reasons why I have been a bit lazy about building out the SQL importing features since, even though it might help improve the import time a bit in a few casese, most of the time I am best off only requesting the outputs that I need or simulating only the portion of the energy model needed to answer the question I am asking.\n\nWhat data and timestep are trying to get in your case here? \u00a0There may be a chance for SQL to help and this could be the excuse that I need to implement some SQL capabilities.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 3, 2016 at 1:21pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nGrasshoppe,\n\nAs Chris mentioned if you're not looking for all the results there are solutions to make it happen faster even by parsing csv file.\u00a0Are you trying to input all the data or just need a specific data?\n\nOne of the main issues with generating SQL file is that generating the sql file itself takes a very long time.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 3, 2016 at 2:54pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nDear Chris and Mostapha,\n\n\n\nThe IDF file is generated from a workflow similar to Chris' outdoor microclimate map demo file on Hydra. So, only the output variables relevant to microclimate map analysis and total thermal energy are specified.\n\n\n\nThe huge size of the IDF file might be attributed to the total number of zones (77) and the hourly time step for simulation.\n\n\n\nWhy I need annual hourly results is because I want to calculate the percentage of outdoor spaces with an annual average UTCI temperature within the comfortable range of 9-26 degrees.\n\n\n\nUnless I'm only interested in the UTCI of a particular hour, I'm not sure how I can simplify the workflow to reduce the size of the csv file and consequently, reducing the time to read the csv file...\n\n\n\nAppreciate your advice!\n\nTHanks!\n\n\n\n\n\n\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 4, 2016 at 9:32am", "created_by": "Grasshope", "replies": []}, {"body": "\nHmm... Can this be done in several steps? Is it a parametric study or are the geometries stay the same? I assume you run the energy simulation to get the surface temperature and in this case you only need the exterior surface temperature. I think there are a number of outputs that can be removed which might help to reduce the size of the file.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 4, 2016 at 9:57am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThanks, Mostapha!\n\n\n\nIt's a study using several different building forms.\n\n\n\nAre **zoneAirFlowVol** and **zoneAirHeatGain** necessary for outdoor microclimate map analysis?\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl1FzKRbjpn6SQ6GOQL1k1bQieWmLFEWlgewGm*7pHkcVbhMZB-l4kxsxTKjMG2983GTEOuNukAbtPoCIH9fKAOv/Capture.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/QSAjpdZCfl1FzKRbjpn6SQ6GOQL1k1bQieWmLFEWlgewGm*7pHkcVbhMZB-l4kxsxTKjMG2983GTEOuNukAbtPoCIH9fKAOv/Capture.PNG)\n\nIf they are not \"must have\" output for this type of analysis, can we just specify the **zoneComfortMetrics** and **surfaceTempAnalysis** as simulation output?\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl3ps7DWFaupLILKWNazHsj6RQku7uqSGgt4kaVJN2K2KhGfKUz5GURUFRL61cnhbnBuUiiblFYTyUZMq9NtAtJp/2.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/QSAjpdZCfl3ps7DWFaupLILKWNazHsj6RQku7uqSGgt4kaVJN2K2KhGfKUz5GURUFRL61cnhbnBuUiiblFYTyUZMq9NtAtJp/2.PNG)\n\nAnd if zone related parameters are not necessary, the **zoneComfortMetrics** output can be removed too, which may reduce the size of the csv file significantly... ?\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 4, 2016 at 10:13am", "created_by": "Grasshope", "replies": []}, {"body": "\nOK, it seems the three groups of output variables, **zoneComfortMetric**, **comfortMapVariables** and **surfaceTempAnalysis** need to be specified to use the **microclimate map analysis** component.\u00a0\n\n\n\nAnd, without outputting **zoneEnergyUse**, the csv file can be reduced significantly ... from 50MB to 3.7MB!\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl1ddpUVtytJtIhMVKxAdyw1ef3SpaYK5DyVS3miYVuk8T7tmYiVZP14FyhF9cBgCliPwiGb70QbsdqzqMQUGCvk/3.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/QSAjpdZCfl1ddpUVtytJtIhMVKxAdyw1ef3SpaYK5DyVS3miYVuk8T7tmYiVZP14FyhF9cBgCliPwiGb70QbsdqzqMQUGCvk/3.PNG)\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 4, 2016 at 10:29am", "created_by": "Grasshope", "replies": []}, {"body": "\nGrasshope,\n\nA few months ago, I made it so that, if you are running the UTCI comfort map with only outdoor surfaces, the only thing that you need from the EnergyPlus simulation is the outdoor surface temperature.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl30aLf4LSebA*UNbopx44QZnQTyiEO-H0AwSDgs*-b7d5NRJz5YR-WqzZMUv69L7L3HzoZ9sJMOdcWI3MpSppM*/FastOutdoorClimateMap.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/QSAjpdZCfl30aLf4LSebA*UNbopx44QZnQTyiEO-H0AwSDgs*-b7d5NRJz5YR-WqzZMUv69L7L3HzoZ9sJMOdcWI3MpSppM*/FastOutdoorClimateMap.JPG)\n\nThe image above and the file attached show you that you can really boil it down to just this one output that you need from the E+ simulation for your case. \u00a0You can even connect up a panel with only that output to the **Run Simulation** component to get a much faster import of data from the CSV.\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1454937", "name": "FastOutdoorClimateMap.gh"}], "created_by_name": "Chris Mackey", "created_at": "February 4, 2016 at 2:52pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nAlso, I should really update that Hydra outdoor microclimate example now that this workflow is possible. \u00a0Thanks for making me aware of it.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 4, 2016 at 2:55pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHey Chris,\n\n\n\nThanks for sharing the file! That's amazing. I will be using your workflow to conduct yearly outdoor thermal comfort studies once my CFDs progress and a fast way to get me started is what the doctor ordered :)\n\n\n\nI do have a question though, I apologize in advance if it is obvious I've never run this to know the intricacies. Do we care about the type/typology/size/ etc. of the zone if we are only focusing on outdoor temperatures? I have two adjacent buildings on a public realm I'm studying but these buildings are one big box atm. Is it crucial to define specifically the facade (i.e. material distribution) and the use of the zones to get accurate results or is one big ass zone enough for a good assessment?\n\n\n\nThanks in advance.\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 5, 2016 at 6:26am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nDear Chris,\n\n\n\nThank you very much for your advice! This should increase the efficiency of outdoor microclimate analysis significantly.\n\n\n\nYour example file works on my computer. So, I tested on my file attached here by specifying only the output variable related to surface outdoor temperature. However, I got the following warnings :\n\n**1. If you have connected a viewFactorMesh that includes regions on the indoors, you must connect up energy simulation data for zoneAirTemp, srfIndoorTemp, zoneAirFlowVol, zoneAirHeatGain, and zoneRelHumid.**\n\n\n\nI checked the workflow, and it seems to be the same as your (except those complicated geometry generation workflow). Appreciate if you can help to take a look and advise what I have missed here.\n\n\n\nThank you very much!\n\n\n\n**[<img class=\"align-full\" src=\"http://api.ning.com:80/files/46eV39TuMKiXwQmzcWQ*ezCO5h1TC00XFddq*1JrKP0gWP7Dn49HfSXqUEsmKL4Vo3nMzlCCdmOpq6wqcXIDY3Oa2DKPG97A/1.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/46eV39TuMKiXwQmzcWQ*ezCO5h1TC00XFddq*1JrKP0gWP7Dn49HfSXqUEsmKL4Vo3nMzlCCdmOpq6wqcXIDY3Oa2DKPG97A/1.PNG)**[<img class=\"align-full\" src=\"http://api.ning.com:80/files/46eV39TuMKjCQQGMVD3ieo0hewDLfM-6n6M*ixPgbe6QUTauScL1IJbZpBGXb9qycSkUEkqgQbFPSiMPhm00GBrmgkHajdIb/2.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/46eV39TuMKjCQQGMVD3ieo0hewDLfM-6n6M*ixPgbe6QUTauScL1IJbZpBGXb9qycSkUEkqgQbFPSiMPhm00GBrmgkHajdIb/2.PNG)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1455614", "name": "typology_v085_UTCI_simple_workflow_test.gh"}], "created_by_name": "Grasshope", "created_at": "February 5, 2016 at 7:10am", "created_by": "Grasshope", "replies": []}]}], "id": "1452917"}