{"body": "\nHi!\n\nThis is the first time I try Dynamic Shading in Honeybee, and please let me know if \u00a0there were any mistakes in the grasshopper file.\u00a0\n\n\n\nThe case is a simple test box: Curtain on the east glazing wall could either be pulled back at the corner as a 2 meter solid surface, or cover the whole glass as a trans material (trans for now, BSDF in the future). The sensor is on the floor next to the glass: when there is direct sunlight, the curtain expands to cover the whole glass. When there is no direct sunlight on the floor sensor, the curtain is pulled back at the corner.\n\n\n\nHowever, I tried to run the simulation based on this setting and other posts in this forum, **I can only get the ill results as below, and the resultfiles output of the runDaylightAnalysis component shows NULL.**\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/lHx7t9jngWcpUa6FI1a6eRS18wx37YsR6j8ukC4c-iyRC0tgkjPtf9ycXxCy4o4RVxIz7h-0Ub61J-9xjZ1FqmHRd*S9cDb6/Capture.JPG\" width=\"586\"/>](http://api.ning.com:80/files/lHx7t9jngWcpUa6FI1a6eRS18wx37YsR6j8ukC4c-iyRC0tgkjPtf9ycXxCy4o4RVxIz7h-0Ub61J-9xjZ1FqmHRd*S9cDb6/Capture.JPG)\n\n\n\nAny advice on fixing this issue would be much appreciated! I also attached the model and grasshopper file.\n\n\n\nFor the future test, my understanding is: if we control East Shade and South Shade based on the sensor on each side (east sensor and south sensor), they should be two **different Shade Groups**? Thanks!\u00a0\n\n\n\nI checked the old example file here:\u00a0[http://www.grasshopper3d.com/group/ladybug/forum/topics/dynamic-sha...](http://www.grasshopper3d.com/group/ladybug/forum/topics/dynamic-shading-analysis-example).\n\n\n\nI also checked the gh file in this discussion:[http://www.grasshopper3d.com/group/ladybug/forum/topics/annual-prof...](http://www.grasshopper3d.com/group/ladybug/forum/topics/annual-profiles-doesnt-math-with-the-point-groups?page=2&amp;commentId=2985220%3AComment%3A1202182&amp;x=1#2985220Comment1202182)\n\n\n\nThanks!\n\nBest,\n\nXF\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1713364", "name": "Test_DynamicShading.3dm"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1713365", "name": "Test_DynamicShading.gh"}], "created_by_name": "XF", "created_at": "March 15, 2017 at 6:24pm", "created_by": "XF", "topic": "Honeybee Dynamic Shading: Cannot generate result files", "replies": [{"body": "\nSorry I do not have the time to run your file.\u00a0\n\nIf you are controlling the east shade and south shade separately, they should be in different shading groups.\u00a0\n\nFor the following image, i have two shading groups with three states (open, half down and full down).\u00a0\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/oS9GPNprEigTtMZ8Og0vH7asNwa07Vjo3AXAgOLsgKRNb01uSPW7DjUckT5zm2ainhWTxZnDfQXgMe5IP*lKIF-3I0vfHLYF/12.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/oS9GPNprEigTtMZ8Og0vH7asNwa07Vjo3AXAgOLsgKRNb01uSPW7DjUckT5zm2ainhWTxZnDfQXgMe5IP*lKIF-3I0vfHLYF/12.JPG)\n\nAt the same time, i found your max and min illuminance is a bit odd. More details can be found here:\u00a0[LINK](http://daysim.ning.com/page/daysim-shading-control-modes).\n\n\n\nFrom your GH file, I cant see how you are trying to view your files but if you have those .ill files, you should be able to see the files.\u00a0\n\n\n", "attachments": [], "created_by_name": "Willy Tsui", "created_at": "March 15, 2017 at 11:04pm", "created_by": "WillyTsui", "replies": [{"body": "\nAs Willy mentioned your assumptions are correct, and you already have the ill files generated. Does the component give you any errors or warnings?\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "March 16, 2017 at 6:01am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha, Willy,\n\n\n\nThanks for your kind help! No the component gave me no errors or warnings. After running the simulation and got the ill files generated, the component shows as below:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/fZ7LFFJLJtOoUmEx2frWgiQf7SaW7NHIxRJu*1kH12A3kVLPMKxSLd*3xbcUF-uicNeCe6wnFvX0k6gBA20OxPsqluyrA-kP/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/fZ7LFFJLJtOoUmEx2frWgiQf7SaW7NHIxRJu*1kH12A3kVLPMKxSLd*3xbcUF-uicNeCe6wnFvX0k6gBA20OxPsqluyrA-kP/Capture.JPG)\n\nSo I have the East_Shade_0.ill,\u00a0East_Shade_state_1_0.ill, and\u00a0East_Shade_state_2_0.ill, but nothing shows up for annual analysis files or the lookupFolder_Daylighting/illFiles.\n\n\n\nAlso the shading illuminance thresholds may be odd: The assumption is the shade\u00a0could either be pulled back at the corner as a 2 meter solid surface (State 1), or cover the whole glass as a trans material (State 2). The sensor is on the floor next to the glass: when there is direct sunlight (more than 10000 lux at sensor), the curtain expands to cover the whole glass. When there is no direct sunlight on the floor sensor (less than 10000 lux at sensor), the curtain is pulled back at the corner.\n\nSo I adjusted the DSShadingState as below:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/fZ7LFFJLJtNrO0RogclyeKZiLpqL*3KvnFNpsMwfpNAAOu2a49pQZJGHZtr4lRo-hSYyUMIlxijQDZnPqOaTe60J7zxW70nS/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/fZ7LFFJLJtNrO0RogclyeKZiLpqL*3KvnFNpsMwfpNAAOu2a49pQZJGHZtr4lRo-hSYyUMIlxijQDZnPqOaTe60J7zxW70nS/Capture.JPG)\n\n\n\nPlease let me know if the shading control threshold won't work this way or any other tests I should run to figure out the problem. Thanks!\n\n\n\nBest,\n\nXF\n\n\n", "attachments": [], "created_by_name": "XF", "created_at": "March 16, 2017 at 10:36am", "created_by": "XF", "replies": []}, {"body": "\nDid you try the component lookupfolder_daylighting ?\n\nI dont think the sensors account for direct sun only.\u00a0\n", "attachments": [], "created_by_name": "Willy Tsui", "created_at": "March 16, 2017 at 2:05pm", "created_by": "WillyTsui", "replies": []}, {"body": "\nHi Willy,\n\n\n\nThanks! Yes I checked the lookupfolder_daylighting component, and the output for ill files is null.\n\nI tried to structure the current 3 ill files into data with 3 branches, and connected that to ill files address, I was able to generate an annual profile, however the readDSHourlyResults showed an error \"1. Number of annual profiles doesn't match the number of shading groups! NOTE: If you have no idea what I'm talking about just disconnect the annual Profiles. In that case the component will give you the results with no dynamic shadings.\"\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/cYJbDW7C4z6shLLygOkctCIcnA7EW2vUPlIsM7bCLBGzeNNs7knDHijSTYljzvXqL4FAcU8uL3vp*wo1GJNQDZytmQTIDsfl/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/cYJbDW7C4z6shLLygOkctCIcnA7EW2vUPlIsM7bCLBGzeNNs7knDHijSTYljzvXqL4FAcU8uL3vp*wo1GJNQDZytmQTIDsfl/Capture.JPG)\n\n\n\nI also attached the updated gh file and ill files as below. I don't know why the components won't recognize the ill files. Thanks!\n\nThe shade schedule look like below:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/cYJbDW7C4z5AJZeKx4PT*OhxhNes0HIJ283QcgIA*rOgYZo1Prfi1Ug3Ek8I1iOFOUu1uGCa3en4CApo-83BD0yL95XqwOB1/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/cYJbDW7C4z5AJZeKx4PT*OhxhNes0HIJ283QcgIA*rOgYZo1Prfi1Ug3Ek8I1iOFOUu1uGCa3en4CApo-83BD0yL95XqwOB1/Capture.JPG)\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1714225", "name": "Test_DynamicShading.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1714226", "name": "East_Shade_ill.zip"}], "created_by_name": "XF", "created_at": "March 16, 2017 at 2:40pm", "created_by": "XF", "replies": []}, {"body": "\nIt is because your path for the study folder doesnt need to include the annual simulation. You just need the path up the east shade and you specify the study type (for annual simulation, it should be 5 ). Then you just have to refresh it and everything should look great.\u00a0[<img class=\"align-full\" src=\"http://api.ning.com:80/files/cYJbDW7C4z4-M1wJ9QA4dBjV9YXJ7n9sN8AvmW2MRusqC0YZTwHUlfrqQrQSqmBQmj35NdYi5jRiPsWm6wpdGSSvO9AC-83-/Capture.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/cYJbDW7C4z4-M1wJ9QA4dBjV9YXJ7n9sN8AvmW2MRusqC0YZTwHUlfrqQrQSqmBQmj35NdYi5jRiPsWm6wpdGSSvO9AC-83-/Capture.PNG)\n", "attachments": [], "created_by_name": "Willy Tsui", "created_at": "March 16, 2017 at 4:05pm", "created_by": "WillyTsui", "replies": []}, {"body": "\nHi Willy,\n\n\n\nThanks so much! It works! Although I'm not sure why the initial reading annual results component won't work. Also in your simulation, may I know what is the upper limit for the number of dynamic shading groups that you can have in Daysim? Thanks!\n\n\n\nBest,\n\nXF\n", "attachments": [], "created_by_name": "XF", "created_at": "March 17, 2017 at 3:58pm", "created_by": "XF", "replies": []}, {"body": "\nThe signal is variable, it based on what you are trying to do. I am not an expert on this subject but the purpose of dynamic shading is blocking excessive direct sunlight. Therefore, you should look some illuminance at a certain hour during the year (winter and summer solstice, 9,12,15 hour) when the spaces receives direct sunlight based on the azimuth angle of the facade. There is some more advanced approach to control the shades is looking at the profile angle and the illuminance value at the same time which I believe could be done through the glarecontrol_recipe.\u00a0\n\n\n\n\n\n\n\n\n\n\n", "attachments": [], "created_by_name": "Willy Tsui", "created_at": "March 17, 2017 at 6:16pm", "created_by": "WillyTsui", "replies": []}, {"body": "\nThanks Willy! It\u2018s very helpful!\n\n\n\nBest,\n\nXF\n", "attachments": [], "created_by_name": "XF", "created_at": "March 20, 2017 at 8:49am", "created_by": "XF", "replies": []}]}]}