{"body": "\nI got the following error testing the outdoor demo file for butterfly:\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/rCHOz11yrqtZganoV5tNlfg1RgKqLW0dQpmRl9y5g7vVph9G9fwcnnxe7jBr7enE4P61*w2d0RUnod0fiKSQsPXVlQBP3zzy/Image46.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/rCHOz11yrqtZganoV5tNlfg1RgKqLW0dQpmRl9y5g7vVph9G9fwcnnxe7jBr7enE4P61*w2d0RUnod0fiKSQsPXVlQBP3zzy/Image46.png)\n\n\n\nI followed the advice on [https://github.com/mostaphaRoudsari/Butterfly/wiki/Getting-Started-...](https://github.com/mostaphaRoudsari/Butterfly/wiki/Getting-Started-with-butterfly) and changed the container name to \"of_plus_1606\" in the runmanager.py script file based on the output of \"docker ps\" in docker terminal:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/rCHOz11yrqt3frAvQEwCo0xA8UKgBVDhGTxtP-7LWqiejcDz--QfmX0bZlDqWAVkHjQ6n7okbJU3pEQiLeZ6dUgVPuyB-Oj2/Image44.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/rCHOz11yrqt3frAvQEwCo0xA8UKgBVDhGTxtP-7LWqiejcDz--QfmX0bZlDqWAVkHjQ6n7okbJU3pEQiLeZ6dUgVPuyB-Oj2/Image44.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/rCHOz11yrqvzGI2sy5UqL2yQ13pvZm-dDyNF1qyhz-hzHOrCQ46z7exbRewAlNOSbFK5Je9ML1qROOh*KBFBFipDBJoTqSUp/Image43.png\" width=\"610\"/>](http://api.ning.com:80/files/rCHOz11yrqvzGI2sy5UqL2yQ13pvZm-dDyNF1qyhz-hzHOrCQ46z7exbRewAlNOSbFK5Je9ML1qROOh*KBFBFipDBJoTqSUp/Image43.png)\n\nHowever, the error is still here, and I can't proceed to the rest components in the workflow...\n\n\n\nThe demo workflow can generate the \"outdoor_airflow\" project folder in the C:\\Users\\USERNAME\\butterfly folder\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/rCHOz11yrqsRpGTqErWSyfus8i5EAi9vSxWN-dHEMGtD7*b7x11Y0fE0KbzPlgKUAirpHKCtQcuB2HwRin*zEI-GqmfgLgAZ/Image48.png\" width=\"150\"/>](http://api.ning.com:80/files/rCHOz11yrqsRpGTqErWSyfus8i5EAi9vSxWN-dHEMGtD7*b7x11Y0fE0KbzPlgKUAirpHKCtQcuB2HwRin*zEI-GqmfgLgAZ/Image48.png)\n\nSo, I start OpenFOAM using the start_OF.bat file, and I can manually type and run the following OpenFOAM command: blockMesh, snappyHexMesh, checkMesh, manually change some of the parameters in controlDict and fvSolution.\n\n\n\nHowever, I got the following error when running simpleFoam, and the calculation is aborted.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/rCHOz11yrqvTY9SBr*DP*9Gxu7CQSBEqT49XwXVpFfZehJg0agjbHpacehv7KTZ64sTrRUYzQ4K8EkuQf7F10oO1bKnreD5K/Image49.png\" width=\"586\"/>](http://api.ning.com:80/files/rCHOz11yrqvTY9SBr*DP*9Gxu7CQSBEqT49XwXVpFfZehJg0agjbHpacehv7KTZ64sTrRUYzQ4K8EkuQf7F10oO1bKnreD5K/Image49.png)\n\nMay I ask:\n\nwhy the blockMesh component is not running even if I changed the container number in the rummanager.py as suggested?\n\n\n\nWhy the manual running of OpenFoam failed?\n\n\n\nThanks!\n\n\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "August 2, 2016 at 2:14am", "created_by": "Grasshope", "topic": "[clarified and WIP] butterfly doesn't work with OpeFOAM v1606", "replies": [{"body": "\nHi Grasshoppe,\n\n\n\nThe new OF version is using a new Docker technology that Mostapha believes will make installation/setting up OF + BF interaction much easier. Unfortunately, it does not at the time work. I believe this is the n1 item on the list and it will be fixed until the public release coming shortly. Hang in there!\n\n\n\nCheck:\u00a0[https://github.com/mostaphaRoudsari/Butterfly/issues/43](https://github.com/mostaphaRoudsari/Butterfly/issues/43)\n\n\n\nIn the meantime, please let us know of the values you had to change manually in controlDict and fvSolution. Was that due to wrong values set from BF or was it because they weren't updated through BF?\u00a0\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "August 2, 2016 at 11:57am", "created_by": "TheodorosGalanos", "replies": [{"body": "\nHi Theodoros, Thank you very much for the clarification!\n\n\n\nYes, the installation of the latest OpenFOAMv1606 is much smoother.\n\n\n\nAllow me to explain my procedures to run the demo file:\n\n\n\nSince the current demo file of Butterfly doesn't work with OpenFOAM v1606, I used the case file generated from the Create Case file component.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx9Wf7X9e6vaJQNMYBLsQcklyqq*eumdWlFAIUZHjcDpB945NWGWas82-As9vsez2-aVriyE6cIu*Aoptgotb0f7/Image1.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/Mu*joc1jlx9Wf7X9e6vaJQNMYBLsQcklyqq*eumdWlFAIUZHjcDpB945NWGWas82-As9vsez2-aVriyE6cIu*Aoptgotb0f7/Image1.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx92WhJo4k6mkWTvr4zJJ9BwcOsLn9KISDtCoAFS86MMw-HcUHG35VKaz34n-4KYBKpJB2LOKSVjYxpN3o2PE6WR/Image2.png\" width=\"172\"/>](http://api.ning.com:80/files/Mu*joc1jlx92WhJo4k6mkWTvr4zJJ9BwcOsLn9KISDtCoAFS86MMw-HcUHG35VKaz34n-4KYBKpJB2LOKSVjYxpN3o2PE6WR/Image2.png)\n\n\n\nthen I start OpenFOAM:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx8UdbuJt1zsak3dd1XbnMyw7KahZQsBWezAXkcJkCkQQxUcoUg*LuoJ5A78YcCwDXlf3wF*68p4AhvPD8YVo33m/Image4.png\" width=\"664\"/>](http://api.ning.com:80/files/Mu*joc1jlx8UdbuJt1zsak3dd1XbnMyw7KahZQsBWezAXkcJkCkQQxUcoUg*LuoJ5A78YcCwDXlf3wF*68p4AhvPD8YVo33m/Image4.png)\n\n\n\nrun blockMesh:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx*HTeNlwjZGldMIeQlI6jbNdHXpGYXTdxYrwH45hbXB31PIX-ZgPem3nOcNvUFEQ8v*f--iWPmSuKjiOjnNjGna/Image5.png\" width=\"667\"/>](http://api.ning.com:80/files/Mu*joc1jlx*HTeNlwjZGldMIeQlI6jbNdHXpGYXTdxYrwH45hbXB31PIX-ZgPem3nOcNvUFEQ8v*f--iWPmSuKjiOjnNjGna/Image5.png)\n\n\n\nrun snappyHexMesh:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx8qvhDAYhxDV*wQkmkQgXjeDl4VS-8440Mrh2NTRe92EjlEDkiqHeqPWLv*SvvLl2BQ1lGCJmEMgEawQP3yrPBW/Image6.png\" width=\"668\"/>](http://api.ning.com:80/files/Mu*joc1jlx8qvhDAYhxDV*wQkmkQgXjeDl4VS-8440Mrh2NTRe92EjlEDkiqHeqPWLv*SvvLl2BQ1lGCJmEMgEawQP3yrPBW/Image6.png)\n\n\n\nrun checkMesh, and there is one check failed\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx8tEICSrjaLzCvG4gLQ9PHKSb6lhVpTFIWP8juXVC*I4XT849h6gPWMvGGBTkj*F8YuhL3ZrJwNMFNlX0Q1VSWo/Image7.png\" width=\"665\"/>](http://api.ning.com:80/files/Mu*joc1jlx8tEICSrjaLzCvG4gLQ9PHKSb6lhVpTFIWP8juXVC*I4XT849h6gPWMvGGBTkj*F8YuhL3ZrJwNMFNlX0Q1VSWo/Image7.png)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx9MPCzDNuyPqudVrKr8afeaxlD0UWvmxcS7qbMMK5GpKW5Epz*S79oMq3sO-RFjz5gVG5F09V43owQYFgKjVF5x/Image8.png\" width=\"665\"/>](http://api.ning.com:80/files/Mu*joc1jlx9MPCzDNuyPqudVrKr8afeaxlD0UWvmxcS7qbMMK5GpKW5Epz*S79oMq3sO-RFjz5gVG5F09V43owQYFgKjVF5x/Image8.png)\n\n\n\nI didn't manage to run updateFvSchemes, or this is not the correct command for this step as it didn't work obviously ...\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx*3B*R-ScP2gbfQFhUXNgRowZN3DhACtUvPpN6kldkvbVyF5cP7asAXSQM6WpvGkXZkWEArKX6WxMqvxp*a660-/Image11.png\" width=\"664\"/>](http://api.ning.com:80/files/Mu*joc1jlx*3B*R-ScP2gbfQFhUXNgRowZN3DhACtUvPpN6kldkvbVyF5cP7asAXSQM6WpvGkXZkWEArKX6WxMqvxp*a660-/Image11.png)\n\n\n\nNevertheless, I continued to modify the following files:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx*qC50pn-THrhNnoQ8LGJssqzOfRj7GZfc5AM234ogwx71TykogjYjIkRBbFIJK-Wb2mlikaeGJSXt3smHaEALf/Image9.png\" width=\"364\"/>](http://api.ning.com:80/files/Mu*joc1jlx*qC50pn-THrhNnoQ8LGJssqzOfRj7GZfc5AM234ogwx71TykogjYjIkRBbFIJK-Wb2mlikaeGJSXt3smHaEALf/Image9.png)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx8bWlZRWoAkbpgPrdFbHQgP6iXPfR43UboqGxO0OiTKhPk4OQJQnJ1DAckL8Go8ZWHcjHoH*0HsK0nxHGpuxCks/Image10.png\" width=\"458\"/>](http://api.ning.com:80/files/Mu*joc1jlx8bWlZRWoAkbpgPrdFbHQgP6iXPfR43UboqGxO0OiTKhPk4OQJQnJ1DAckL8Go8ZWHcjHoH*0HsK0nxHGpuxCks/Image10.png)\n\n\n\nand lastly, run simpleFoam which was not successful:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Mu*joc1jlx*YdCaUOVGBNPSpt*sHr2H2tkM730YMKM-15VZLVspwPypph6XcCjeQPRncpSnvkoQhTJitWjBVeZHMjXp1cia-/Image12.png\" width=\"666\"/>](http://api.ning.com:80/files/Mu*joc1jlx*YdCaUOVGBNPSpt*sHr2H2tkM730YMKM-15VZLVspwPypph6XcCjeQPRncpSnvkoQhTJitWjBVeZHMjXp1cia-/Image12.png)\n\nI have to admit that I'm only trying to follow the steps and get the demo simulation running correctly, and I haven't started to understand what each step is doing and the parameters associated. I think I must have missed important steps or specified wrong command in this process, and hope you can kindly advise.\n\n\n\nThank you!\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "August 2, 2016 at 9:02pm", "created_by": "Grasshope", "replies": []}, {"body": "\nHi Grasshoppe,\n\n\n\nI am terribly sorry for the late response. Let's take this one by one.\n\n\n\nThe first two steps seem to be ok. Did you supply a grading to your initial blockMesh through the BF components? It seems that the X and Z direction are graded, with the grading in the X direction not being symmetrical (which is ok if X is the wind direction). If you didn't we would need to check our default settings but if memory serves they should be set at no grading.\u00a0\n\n\n\nAs a side note here, a suggestion is to keep your refinement levels, either global or the ones set per boundary, to equal (optimal case) or not very different values. The (2,10) you supplied could potentially create sudden cell size changes which is not optimal, even though probably the 10 isn't going to be used. Settings like (2,3) or (2,4) would be ok. If you want to go higher, raise both numbers.\n\n\n\nThe update fvSchemes functionality is an added option of BF itself and not a command within OF. Essentially what it does is apply proper schemes to your model according to the mesh quality you have achieved. This is why OF won't recognize it. When we get BF going with the new version this will be done automatically for you.\n\n\n\nFinally, the error you are seeing is again eliminated through the use of BF which takes care of the clean up and folder set up for you prior to running the case. For now, to do it manually, what you need to do is this:\n\n\n\n1.Delete the /constant/polyMesh folder\n\n2.Cut the polyMesh folder from the /2 folder and paste it to your /constant/polyMesh folder.\n\n3.Delete the /1 and 2/ folders\n\n4.Rename the /0.org folder to /0 (if that was not the case already)\n\n4a.Run the case in serial mode with the simpleFoam command.\n\nor\u00a0\n\n4b.Run the case in parallel with:\n\n\u00a0 \u00a0 \u00a0 \u00a0 decomposePar<br/>\u00a0 \u00a0 \u00a0 \u00a0 mpirun -np x simpleFoam -parallel\n\n\n\nWhere the x is the number of processors set in your decomposeParDict found in the /system folder, usually set at 4. You can change that number of processors by simply changing that number in the beginning of the dictionary. To avoid other problems here with different number of processors change to scotch method in the same dictionary.\n\n\n\nP.S.: Another easier but dirty (to my sensibilities) way is to simply paste the 0 folder inside the 2 folder. Provided boundaries and boundary conditions are set ok this should run. This would work for the serial way.\n\n\n\nI hope this helps! When BF is up and running soon most of this will be hidden in the background. But the brute force method you are taking now is also quite educational.\n\n\n\nLet me know if you have any other questions or issues! Thanks for testing!\n\n\n\nKind regards,\n\nTheodore. \u00a0\u00a0\n\n\n\n\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "August 5, 2016 at 7:05am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nThank you very much, Theodore, for the detailed advice!\n\n\n\nI followed your suggestions from step 1 to 3.\n\n\n\nAs to step 4b, i got the following error when running ****decomposePar****:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypWvEcC5NN6VCXoa*2shym*4lO9hJEEXgxE3wjV4PLSP2MCSf*i*Zidz0212Np*huU-SCD9B8LjUGgRvHKEcRowG/Image7.png\" width=\"646\"/>](http://api.ning.com:80/files/zx76UXNCypWvEcC5NN6VCXoa*2shym*4lO9hJEEXgxE3wjV4PLSP2MCSf*i*Zidz0212Np*huU-SCD9B8LjUGgRvHKEcRowG/Image7.png)\n\n\n\nSo, I run the simulation not in parallel: ****simpleFoam****, and the the it converges after 1769 iterations:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypU9716ADRiV9ehUISSJGZiM-0xlrPbTA26MvWO3WuQcGXvJO4bP3BV0ZBXOVGfBJwUjdnT7a7Oj6-SLdA67Zl13/Image8.png\" width=\"645\"/>](http://api.ning.com:80/files/zx76UXNCypU9716ADRiV9ehUISSJGZiM-0xlrPbTA26MvWO3WuQcGXvJO4bP3BV0ZBXOVGfBJwUjdnT7a7Oj6-SLdA67Zl13/Image8.png)\n\n\n\nSeveral new folders were created in the case folder:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypXtnsZh9Bm14r31-THjQHdRt5HjHYx3z5oQ9I4bInzZTtjCMlXMZdS3IPNj5WpazBAa8INeNLuqz73FppSwd8kM/Image9.png\" width=\"161\"/>](http://api.ning.com:80/files/zx76UXNCypXtnsZh9Bm14r31-THjQHdRt5HjHYx3z5oQ9I4bInzZTtjCMlXMZdS3IPNj5WpazBAa8INeNLuqz73FppSwd8kM/Image9.png)\n\nI opened the case file in PareView, which gives the following error message:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypXRHOysWqw7BUJoNqlJllLkk5obDIiV9EY0MyqJYz*fny1WkNuHbNSuegQLkx3FYqoPIfmwOTs*VYfj4yyDaeew/Image1.png\" width=\"654\"/>](http://api.ning.com:80/files/zx76UXNCypXRHOysWqw7BUJoNqlJllLkk5obDIiV9EY0MyqJYz*fny1WkNuHbNSuegQLkx3FYqoPIfmwOTs*VYfj4yyDaeew/Image1.png)\n\nNevertheless, the results can still be visualized, but I'm not sure if the visualization is correct:[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypUGJRDjNVH4rQwTtAAM1I6b9QE9RuAyK1axpVwJBVXgdg1c3nGrvX*-evyj6JwbWvBwe9JIJC7i-Ku1n4nhA4m6/Image2.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/zx76UXNCypUGJRDjNVH4rQwTtAAM1I6b9QE9RuAyK1axpVwJBVXgdg1c3nGrvX*-evyj6JwbWvBwe9JIJC7i-Ku1n4nhA4m6/Image2.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypUH---oUpsHppwFjQuUaD6dJZuaJHfozWS3-VXOqu8i8EQ88q7GxPkZzbnFhobRR9kBlsoXI2ro92ggDR7Bg4mY/Image4.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/zx76UXNCypUH---oUpsHppwFjQuUaD6dJZuaJHfozWS3-VXOqu8i8EQ88q7GxPkZzbnFhobRR9kBlsoXI2ro92ggDR7Bg4mY/Image4.png)\n\n... and additional error messages keep coming out:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypWdqKO3jDz-WtVBrZjK6NJtzA3k4bZQoS-PvVfhnac8MDYLQ5te4zBAq6wFPHKuuK-ybj1YbopZp3JMTA5yNeHC/Image6.png\" width=\"657\"/>](http://api.ning.com:80/files/zx76UXNCypWdqKO3jDz-WtVBrZjK6NJtzA3k4bZQoS-PvVfhnac8MDYLQ5te4zBAq6wFPHKuuK-ybj1YbopZp3JMTA5yNeHC/Image6.png)\n\n\n\nHope you can kindly advise if the results are correct and what to do with the error message during visualization in ParaView.\n\n\n\nThank you very much!\n\n\n\n\n\n\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "August 6, 2016 at 1:17am", "created_by": "Grasshope", "replies": []}, {"body": "\nHi Grasshoppe,\n\n\n\nWell done! That's a CFD simulation alright!\n\n\n\nResults look ok, I mean it's hard to judge since this one is a simple case and not a real model of an area where we have some expected results.\n\n\n\nIn the visualization, points is an interesting option. It's a matter of aesthetics I guess, I go with surfaces :) Also what you can try is selecting Filters -&gt; Slice (you can also find it in the icons above the pipeline viewer), in the Slice options below the pipeline press Z normal and on the Z coordinate press some height relevant to the buildings (e.g. 1.75m a typical human scale). That would show you the flow around the buildings on that height. Experiment with selecting other normals and values. Keep playing with the filters there's some cool things in there. Also you can check out the mailing list and extensive paraview documentation.\n\n\n\nConcerning the errors I apologize because I just downloaded your case.\n\n\n\nIt appears that the decomposeParDict is not included in the system folder. I am not sure if this is due to BF not going through the whole workflow yet or an ommission on our side. Please feel free to add it in Github. I will also note it down and pass it to Mostaph to check. In the meantime please find attached a VERY detailed decomposeParDict file. I took the liberty to set it at 4 processors (the numberOfSubDomains value) and also selected (that is uncommented) the scotch decomposition method. It's the easiest method to use since it is automatic and doesn't require any more inputs on how the domain is decomposed on the x,y,z directions (which would require you to change values in the attached file).\n\n\n\nNow, the different folders created are simply snapshots of the current solution at the specific timestep. To control how often the solver is saving change the writeInterval number in the controlDict file. You can also change almost all these values on the fly, while OF is running.\n\n\n\nFinally, concerning the other errors of parafoam it seems somehow parafoam is reading the intial condition names instead of actual results from the solution files and it doesn't like it.\n\n\n\nDoes this happen only when you open the case (i.e. at 0 time) or does it also happen when you move to an other timestep?\n\n\n\nAlso, are you using paraFoam, paraview or the paraFoam -builtin method?\n\n\n\nThe extension of the paraFoam file seems to be .foam which means you are probably using the built in viewer. That might be the issue but I'm not sure.\n\n\n\nCan you try running paraview, navigate to your case folder, open the .foam file and see if there is still an error?\n\n\n\nAlso, if it isn't much trouble can you zip one of the time folders and attach it here? I'd like to take a look at what's inside to check against what the error report says.\u00a0\n\n\n\nOnce again thanks for testing!\u00a0\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1577330", "name": "decomposeParDict"}], "created_by_name": "Theodoros Galanos", "created_at": "August 6, 2016 at 2:32am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nHi Theodore, Thank you very much!\n\n\n\nI'm using ParaView to visualize the results. The case file for the last time step is attached here for your reference.\n\n\n\nThe slice visualization is interesting, but the colors are in big patches:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/zx76UXNCypXWUdjYre7XFTkDqHSkc8sB9WYQlnQNnGBipygINcOZCt2eLJqhK5nzzxeuwJEbcZulcyuS86uDIr1yzpDqhwW4/Image3.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/zx76UXNCypXWUdjYre7XFTkDqHSkc8sB9WYQlnQNnGBipygINcOZCt2eLJqhK5nzzxeuwJEbcZulcyuS86uDIr1yzpDqhwW4/Image3.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1577632", "name": "1769.zip"}], "created_by_name": "Grasshope", "created_at": "August 6, 2016 at 8:02am", "created_by": "Grasshope", "replies": []}, {"body": "\nHi Grasshoppe,\n\n\n\nI don't see anything irregular in the solution folder. It must be something to do with paraFoam itself.\n\n\n\nDid you use paraview by actually typing paraview and navigating to the folder or did you type paraFoam to call the OF integrated paraview, or did you maybe type paraFoam -builtin? The last one was a workaround for when paraview installation has issues. I think I remember an old bug where the version not connected to OF would give out this error. I will check it as soon as I can to make sure it's not smth in our case setup.\n\n\n\nConcerning the boxes on the display that is the refinement of your mesh. The fastest way to get a more refined image is to go back to your blockMesh and change the number of cells in x and y directions (and thus the size of these squares) and go through the whole process of meshing and solving again. Bare in mind doubling the cell number makes a 4 times bigger mesh, which would also delay the simulation a bit (but really for such a small model it would still be fairly fast).\n\n\n\nAnother thing you can do in coarse or even medium quality meshes is to display the point values and not the cell values. You can do that in the dropdown menu where you select which fluid parameter to display (U, p, k, epsilon, etc.). In your screenshot I can see the cell value is currently selected. By selecting point values Parafoam should interpolate the display automatically and provide a more 'refined' image (but not a more accurate result). Should make a small difference in such a coarse mesh but this works quite nicely in medium to better meshes.\u00a0\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "August 6, 2016 at 10:06am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nThanks, Theodore!\n\n\n\nI didn't open ParaView from within OF, i.e., I opened it by double click the ParaView thumbnail, and then did the following:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/H9E9iJBHqZPOCSMaTWyydbWrc6cengGf9B4kURQCoDq57y8MD-LxK5QQfv2mEb5WAzw3uof0hxUkznHOC1OFG3tlKr4mNtRd/Image1.png\" width=\"263\"/>](http://api.ning.com:80/files/H9E9iJBHqZPOCSMaTWyydbWrc6cengGf9B4kURQCoDq57y8MD-LxK5QQfv2mEb5WAzw3uof0hxUkznHOC1OFG3tlKr4mNtRd/Image1.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/H9E9iJBHqZMVy1p3skfDUR7PMx5-SB1tkYbgd7hNQOovHz1rz7YDxabXNwA9MZ4xNmlQ8gOBebhz6euV9HnkCIy3YSUjybMy/Image2.png\" width=\"690\"/>](http://api.ning.com:80/files/H9E9iJBHqZMVy1p3skfDUR7PMx5-SB1tkYbgd7hNQOovHz1rz7YDxabXNwA9MZ4xNmlQ8gOBebhz6euV9HnkCIy3YSUjybMy/Image2.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/H9E9iJBHqZOFuopiepvK7CdVA4LEHVLukLixXz2m1Eobr6ukf4tpu44-s5bTFHvnR9FJRVg-R2BzQqp4Eaqh482VX81dS*bm/Image3.png\" width=\"404\"/>](http://api.ning.com:80/files/H9E9iJBHqZOFuopiepvK7CdVA4LEHVLukLixXz2m1Eobr6ukf4tpu44-s5bTFHvnR9FJRVg-R2BzQqp4Eaqh482VX81dS*bm/Image3.png)\n\n\n\nI shall try increasing the meshing parameter as suggested.\n\n\n\nThe visualization of U magnitude by point as suggested is shown below which might be improved if the meshing resolution is higher:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/H9E9iJBHqZNI1-EPAsrVApwjNVLp391C*IKj48A4yHxpzCbhtemEEQxivocjqnjKb*NBb5QwGkKyX2fX3XbfuDrbH6zPFB5l/Image5.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/H9E9iJBHqZNI1-EPAsrVApwjNVLp391C*IKj48A4yHxpzCbhtemEEQxivocjqnjKb*NBb5QwGkKyX2fX3XbfuDrbH6zPFB5l/Image5.png)\n\nThank you very much, again, for your detailed advice!\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "August 8, 2016 at 7:34am", "created_by": "Grasshope", "replies": []}, {"body": "\n... and here is the case file for the outdoor_airflow demo I have so far.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1575550", "name": "outdoors_airflow.zip"}], "created_by_name": "Grasshope", "created_at": "August 2, 2016 at 9:12pm", "created_by": "Grasshope", "replies": []}]}, {"body": "\nHi Grasshope and Theodore.\n\n\n\nTry the new butterfly. It should work with the latest version of OpenFOAM and you should be able to run the analysis from inside Grasshopper.\n\n[Here](https://github.com/mostaphaRoudsari/Butterfly/issues/43#issuecomment-238628282)\u00a0is the directions for updating the current installation. Sorry for the delay. I was a way for a couple of weeks.\n\n\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "August 9, 2016 at 11:36am", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nThank you very much, Mostapha!\n\n\n\nThe workflow works fine up to the execute simpleFoam component:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/2FjpMK*bX1bR87uHvddfPf2arDI1ceJPlRQyyI5egKubOv55P3lMmSOnvqkTD9X9E0Cbimr6XNf2c7mjx5ntFRjibG3JCbuc/Image15.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/2FjpMK*bX1bR87uHvddfPf2arDI1ceJPlRQyyI5egKubOv55P3lMmSOnvqkTD9X9E0Cbimr6XNf2c7mjx5ntFRjibG3JCbuc/Image15.png)\n\nThe error message is:\n\n\n\n1. Solution exception:<br/>\u00a0--&gt; OpenFOAM command Failed!#0\u00a0 Foam::error::printStack(Foam::Ostream&amp;) in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#1\u00a0 Foam::sigFpe::sigHandler(int) in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#2\u00a0 ? in \"/lib64/libc.so.6\"<br/>\u00a0#3\u00a0 double Foam::sumProd&lt;double&gt;(Foam::UList&lt;double&gt; const&amp;, Foam::UList&lt;double&gt; const&amp;) in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#4\u00a0 Foam::PCG::solve(Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt; const&amp;, unsigned char) const in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#5\u00a0 Foam::GAMGSolver::solveCoarsestLevel(Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt; const&amp;) const in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#6\u00a0 Foam::GAMGSolver::Vcycle(Foam::PtrList&lt;Foam::lduMatrix::smoother&gt; const&amp;, Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt; const&amp;, Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt;&amp;, Foam::PtrList&lt;Foam::Field&lt;double&gt; &gt;&amp;, Foam::PtrList&lt;Foam::Field&lt;double&gt; &gt;&amp;, unsigned char) const in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#7\u00a0 Foam::GAMGSolver::solve(Foam::Field&lt;double&gt;&amp;, Foam::Field&lt;double&gt; const&amp;, unsigned char) const in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libOpenFOAM.so\"<br/>\u00a0#8\u00a0 Foam::fvMatrix&lt;double&gt;::solveSegregated(Foam::dictionary const&amp;) in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/lib/libfiniteVolume.so\"<br/>\u00a0#9\u00a0 Foam::fvMatrix&lt;double&gt;::solve(Foam::dictionary const&amp;) in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/bin/simpleFoam\"<br/>\u00a0#10\u00a0 Foam::fvMatrix&lt;double&gt;::solve() in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/bin/simpleFoam\"<br/>\u00a0#11\u00a0 ? in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/bin/simpleFoam\"<br/>\u00a0#12\u00a0 __libc_start_main in \"/lib64/libc.so.6\"<br/>\u00a0#13\u00a0 ? in \"/opt/OpenFOAM/OpenFOAM-v1606+/platforms/linux64GccDPInt32Opt/bin/simpleFoam\"<br/><br/>\n\n\n\nThe folders generated in the process are:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/2FjpMK*bX1Z5lkRq8ROd3r7JSE7NI8u1K2EX5Mmyho8d2q5EhT8mHySAJbdzhL-lAZIBU1winRXlZ*JI8MqTQcyl0w-rqHHL/Image16.png\" width=\"155\"/>](http://api.ning.com:80/files/2FjpMK*bX1Z5lkRq8ROd3r7JSE7NI8u1K2EX5Mmyho8d2q5EhT8mHySAJbdzhL-lAZIBU1winRXlZ*JI8MqTQcyl0w-rqHHL/Image16.png)\n\n\n\nHope you can kindly advise.\n\n\n\nThanks!\n\n-Ji\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "August 9, 2016 at 12:20pm", "created_by": "Grasshope", "replies": []}, {"body": "\nThank you for testing. It looks to be an issue with the mesh. Does it start iterating and fails after a couple of iterations or gives you the error as soon as you try to run the analysis. Can you try the indoor example too? That should give us a better idea about the source of the issue.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "August 9, 2016 at 12:55pm", "created_by": "MostaphaSadeghipour", "replies": []}]}], "id": "1574828"}