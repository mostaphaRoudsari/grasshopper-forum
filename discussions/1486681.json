{"body": "\nHi all,\n\n\n\nFirstly I want to thank the team for creating this fantastic tool, especially Mostapha and Chris.\n\n\n\nAlso thank you for implementing the ability to use a vector for north in the latest release, no more manual rotation.. at least I thought.\n\n\n\nI have reason to believe the rotation of the model before calculation is reversed. See my simple example in the attached file below, also included some screenshots. The maximum solar irradiance on the surface happens early morning when I have the north vector pointing towards the positive x-axis and the surface direction pointing west. The maximum solar loads should occur late afternoon/evening as the sun sets in the west.\n\n\n\nIf I set the north vector to the positive or negative y-axis the results seem to be correct, hence my suspicion that the rotation is reversed.\n\n\n\nOr am I just missing something obvious here? :)\n\n\n\n-M\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1486678", "name": "HBLB-1.png"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1486679", "name": "HBLB-2.png"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1486680", "name": "Irradiance on surface.gh"}], "created_by_name": "M. S\u00f6derlund", "created_at": "March 17, 2016 at 5:42am", "created_by": "MikaelSoederlund", "topic": "North point model rotation reversed in DaySim calculations?", "replies": [{"body": "\nI think you are right. It is showing similar results for me.\n", "attachments": [], "created_by_name": "Alejandro Pacheco Di\u00e9guez", "created_at": "March 17, 2016 at 6:13am", "created_by": "3ahr35r8m5dl1", "replies": []}, {"body": "\nHi Mikael,\n\nWhich weather file are you using? Drawing a radiation rose can help to double check your assumption.\n\nI check the rotated geometry and it looks right to me. Can you check the attached file and let me know if it make sense to you?\n\nMostapha\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1487358", "name": "Irradianceonsurface_msr.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "March 17, 2016 at 10:56pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\n\n\n\nI realise that I have misunderstood how the rotation is carried out. I thought the model space was rotated and the actual model stayed in place, not the other way around. I get it now, thanks for helping me out with your example!\n\n\n\n-M\n", "attachments": [], "created_by_name": "M. S\u00f6derlund", "created_at": "March 19, 2016 at 5:56am", "created_by": "MikaelSoederlund", "replies": [{"body": "\nHi Mikael,\n\nAnnual analysis is the only analysis that we have to rotate the model, otherwise your assumption is right. In all the other simulations honeybee rotates the sky.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "March 19, 2016 at 7:30am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\n\n\n\nThanks for your help previously. Could you please have a look at my old post below about msh2rad not rotating geometry? Would be appreciated as it's still an issue and I know no workarounds except only using CreateHBSrfs which can be unstable for me with some geometry (GH crashes).\n\n\n\nIf you want proof of the rotation not taking place using MSH2RAD, please look in the Daysim*.rad file that gets created when performing a Daysim simulation.\n\n\n\nSee example below. The same polygon is processed via the CreateHBSrs component and via the MSH2RAD component. The polygon gets rotated 90 degrees using CreateHBSrs but unfortunately not with MSH2RAD:\n\n_______________\n\n\n\n##GENERATED BY HONEYBEE\n\n\n\nOPAQUE polygon b69a317a402d42c1994f410463cd_0<br/>0 0 12 -15.824400 -5.615800 0.000000<br/> -15.824400 -44.175400 0.000000<br/> -15.824400 -44.175400 28.363100<br/> -15.824400 -5.615800 28.363100\n\n\n\n# SOURCE FILE: c:\\ladybug\\000000_TEST\\SURR\\MSH2RADFiles\\SURR.rad\n\n<br/>## c:\\radiance\\bin\\\\obj2rad -f c:\\ladybug\\000000_TEST\\SURR\\MSH2RADFiles\\SURR.obj<br/>## OBJ file written by TurtlePyMesh\n\n<br/>OPAQUE polygon object_1.1<br/>0 0 12 44.175400 -15.824400 28.363100<br/> 5.615820 -15.824400 28.363100<br/> 5.615820 -15.824400 0.000000<br/> 44.175400 -15.824400 0.000000\n\n\n\n_______________\n\n\n\nAll the best\n\n-M\n", "attachments": [], "created_by_name": "M. S\u00f6derlund", "created_at": "April 4, 2017 at 9:14am", "created_by": "MikaelSoederlund", "replies": []}, {"body": "\nHi Mikael,\n\nThe assumption with additional rad files is that they are stationary and so the north direction doesn't affect their rotation. However you can rotate the geometries inside Grasshopper before using Mesh2Rad. You don't need to create Honeybee surfaces in that case. Is that going to work for your case?\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 5, 2017 at 8:04am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\n\n\n\nThanks for clearing up how you reasoned with the msh2rad geometry.\n\nI'll just rotate before msh2rad, thank you!\u00a0\n\n\n\n-Mikael\n", "attachments": [], "created_by_name": "M. S\u00f6derlund", "created_at": "April 5, 2017 at 9:13am", "created_by": "MikaelSoederlund", "replies": []}]}, {"body": "\nThanks for clearing that up!\n\nRelated to that, the additional RAD files added to the scene are not automatically rotated now. Is there a way to implement that feature either directly in the runDaylightAnalysis component or worst case, in the MSH2RAD component? I'm not familiar enough with Python and HB_LB yet to do it myself I'm afraid.\u00a0\n\n\n\n-M\n", "attachments": [], "created_by_name": "M. S\u00f6derlund", "created_at": "March 19, 2016 at 9:18am", "created_by": "MikaelSoederlund", "replies": []}], "id": "1486681"}