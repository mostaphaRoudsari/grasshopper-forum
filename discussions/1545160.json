{"body": "\nHello.\n\n\n\nI used the Ladybug humidity ratio (HR) calculator but if i not consider annual weather data it dosen't work:\u00a0\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4yN4f2JwhY1szPBbDg3PDm1NnxVDuNYUvqMDq*EN26a*qt4YpbIcZK4RNRckSRrh1YK-2bkTKFOfLz3S8g09FHhiotNe-gza/1.png\" width=\"750\"/>](http://api.ning.com:80/files/4yN4f2JwhY1szPBbDg3PDm1NnxVDuNYUvqMDq*EN26a*qt4YpbIcZK4RNRckSRrh1YK-2bkTKFOfLz3S8g09FHhiotNe-gza/1.png)\n\n\n\nI have then calculated the HR with the formula reported in the above jpg. The result is 0.002063 kg H2O/Kg dry air.\n\nI have then used a point with x = dry bulb temperature and y = the value of calculated HR but it's not displayed properly:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4yN4f2JwhY0HHvvUA-YSKaNbxoCN3*iSa*RWaahjLtLl-Zq8oG4kjP15Dm-XrMGHbCDHhjoxdDWPaAkM8l*3kNy2d-D-NSyf/2.jpg\" width=\"750\"/>](http://api.ning.com:80/files/4yN4f2JwhY0HHvvUA-YSKaNbxoCN3*iSa*RWaahjLtLl-Zq8oG4kjP15Dm-XrMGHbCDHhjoxdDWPaAkM8l*3kNy2d-D-NSyf/2.jpg)\n\nThe problem is due to the Y axis of Rhino that is not aligned perfectly with the values reported in the Y axis of the psychrometric chart (in rhino the unit \u00a0is set in meter). So I have to modify the value with the formula highlighted in red:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4yN4f2JwhY3RH03dSbOwZQaCVDHlABUFDodJxa-KPYIK*SNt0OcIIAhGXknqqRO5OUtzsOhlQLNEggAQGEzlUejlN-RCBP2H/2.png\" width=\"750\"/>](http://api.ning.com:80/files/4yN4f2JwhY3RH03dSbOwZQaCVDHlABUFDodJxa-KPYIK*SNt0OcIIAhGXknqqRO5OUtzsOhlQLNEggAQGEzlUejlN-RCBP2H/2.png)\n\nNow it is properly displayed:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/4yN4f2JwhY2Y9w7TnSMzC-IKU2RoqXjnb-xdwhS2O4Eex9SZ6E8nE15vdK-xGhLY0-PT21udBdbT6jN2zia1xSHIlIVbeMPY/3.jpg\" width=\"750\"/>](http://api.ning.com:80/files/4yN4f2JwhY2Y9w7TnSMzC-IKU2RoqXjnb-xdwhS2O4Eex9SZ6E8nE15vdK-xGhLY0-PT21udBdbT6jN2zia1xSHIlIVbeMPY/3.jpg)\n\n1) There is another method to solve this issue?\n\n2) How can I add the Unit of Measure in the X and in Y axis and a table with the used values of air temperature, relative humidity, radiant temperature, air velocity, met, clo?\n\n\n\nThank you.\n", "attachments": [], "created_by_name": "Francesco", "created_at": "June 9, 2016 at 2:33pm", "created_by": "Francesco897", "topic": "Ladybug, psychrometric chart and humidity ratio", "replies": [{"body": "\nI uploaded the .gh file so you can test it and verify what I have explained above.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1546451", "name": "HumRatio.gh"}], "created_by_name": "Francesco", "created_at": "June 12, 2016 at 1:17pm", "created_by": "Francesco897", "replies": [{"body": "\nFrancesco,\n\nPlease excuse both my late reply and my poor coding of the HR component. \u00a0It was one of the first that I made and so it was not built with the same flexibility as my newer components. \u00a0You can find attached a GH file with an updated HR component that can accept individual values:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/*jPEkQu9VMWT1NEu*0wKotIVgeWJ5xXOuJe*0UoQYxt-ThD465Nx*Xm-OMTXaIcbKKuJItlNJzUN2H*J8dvlt5NHvkyLJZfx/FixedHRComponent.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/*jPEkQu9VMWT1NEu*0wKotIVgeWJ5xXOuJe*0UoQYxt-ThD465Nx*Xm-OMTXaIcbKKuJItlNJzUN2H*J8dvlt5NHvkyLJZfx/FixedHRComponent.JPG)\n\nThis addresses your first question. \u00a0For the second, it sound like you just want to export your data into an excel table. \u00a0I recommend using the TTToolbox Excel Exporter:\n\n[http://www.food4rhino.com/project/tttoolbox?ufh](http://www.food4rhino.com/project/tttoolbox?ufh)\n\n\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1556031", "name": "HumRatio_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "June 26, 2016 at 5:28pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nChris,\n\n\n\nthank you for the reply and the upgrade of HR ratio calculator.\u00a0\n\nI want you to notice some more issues:\n\n1)\u00a0first of all, if I connect the barometric pressure (101325 Pa used by default) to the 3D chart, it appears an error:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/wbu4E-OwTjNuydp6NyFQwomImgWfCGBU*Q9ROsiKgaODuJoQzX4hBW2TYIySBDGNV6da*9JicnXGaz2X8yjxBCfN*XCuRcbi/Screenshot2016062711.09.19.jpg?width=721\" width=\"721\"/>](http://api.ning.com:80/files/wbu4E-OwTjNuydp6NyFQwomImgWfCGBU*Q9ROsiKgaODuJoQzX4hBW2TYIySBDGNV6da*9JicnXGaz2X8yjxBCfN*XCuRcbi/Screenshot2016062711.09.19.jpg)\n\n\n\n2) The problem with the display of the point in the 3D graph persists. Infact if I try to display the point of (x,y)=(24.05,0.006182)\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/wbu4E-OwTjMcyoZo9yGKAkAncI1h4Q8Wsn7ogeOM9MhBRyMGLcABr0t*p7YGHbeuOKlFsoRwmO3Q-7DBxbCeR4Xcb5t*C7MY/2.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/wbu4E-OwTjMcyoZo9yGKAkAncI1h4Q8Wsn7ogeOM9MhBRyMGLcABr0t*p7YGHbeuOKlFsoRwmO3Q-7DBxbCeR4Xcb5t*C7MY/2.JPG)\n\nin the rhino 3D chart it appears in a incorrect position because the Y axis is not alligned:<br/>\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/wbu4E-OwTjOSC*QbWD9wB0yLpGnHRJUBMTkhrFsQQiyyHIjWSmu5VAx6SF39QggggEzirB1sZjSHoEJ2yQQhrszn-xCR-wJL/3.JPG\" width=\"709\"/>](http://api.ning.com:80/files/wbu4E-OwTjOSC*QbWD9wB0yLpGnHRJUBMTkhrFsQQiyyHIjWSmu5VAx6SF39QggggEzirB1sZjSHoEJ2yQQhrszn-xCR-wJL/3.JPG)\n\nI can fix\u00a0the starting value of humidity ratio with this:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/wbu4E-OwTjOvQb60fK64hxXh8aS3T3Yz7awaFSEK496I6KmZFj5TlwMFoej-SwiDGRuKIbUaMnP7P3DieEipz09hWINvpWML/4.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/wbu4E-OwTjOvQb60fK64hxXh8aS3T3Yz7awaFSEK496I6KmZFj5TlwMFoej-SwiDGRuKIbUaMnP7P3DieEipz09hWINvpWML/4.JPG)\n\nSo (as you can see) it is placed in the right place:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/wbu4E-OwTjNa8qf5E7yXPFNM9EE*Gn1lQeyIglJzRGKwEcv6r8OYAUW*uuPssrZjpBuLVY9fd9y1eaZwttt3wH4bhSvh4h-e/5.JPG\" width=\"668\"/>](http://api.ning.com:80/files/wbu4E-OwTjNa8qf5E7yXPFNM9EE*Gn1lQeyIglJzRGKwEcv6r8OYAUW*uuPssrZjpBuLVY9fd9y1eaZwttt3wH4bhSvh4h-e/5.JPG)\n\n\u007f\n\nFrancesco\n\n\n", "attachments": [], "created_by_name": "Francesco", "created_at": "June 27, 2016 at 3:32am", "created_by": "Francesco897", "replies": []}, {"body": "\nHi Francesco, This looks like a bug! I added it to [github](https://github.com/mostaphaRoudsari/ladybug/issues/268)\u00a0so Chris can take a look. Thanks for reporting this.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "June 28, 2016 at 12:03am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nFrancesco and Mostapha,\n\n\n\nThat was indeed a bug. \u00a0Thank you for finding it and reporting it. \u00a0I have fixed it in the copy of the components on the github and in the attached GH file.\n\n\n\nAs for the second issue of aligning points in Rhino space with the chart, you have already realized that the temperature is plotted with 1 Rhino unit equal to 1 degree temperature. \u00a0Because humidity ratio values are so small, I multiply them by a scaling factor that is set inside the component:\n\n[https://github.com/mostaphaRoudsari/ladybug/blob/master/src/Ladybug...](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/Ladybug_Psychrometric%20Chart.py#L1741-L1742)\n\nI originally did not expose this parameter as an input to the component because the psychrometric chart was already so large and it currently has the most inputs of all components in Ladybug. \u00a0Still, if you make a case here that exposing such an input would help you better coordinate your point values, I can do it. \u00a0You should also note that you can connect up the chartHourPoints output of the psych chart to a native GH \"Point\" component to see the point in Rhino.\n\n\n\nFinally, I would like to take this opportunity to get your thoughts on another topic that Mostapha mentioned to me earlier. \u00a0At present, when you plug in epw values to both the psych chart and the PMV comfort component, you do not get the same percentage of comfortable hours out of the two components. \u00a0This is because the PMV component assumes that the MRT is the same as the dry bulb temperature by default while the psych chart needs to assume that there is only one MRT value for all hours in order to draw only one comfort polygon. \u00a0I have realized that this discrepancy can be confusing to people and I can think of 2 ways of addressing it:\n\n1) If someone connects up epw data or a list of 8760 values to either MRT or windSpeed of the psych chart, I assume that the user wants to align the data and I just pass the aligned values through the PMV function. \u00a0The issue here becomes what to do with comfort and strategy polygons. \u00a0The simplest option would just be to not allow the user to plot any polygons on the chart in this case. \u00a0Alternatively, I can plot two comfort polygons showing the range from warmest comfort to coldest comfort across the 8760 values but, with this, I can't allow the user to plot multiple metRate or cloValue polygons. \u00a0Nor can I accurately plot the strategy polygons.\n\n2) I can just tell people that the assumption of a single MRT and windSpeed is a limitation of the one-polygon psych chart methodology. \u00a0In the end, the psychometric chart is just a means to help you visualize temperature and humidity and it is not really a tool for measuring how comfortable a space is over a long time period. \u00a0To assess comfort over long periods of time, you should really be running the PMV comfort component and you should probably account for how the wind and MRT change over time as well as people's clothing. \u00a0Comfort, in reality, is not a static thing and the assumption that a single polygon can represent the dynamism of your thermal preference is inherently flawed.\n\n\n\nLet me know your thoughts,\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1557219", "name": "HumRatio_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "June 28, 2016 at 7:10pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris,\n\nI'm for option 2 exactly for the reasons you mention. A note/explanation can be added in the component explaining shortly the possible discrepancies.\n\nI would say this is one of the cases when you can use a tool for certain tasks, and if you need something more detailed you should switch tools.\n\nThanks,\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "June 28, 2016 at 10:20pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nYou should also note that you can connect up the chartHourPoints output of the psych chart to a native GH \"Point\" component to see the point in Rhino.\n\nThat's fine. Thank's.\n\n\u00a0I can think of 2 ways of addressing it:\n\nMaybe option 2.\n\n\n\nI want to show you one more thing. If I connect a scale factor to psychrometric chart it appears the following message:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/pw-g0GrmbViusat*HVSi6r1s*QSvcaSBlU0OHpuxzz4Abqmsnf*jjJOyOgIt1ZF2OaR8wtlvhXcDDtRn6Ro9rbKhBf5o*8UQ/Screenshot2016062911.10.41.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/pw-g0GrmbViusat*HVSi6r1s*QSvcaSBlU0OHpuxzz4Abqmsnf*jjJOyOgIt1ZF2OaR8wtlvhXcDDtRn6Ro9rbKhBf5o*8UQ/Screenshot2016062911.10.41.png)\n\n\n\n\n\n\n\nFrancesco\n", "attachments": [], "created_by_name": "Francesco", "created_at": "June 29, 2016 at 3:22am", "created_by": "Francesco897", "replies": []}, {"body": "\nAlright! \u00a0Another bug squashed!\n\nThanks for reporting these, Francesco. \u00a0You can find the fixed file attached.\n\n\n\nAlso, thank you both for your thoughts on the psych chart in relation to the PMV comfort component. \u00a0I think I'll keep the component as is unless anyone brings up a case for the option 1.\n\n\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1557926", "name": "HumRatio_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "June 29, 2016 at 6:44pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks for the new fixed component.\n\nFrancesco\n", "attachments": [], "created_by_name": "Francesco", "created_at": "June 30, 2016 at 2:54am", "created_by": "Francesco897", "replies": []}]}, {"body": "\nIf you want to add the Unit of Measure to X and Y axis, you have to consider the changes highlighted in yellow\u00a0in the python script editor:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/a5kYpi8WX59LyAHtP4FycPuATSOOeAlFQxSRU*lPcLvKYqOWROvSZNi7w8Ic*T9LTQxpWpNB4Bem60DrAyHg5IFBMViWk1WE/PsychrometricchartlabelUM.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/a5kYpi8WX59LyAHtP4FycPuATSOOeAlFQxSRU*lPcLvKYqOWROvSZNi7w8Ic*T9LTQxpWpNB4Bem60DrAyHg5IFBMViWk1WE/PsychrometricchartlabelUM.JPG)\n\n\n", "attachments": [], "created_by_name": "Francesco", "created_at": "September 27, 2016 at 9:05am", "created_by": "Francesco897", "replies": []}], "id": "1545160"}