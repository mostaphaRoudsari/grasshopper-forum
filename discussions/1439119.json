{"body": "\nJust a quick question, can the wet bulb temperature be extracted from the epw file? I only see drybulb temp and dewpoint temp outputs from the Ladybug_Import epw component. Thank you!\n", "attachments": [], "created_by_name": "Aaron Loomans", "created_at": "January 14, 2016 at 11:48pm", "created_by": "AaronLoomans", "topic": "Basic Question - Wet Bulb Temperature", "replies": [{"body": "\nEPW file doesn't have wet bulb temperature already calculated. I'm pretty sure that Chris should have a method for calculating wet bulb as he is using it for the Psychrometric chart. I'm not sure if it's exposed as an output.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "January 15, 2016 at 1:10pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nHi Mostapha and Aaron\n\n<br/>I have made a new small component that calculates wet bulb temperature from EPW files.<br/>I have used a formula made by J. Sullivan and L. D. Sanders of the Center for Experiment Design and Data Analysis (NOAA - National Oceanic and Atmospheric Administration).<br/>I have put a part of code that I have translated and modified a bit from javascript into Python. It works fine, but I'm new to Python. Perhaps, It could be raw.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bZ6KiUmf2vK3cKQ-8W7Ex*0FxlvRU5OAbl2wYvgSv-OHtyyxa8ktXuwurSGOcRRBw9qKONXPwBRvxSaN8Yv8ZGITZZfkLF8Y/WetBulbTemp_02.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bZ6KiUmf2vK3cKQ-8W7Ex*0FxlvRU5OAbl2wYvgSv-OHtyyxa8ktXuwurSGOcRRBw9qKONXPwBRvxSaN8Yv8ZGITZZfkLF8Y/WetBulbTemp_02.png)\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bZ6KiUmf2vKIvnOPhIz7FsofJi3a6ycYjoGmzd1VUFLH6hjY1DEEPuCMUIBwjQm6Rjp2xYu4lO2CRTlviHJnZPlCd8xSoQEO/WetBulbTemp_01.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bZ6KiUmf2vKIvnOPhIz7FsofJi3a6ycYjoGmzd1VUFLH6hjY1DEEPuCMUIBwjQm6Rjp2xYu4lO2CRTlviHJnZPlCd8xSoQEO/WetBulbTemp_01.png)\n\n\n\nBests\n\nAntonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1439791", "name": "Ladybug_WetBulbTemperature.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "January 16, 2016 at 9:31am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nAntonello,\n\nYou are rocking these forums, man!!!! \u00a0The helpfulness of your comments never ceases!\n\nThis wet bulb component is awesome and, if you are ok with it, I think that we should integrate the component into the Ladybug 'AnalyzeWeatherData' tab and your 'WBFUNC'\u00a0function for wet bulb temperature into the Ladybug_Ladybug [ComfortModels class](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/ladybug_ladybug.py#L3043-L4085).\n\nRight now, all of the functions that I have involving wet bulb temperature are fairly hacky and having your elegant function there would be a huge help in present+future cases. \u00a0Notably, [this bit of code that I use in the pych chart](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/ladybug_ladybug.py#L4069-L4073)\u00a0to derive a dry bulb temperature from wet bulb is really hacky and its brevity is more of an expression of my laziness than anything else. I know the \"while\" loop in your function might make this difficult but, if you can see any way to reverse-calculate dry-bulb and absolute humidity from wet bulb and relative humidity, this might make this application more elegant.\n\n\n\nIn any case, would you be able to send a pull request of an updated Ladybug_Ladybug and your new component to the Ladybug github? \u00a0It would be nice to have this included in the next stable release of Ladybug that is happening around next Sunday (the 24th). \u00a0That way, we can include it in the release notes and we can spread awareness about it. \u00a0Let me know if you need any guidance on putting together a pull request as I know it can be confusing for even seasoned github users.\n\n\n\nFinally, I have one suggestion that might make your component more applicable to a wide variety of cases and this is to have three separate inputs for drybulb temperature, relative humidity, and barometric pressure instead of one 'epwFile' input. \u00a0This will allow people to easily calculate wet bulb if they have single values of dry bulb/relhumid or if they have the data in a format that is not an EPW but they can get it into GH. \u00a0This will also make it clearer to new users how the wet bulb is derived from air temperature, humidity, and pressure. \u00a0Let me know your thoughts on this and, if you agree, I can also help get your component in that format. \u00a0I have some functions that I use for the comfort calculator components that help ensure the readability of data in these different formats.\n\n\n\nGreat work!!!!!\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "January 16, 2016 at 2:56pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris\n\nThank you, Chris! I'm really interested in Ladybug+Honeybee! It would be great to add it to Ladybug_Ladybug and the component, too.\n\nHaving followed your advice about changing the inputs, I have modified the<br/>component. If you are interested in, you can see the attached file. I know it is not perfect it needs some revisions, but it works very good. And if you want you will edit it. It would be great learn more about Python, so your helpfulness is very welcome.\n\n<br/>About Ladybug github... I need a guidance, yes. This is a new world for me, but I'm really happy to discover it!\n\n<br/>Thank you again, Chris! Please, let me know about the component.\n\n\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1440444", "name": "Ladybug_WetBulbTemperature_review02.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "January 17, 2016 at 2:21pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nThis is nice Antonello. Thanks.\n\nI have one wish and one think for you to check.\n\nThe wish: To connect the data directly without passing through the LB_separateData. Not critical, but you can save one step in the process.\n\nThe check: Testing the \"second mode\" in your file i noticed that changing the analysis period changes the results. Sometimes the changes are to big to bare. Try month 1 to 4 and then 1 to 8, etc.\n\n\n\nThanks and keep going,\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "January 17, 2016 at 10:41pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Abraham\n\n\n\nThanks for your reply. I'll try to connect directly EPW data making a good piece of script. I searched a method to do that yesterday, without good results. Anyway, I'll keep on doing research.\n\n\n\nAbout the 'second mode', I thought about all possible combinations with other Ladybug's components. In the second mode it can calculate Wet-Bulb Temperature and Dew-Point Temperature from hourly data or average data.<br/>I have done the check you asked me.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bgBAdY4AlgCmyx2axToHay-Mp5iuU1yVre8WVBtiAMB*Gt6PFAgcQN8ZqyxG2O6Rolvixx5jYy6vP4zsW3lLA7ujNwz3Dqu3/base.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bgBAdY4AlgCmyx2axToHay-Mp5iuU1yVre8WVBtiAMB*Gt6PFAgcQN8ZqyxG2O6Rolvixx5jYy6vP4zsW3lLA7ujNwz3Dqu3/base.png)\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bgBAdY4AlgAYrhJz*UI6hYgt42qbU03VxksKazGu3AsWdAU-Nqvdl3kMrfmLVnqX3xID-fcNJMLKZXbjOx8oI3SBz6-cnvnr/1to4.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bgBAdY4AlgAYrhJz*UI6hYgt42qbU03VxksKazGu3AsWdAU-Nqvdl3kMrfmLVnqX3xID-fcNJMLKZXbjOx8oI3SBz6-cnvnr/1to4.png)\n\n1 to 4\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bgBAdY4AlgDp5XPeuChzAfMlJrGBSoNC*8OpGxRFZSfif9PHDYWONoIjyX6B5szSYVVyotYBqBnUGy9Tn*XQqluLCT-m27sO/1to8.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bgBAdY4AlgDp5XPeuChzAfMlJrGBSoNC*8OpGxRFZSfif9PHDYWONoIjyX6B5szSYVVyotYBqBnUGy9Tn*XQqluLCT-m27sO/1to8.png)\n\n1 to 8\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/bgBAdY4AlgDfm332e5snTxskLeKNxhLmVuoLPPHRN0BDGJEt82QwmYz9m1S*x1GstB7McyLIYDypktxMCntjqGHLBafMYq38/FIRSTVSSECOND.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/bgBAdY4AlgDfm332e5snTxskLeKNxhLmVuoLPPHRN0BDGJEt82QwmYz9m1S*x1GstB7McyLIYDypktxMCntjqGHLBafMYq38/FIRSTVSSECOND.png)\n\nfirst mode vs second mode\n\n\n\nThaks again\n\nBests\n\nAntonello\n\n\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "January 18, 2016 at 1:57am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nHi Antonello,\n\nI see. I updated the file in my computer to latest LB_HB and then i get the inconsistencies. You can try. The results change. Using the version you uploaded it works fine. So something with the new definitions is messing the results. Here i suppose Mostapha or Chris can assist.\n\nFor the first issue (connecting directly EPW) see attached, red circle for a working version in first mode.\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1440594", "name": "Ladybug_WetBulbTemperature_review02_AY.gh"}], "created_by_name": "Abraham Yezioro", "created_at": "January 18, 2016 at 2:41am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nAbraham\n\n\n\nThanks for your help. I have modified the component. It is suitable for Epw weather data and for other generic weather data.<br/>I've fixed some warning messages and it works fine using my version. I'll wait Chris and Mostapha for the problem between LB_HB version and the component.\n\nBests<br/>Antonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1440971", "name": "Ladybug_WetBulbTemperature18012016.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "January 18, 2016 at 8:05am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nI'm late to the party! Thanks Antonello for your great work and thank you Abraham for providing feedback. Can we move this discussion to [github](https://github.com/mostaphaRoudsari/ladybug/issues/219)?\n\nI'm not sure if I understand the issue with inconsistencies. I'm not sure if we have made any changes in importEPW between the two version.\n\nI also have some comments about the inputs which I will add to the issue on github.\n\nThanks again,\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "January 18, 2016 at 8:47am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nAntonello,\n\nI see you are referring to the equation of \"J. Sullivan and L. D. Sanders of the Center for Experiment Design and Data Analysis (NOAA - National Oceanic and Atmospheric Administration)\" from 1974.\n\nThere is some later research that has been done since. What has made you chose for this specific equation?\n\n\n", "attachments": [], "created_by_name": "LucDav", "created_at": "April 8, 2016 at 8:09am", "created_by": "LucDav", "replies": []}, {"body": "\nHi Luc, Thank you for posting this comment. Can you tell us a little bit more about the results that you think doesn't look right? Maybe open a new discussion if it's hard to share them as a comment.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 9, 2016 at 11:30am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi LucDav,\n\n\n\nSorry for my late reply, I used this method:\n\n[http://www.srh.noaa.gov/images/epz/wxcalc/wetBulbTdFromRh.pdf](http://www.srh.noaa.gov/images/epz/wxcalc/wetBulbTdFromRh.pdf)\n\nBefore to choose it, I also tried other methods, such as this one:\n\n[http://journals.ametsoc.org/doi/pdf/10.1175/JAMC-D-11-0143.1](http://journals.ametsoc.org/doi/pdf/10.1175/JAMC-D-11-0143.1)\n\nBut I think the NOAA method is more complete, especially if you have 100% of RH or extreme temperature values.<br/>If you have found some discrepancies please post them here or open a new discussion as Mostapha told you.<br/>If you have some new formulas or methods more accurate please post the links here, so we can compare the results.\n\n\n\nBest\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "April 11, 2016 at 6:07am", "created_by": "AntonelloDiNunzio", "replies": []}]}]}