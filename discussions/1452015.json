{"body": "\nHi Mostapha, Chris and team HB.\u00a0\n\nI'm trying to load materials and specs included in the EP DataSets folder (C:\\EnergyPlus\\DataSets\\***plenty files here***) as the materials there included are not within the default OpenStudioLib file.\n\nI cant use the import idf component because it discards materials, any suggestions?\u00a0\n\nOn the same note, the EPWindowMaterials loaded by default, using the callfromEPContructionLibrary, are weird. Most of them are Fixed windows and theoretical glass. One of them has a U-Value of 700, which I suppose could refer to a 1.3mm glass pane.\n\nAren't the EP materials from Data Sets supposed to be included in the default lib? perhaps I've inadvertently done something to break the import function.\n\n\n\nkind regards,\u00a0\n\n\n\nMauricio\n", "attachments": [], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 1, 2016 at 8:05am", "created_by": "MauricioAguilarCardenas135", "topic": "materials from EP DataSets", "replies": [{"body": "\nMAuricio,\n\nLook for the userCustomEPLibrary.idf file (probably in c:\\ladybug). There you can add manually the materials/constructions you like. Just remember that for the constructions to work you need to include the single materials also in the file.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 1, 2016 at 8:22am", "created_by": "AbrahamYezioro", "replies": [{"body": "\nAbraham,\u00a0\n\nI am getting a weird behaviour with constructions in the userCustomEPLibrary.\u00a0\n\nAdding materials work great, U-value calculations are spot on, based on conductivity.\u00a0\n\nBut when I add window construction (with prevously defined U-Values, shgc, and VT), the U-value comes out negative ( find attached my gh file and idf file, also see screencapture).\u00a0\n\nThe \"DecomposeEpConstruction\" component seems but when testing the code its shows \"KeyError(\"KRYPTON 8mm\")\"\n\nregards,\u00a0\n\n\n\nMauricio\n", "attachments": [], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 1, 2016 at 9:45am", "created_by": "MauricioAguilarCardenas135", "replies": []}, {"body": "\nNo attachments.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 1, 2016 at 9:48am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nooops, srry!\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1451901", "name": "screencapt.jpg"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1451902", "name": "dynamic_u_value.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1451903", "name": "userCustomEPLibrary.idf"}], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 1, 2016 at 9:54am", "created_by": "MauricioAguilarCardenas135", "replies": []}, {"body": "\nIf you check your custom liibrary with the idf editor you\"ll see that the file is missing all gases definitions (air, argon ...). So no wonder why it is making you trouble.\n\nJust fill in with the missing data and you will be set.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 1, 2016 at 11:37am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHere you go.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1452080", "name": "userCustomEPLibrary.idf"}], "created_by_name": "Abraham Yezioro", "created_at": "February 1, 2016 at 11:46am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThank Abraham,\n\n\n\nMakes perfect sense. I wont be able to try until tomorrow, but I'm sure it'll be fine.\u00a0\n\nbest wishes,\u00a0\n\n\n\nM\n", "attachments": [], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 1, 2016 at 1:14pm", "created_by": "MauricioAguilarCardenas135", "replies": []}, {"body": "\nAbraham,\u00a0\n\n\n\nThe U-Value is still off. I tried both your idf and mine.\u00a0\n\nNow I'm getting the following message on the component:\n\nUnboundLocalError(\"Local variable 'UValueSI' referenced before assignment.\",)\n\nplease see attached image.\u00a0\n\n\n\nregards,\u00a0\n\nM\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1452681", "name": "unbound_local_error.jpg"}], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 2, 2016 at 7:06am", "created_by": "MauricioAguilarCardenas135", "replies": []}, {"body": "\nCan't tell.\n\nI rebuilt the construction inside the file (attached) and i get the same negative U value. Take in consideration that this is an icredible well insulated window!!\n\nCan you try to use it in a simulation and report the materials? There you'll see the U that E+ calculated for this construction.\n\nI'm lazy now to calculate it myself, but i would also try to do so.\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1453112", "name": "dynamic_u_value_AY.gh"}], "created_by_name": "Abraham Yezioro", "created_at": "February 2, 2016 at 9:22am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nI'll simulate and observe how it behaves.\u00a0\n\nWhat puzzles me is that the idf for the window construction includes the U-Value. How is the idf file being parsed that it doesn't pick up on that line of text?\n\n\n\nthanks,\u00a0\n\n\n\nM\n", "attachments": [], "created_by_name": "Mauricio Aguilar Cardenas", "created_at": "February 2, 2016 at 10:17am", "created_by": "MauricioAguilarCardenas135", "replies": []}, {"body": "\nThe idf doesn't include U value!! It is calculated during the simulation. The HB component calculates it in GH.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 2, 2016 at 10:52am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nMaurico and Abraham,\n\n\n\nThis is a very interesting discussion here and a lot of good is coming out of it. \u00a0The heart of the issue comes from the fact that EnergyPlus calculates a custom U-Value for gas materials using a complex algorithm that accounts for convection of the gas depending on the thickness of the gap, the temperature difference across it, and the gas molecular properties. \u00a0Including this algorithm in Honeybee would involve a great deal of time but, if we are just looking for a back-of-the envelope estimate assuming fairly standard gap thicknesses (like 1 cm), this is relatively straightforward. \u00a0This 'back-of-the-envelope' estimate is what we had been doing for the air gap material but we had not included the other 4 gases used in windows. \u00a0I took a look at the properties of these gases in LBNL WINDOW and just added them to the Honeybee\u00a0'CalculateU-Value' function:\n\n[https://github.com/mostaphaRoudsari/Honeybee/commit/3152fda56f7301f...](https://github.com/mostaphaRoudsari/Honeybee/commit/3152fda56f7301f56057ce345b354ce8ea1661a1)\n\nNow you should see the U-value of a glazing assembly with krypton computed correctly by Honeybee in the attached file. \u00a0Note that all of your EnergyPlus simulations with Honeybee will be fine with whatever EP material you assign. \u00a0In other words, the production of a negative U-Value here was purely an interface error in HB and not a simulation one.\n\n\n\nOn another note, the inclusion of these EnergyPlus DataSets materials in the userCustomLibrary is something that I could imagine a lot of people desiring and so I have added the idf that you have built here to the Honeybee 'resources' folder in case anyone wants this feature in the future:\n\n[https://github.com/mostaphaRoudsari/Honeybee/blob/master/resources/...](https://github.com/mostaphaRoudsari/Honeybee/blob/master/resources/userCustomEPLibrary.idf)\n\n\n\nLastly, Mauricio, if you are interested in extending the types of glazing that you can run with Honeybee, I just added a new component in the last release that allows you to take any glazing assembly that you create with LBNL WINDOW and assign it to windows in Honeybee. \u00a0[LBNL WINDOW](https://windows.lbl.gov/software/window/window.html) includes a continuously-updated database with every type of glass and gas currently on the market and so you should always be able to find what you need there. \u00a0Here is an example file showing you how to use the new LBNL WINDOW component:\n\n[http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;for...](http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;fork=hydra_2&amp;id=Import_LBNL_WINDOW_Glazing_Assembly_for_EnergyPlus&amp;slide=0&amp;scale=1&amp;offset=0,0)\n\n\n\nGreat work, gentlemen!\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 2, 2016 at 7:10pm", "created_by": "ChrisMackey", "replies": []}]}]}