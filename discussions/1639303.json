{"body": "\nHi Everybody,\n\n\n\nPlease keep in mind that I'm fairly new to using Rhino/Grasshopper and especially new to LB+HB. Anyway, I am trying to run an integrated energy + daylight simulation using the provided example file with my DWG file that I've exported from Revit into Rhino, but I'm having a few issues with the geometry.\n\n\n\nA few problems that I'm having with this:\n\n1. I can reference the surfaces to breps by selecting objects (walls, roofs, windows, etc.) that are associated with the imported layers no problem, but cannot create zones from breps\n\n\n\n2. Getting this error, \"Data conversion failed from brep to surface\" when flipping the floor.\u00a0\n\n\n\n3. Window geometry is different in Revit than how they are recognized in HB, what is the best way to make the windows workable in HB?\u00a0\n\n\n\nAny suggestions to help me get started with simulation for this building would be greatly appreciated! Links to my dwg file, gh file, and rhino file I'm working with are down below.\n\n\n\nThanks in advance!\n\n\n\n[DWG File](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=uOBQPd8TaYqhKHw4Y8ji0Y3JqlzlQIvIfHQrC1ZsINk%3d&amp;docid=19ed8b7bac058454ab68362aadd24a0e2&amp;rev=1)\n\n[GH File](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=gNVGFQAVwU1GZaQ7Au2I7vP4FTKUnit72XjAIOG5uUQ%3d&amp;docid=1b582062b38b84f81a270155bd79d0016&amp;rev=1)\n\n[Rhino File](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=ln4Togvl9Pd60JLCH8eXhWi4Hy5PVFbFFcIHaoB3sHM%3d&amp;docid=10b2ee39e8428414693cf63969d2bea68&amp;rev=1)\n\n\n", "attachments": [], "created_by_name": "Jeremy Kong", "created_at": "November 14, 2016 at 5:59pm", "created_by": "JeremyKong", "topic": "Integrated Daylight + Energy Simulation", "replies": [{"body": "\nHi Jeremy,\n\nThere are ways to get the surfaces that you need from this model but before that you need to make a bigger decision about how do you want to separate the floors for each zone? This model needs some cleaning to be useful. Can you export the gbXML file based on Rooms and use that model instead?\n\nYou can automate the process of creating zones for for each floor for one of the 4 buildings to get yourself familiar with the process but if you are new to Grasshopper it will be a challenge to manage a model in this scale.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 14, 2016 at 7:39pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nHi Mostapha,\n\nThank you for your quick response. Ideally I would like to separate each zone by rooms if possible, but I can settle for removing the walls and separating zones by floors for now.\u00a0\n\nI didn't know it was possible to import a gbXML file directly into Rhino/GH. I assume that is what you mean right? I will have to do some research on that. If it's possible to import a room based model in, then I will gladly take that approach instead; that seems much easier than working with the DWG. Also, HB and LB will be able to use the room data?\n\nI also tried using the import idf HB example file to import an idf file of my building, and I'm getting this error when I try running the energy simulation: \"Solution exception: 'str' object has no attribute 'name'. At first I thought it was because the model had no value in the \"str\" field before exporting the idf, but I double checked and it does. Any other suggestions? And if it's possible to bring the room based gbXML directly into Rhino/GH then ignore this question.\n\n[<img class=\"align-left\" src=\"http://api.ning.com:80/files/C1Uy1o3oshpYAj7O3W59W3VGHdwhrMCm7dKK71w2VIAUTfNmvtVLlTAu2j5bjXubbCepIeE2x1YaTH7w-w-64kiSeYTELgvQ/20161115_102106.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/C1Uy1o3oshpYAj7O3W59W3VGHdwhrMCm7dKK71w2VIAUTfNmvtVLlTAu2j5bjXubbCepIeE2x1YaTH7w-w-64kiSeYTELgvQ/20161115_102106.png)\n", "attachments": [], "created_by_name": "Jeremy Kong", "created_at": "November 15, 2016 at 11:32am", "created_by": "JeremyKong", "replies": []}, {"body": "\nNo gbXML import support in Honeybee right now but if the gbXML is clean then we can develope one. Can you share the idf file with me? Is it the same idf file as what Ladan shared last week? That one wasn't clean at all.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 15, 2016 at 11:43am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nI attached a few files, the idf with \"CLEAR\" in the name is the one that Ladan shared last week and has the same problem as mine when trying to run the energy simulation. The one with \"New\" in the name is the one that I'm currently working with and is similar to hers. The gbXML file is also attached. Any hints to what may be causing the error would be appreciated. And in your opinion, do you think it would it be better to continue working with the idf or DWG?\u00a0\n", "attachments": [], "created_by_name": "Jeremy Kong", "created_at": "November 15, 2016 at 1:15pm", "created_by": "JeremyKong", "replies": []}, {"body": "\nThere is no file attached!\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 15, 2016 at 7:13pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nOops, my bad. The files exceeded 5MB. Links are below. And just to clarify, the reason why we made a \"clear\" model is because the model with the sloped roof had a gap between the roof and the walls. The gap is no problem in Insight360, but causes problems when we import it into Rhino.\u00a0\n\n[Clear](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=IfcJDu95HNCUPXpWHosd2jX%2bZBLlgVYSg7A%2fpykOSKc%3d&amp;docid=1b4473724b6174428b73068e23210e357&amp;rev=1)\n\n[gbXML of Clear](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=5BfeuyOQ%2bD70tuUDMu6I0yLJyfRTjGbbI7NwkpTfn2k%3d&amp;docid=1df9849cda29a4691afe51f300d8911ed&amp;rev=1)\n\n[New](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=x4LhE8B7bu9KFeEfbIRQixIfnhzLlNtA8Hk8Qf1xjsc%3d&amp;docid=1c515a2de25b348088a11687e36ebe2f4&amp;rev=1)\n\n[gbXML of New](https://jamesthomas911-my.sharepoint.com/personal/jkong_glumac_com/_layouts/15/guestaccess.aspx?guestaccesstoken=q6NFPZtVohA9FgBebldwRfrzoCCxYyBz%2foQ5sU1Ylfc%3d&amp;docid=1167646ad2ebf47e19a069abad5817e50&amp;rev=1)\n\n\n\n\n", "attachments": [], "created_by_name": "Jeremy Kong", "created_at": "November 16, 2016 at 9:18am", "created_by": "JeremyKong", "replies": []}, {"body": "\nCheck the attached file. You need to run solve adjacencies again in Honeybee. I also made honeybee import a little bit more forgiving for files such as yours so it doesn't crash the simulation. Check the attached file\n\nAlso is the idf model created in Meters? You probably need to double check that.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/YmEteape79sOnR*OJCKB1D*VKnRscg3Sdceo6YH9D4xkH0-uUW9dWpYu-xLl6PGcpSqt0sXOKQOkb4dkWHtzF3WgEMA1o3c5/importIdf.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/YmEteape79sOnR*OJCKB1D*VKnRscg3Sdceo6YH9D4xkH0-uUW9dWpYu-xLl6PGcpSqt0sXOKQOkb4dkWHtzF3WgEMA1o3c5/importIdf.PNG)\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1641276", "name": "importIdf_2.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 17, 2016 at 7:11am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThank you very much Mostapha for your help. We'll try the attached file and we hope that we can run the energy simulation on the whole building.\u00a0\n", "attachments": [], "created_by_name": "Ladan GD", "created_at": "November 17, 2016 at 10:14pm", "created_by": "LillyGD", "replies": []}, {"body": "\nMostapha,\n\n\n\nI tried the file that you sent. Importidf works and EnergyPlus file runs and i can see the model in Rhino. However, the simulation fails because of sever errors. The main issue, I think, is that I only see Open Brep rather than Closed Breps. Please let me know if that is because of the fact that the idf file generated by GBS was not clear enough. I want to make sure that I am doing everything right, before making a conclusion here.\u00a0\n\n\n\nThanks again\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1647746", "name": "HB-Importidf errors.PNG"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1647747", "name": "Clear.idf"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1647748", "name": "importIdf_2_FromMostapha.gh"}], "created_by_name": "Ladan GD", "created_at": "November 28, 2016 at 2:00pm", "created_by": "LillyGD", "replies": []}, {"body": "\nHello again,\n\nI tried to use idf file created by DesignBuilder and imported that idf file to HB. The geometry is imported much nicer and cleaner. However, energyplus simulation crashes in HB.\u00a0\n\nWhen I use \"find Adjacency\" tool, it fails and I am not pretty sure why.\n\nWould you please tell me if I can make this clean file work or should I give up on importing idf from Revit totally?\n\n\n\nThanks\n", "attachments": [], "created_by_name": "Ladan GD", "created_at": "November 28, 2016 at 4:13pm", "created_by": "LillyGD", "replies": []}, {"body": "\nThe idf file is 7MB and I cannot unfortunately upload it here.\u00a0\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1647919", "name": "HB-OSM DB idf file.PNG"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1647920", "name": "HB-Error on DB import.PNG"}], "created_by_name": "Ladan GD", "created_at": "November 28, 2016 at 4:18pm", "created_by": "LillyGD", "replies": []}, {"body": "\nCan you zip and upload the idf file in dropbox and share the link here? I can't tell without checking the idf file.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 29, 2016 at 9:32am", "created_by": "MostaphaSadeghipour", "replies": []}]}], "id": "1639303"}