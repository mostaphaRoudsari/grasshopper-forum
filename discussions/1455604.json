{"body": "\nMay I ask if there is a way to save the honeybee thermal zones with adjacency solved, which may take a long time for large model, zone program, loads, etc., all defined so as to save the time to open the file next time or reuse it for different workflow?\n\n\n\nThanks!\n\n\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 5, 2016 at 12:01pm", "created_by": "Grasshope", "topic": "[WIP] is there a way to save fully specified honeybee thermal zones in a component for reuse?", "replies": [{"body": "\nHi Grasshope,\n\n\n\nI have been thinking about this and was waiting for someone to ask for it so I go ahead and implement it. Interesting that no one ever asked about this!\n\n\n\nCheck the attached file. There are two components that let you dump the objects to a file and load them back from the file. In this case once you have a large model already worked out you can save it and next time load it from the file. I have tested it for small models but let me know how it will work on a large model.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/g3YV6mxuqstxebks1d4ejdgfC3Edp-zTpmLxsGBrUu4yg-EoRXDlVGadzAG9x8V6UdWA7zAkIPOq*qUCh3akEUk6v5BqU7w2/dumpLoadHBObjects.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/g3YV6mxuqstxebks1d4ejdgfC3Edp-zTpmLxsGBrUu4yg-EoRXDlVGadzAG9x8V6UdWA7zAkIPOq*qUCh3akEUk6v5BqU7w2/dumpLoadHBObjects.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1455964", "name": "dumpObjects.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 5, 2016 at 8:11pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nWow this is amazing! Can't wait to test it out!\n\n\n\nMostapha could we use these for parametric optimizations? Put it right after the part that won't change anymore so that the whole chain won't be re-run/re-read? Perhaps there's no need, I'll test it out soon!\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 5, 2016 at 8:27pm", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nThank you very much, Mostapha!\n\n\n\nThese two component are very handy and they shall increase the efficiency of energy modeling workflow significantly which involves intensive thermal zone geometry preparation calculation!\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 5, 2016 at 10:43pm", "created_by": "Grasshope", "replies": []}, {"body": "\nHi Mostapha, I found the following problem with the 2 components:\n\n\n\n1. use the 1st component to save the .HB file\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/0EqXjSuwdKXfrfaTiGK3uH6smK0H9x4ZO547n5LeRRZdtC3kzxtx73IhengpoBGx*lz2lyTWQE3DDSRXtl7Go9Bwr-EuN96Y/1.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/0EqXjSuwdKXfrfaTiGK3uH6smK0H9x4ZO547n5LeRRZdtC3kzxtx73IhengpoBGx*lz2lyTWQE3DDSRXtl7Go9Bwr-EuN96Y/1.PNG)\n\n\n\n2. disable the write HB file component\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/0EqXjSuwdKX91YEnF9vcNayKFm4OkhhCuiuQ8ajIoUznc8U5-ayzoipDZlqXN5t1EylGd0wm1yMDlz1tbsx*Vrc8Cww5Nc40/2.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/0EqXjSuwdKX91YEnF9vcNayKFm4OkhhCuiuQ8ajIoUznc8U5-ayzoipDZlqXN5t1EylGd0wm1yMDlz1tbsx*Vrc8Cww5Nc40/2.PNG)\n\n3. save the GH file, close and reopen GH and Rhino, then open the GH file again,\n\n4. the .HB file cannot be loaded by the 2nd component\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/0EqXjSuwdKX4pkJKvbrMEaC*NVgbw5Vo6TKIPKjJN37xONktcd0i7*IwMC*pYY4g4xjxbysVLnzeNHF6XUaGcMiCz*Y0M3di/3.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/0EqXjSuwdKX4pkJKvbrMEaC*NVgbw5Vo6TKIPKjJN37xONktcd0i7*IwMC*pYY4g4xjxbysVLnzeNHF6XUaGcMiCz*Y0M3di/3.PNG)\n\nit seems that the Load component only works when the write component is activated.\n\n\n\nAppreciate if you can kindly check if you can duplicate the error.\n\n\n\nThanks!\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 6, 2016 at 8:16am", "created_by": "Grasshope", "replies": []}, {"body": "\nAh! I see where the problem is. I over-simplified the issue last night. It can be actually pretty hard as cPickle has limitations on de-serializing. Let me think about it more.\n\nPS: You may want to change the topic to \"[Maybe] is there...\" until I get this fix! ;)\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 6, 2016 at 11:03am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Grasshope and Theodore. Let's see if I get it right this time!\n\nPS: Grasshope please also consider these component as a gratitude to your recent\u00a0[post](http://www.grasshopper3d.com/group/ladybug/forum/topics/discussion-sky-view-factor).\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1461891", "name": "dumpObjects_001.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 12, 2016 at 11:19pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nDear Mostapha, thank you very much!\n\n\n\nApologize for my late replay as I was rushing a conference paper in the past few days.\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "February 13, 2016 at 11:34pm", "created_by": "Grasshope", "replies": []}, {"body": "\nHi Mostapha,\n\nI tried it and get some trouble.\n\nThe process i tried is:\n\nSave/dump the HBZones into a file.\n\nOpen a new GH file and uplad the previous saved file.\n\nThere i get this : 1. Solution exception:KeyError\n\nRuntime error (KeyNotFoundException): KeyError<br/>Traceback:<br/>\u00a0 line 136, in updateHoneybeeObjects, \"&lt;string&gt;\"<br/>\u00a0 line 155, in loadHBObjects, \"&lt;string&gt;\"<br/>\u00a0 line 177, in main, \"&lt;string&gt;\"<br/>\u00a0 line 180, in script\n\nIs this process supposed to be valid? Or both dump/upload must work inside the same file?\n\n\n\nThanks,\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 14, 2016 at 1:13am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Abraham, This is how it is supposed to work. I can't recreate the error. Can you share your .hb file with me? Thanks.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 14, 2016 at 6:03am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nSure.\n\nHere it is.\n\nI dumped it after some E+ settings components. Can this be the cause?\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1462913", "name": "testSaba.HB"}], "created_by_name": "Abraham Yezioro", "created_at": "February 14, 2016 at 6:22am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThanks Abraham! The issue was with the exporter. Let's try once more.\n\nYou'll still get an error since the component doesn't package schedules and construction/materials which we can add later but if the materials are loaded into library then it should work fine.\n\nOnce we have that in place, this will open up new opportunities. For instance you can break down the process and have a definition on a different machine waiting for the file to run the calculations while you're working on your model locally. #collaboration #cloud #rain\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1462704", "name": "dumpObjects_002.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 14, 2016 at 8:36am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nPS: You need to re-export the file and then try to load them.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 14, 2016 at 8:38am", "created_by": "MostaphaSadeghipour", "replies": []}]}]}