{"body": "\nHello HB+LB community,\n\nI am following the Shading Benefit example on Hydra ([http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;for...](http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;fork=hydra_2&amp;id=Energy_Shade_Benefit&amp;slide=0&amp;scale=1&amp;offset=0,0)) for a project.\n\n\n\nI was having compatibility issues so I decided to upgrade most of the components to Honeybee 0.59. However, now I get an error that states:\n\n\n\n\"1. Solution exception:global name 'shadeType_' is not defined\"\n\n\n\nI noticed that the version 0.58 has an input for the shadeType_ but it's no longer available in 0.59 so I'm not sure how to get it functioning.\u00a0\n\n\n\nThank you,\n\nJustin\u00a0\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1495627", "name": "EnergyPlus_Simulation_wShading.gh"}], "created_by_name": "Justin Shultz", "created_at": "March 29, 2016 at 11:13am", "created_by": "JustinShultz", "topic": "Global variable ShadeType_ not defined when using Honeybee 0.59", "replies": [{"body": "\nI discovered when the Shade Generator component was updated from v0.58 to v0.59 the shadingType_ input was not added to the component. I dropped in the v0.59 Shade Generator and the input is now available.\n\nAt the moment, plugging in the cooling loads of the building to the zoneData is freezing the simulation so I'll see what I can do.\u00a0\n", "attachments": [], "created_by_name": "Justin Shultz", "created_at": "March 29, 2016 at 11:23am", "created_by": "JustinShultz", "replies": []}, {"body": "\nI now receive a new error that is more confusing:\u00a0\n\n\n\n\"1. Solution exception:KeyError\"\n\n\n\nFrom the read me:\n\n\n\n\"\n\nNo shades schedule has been connected. It will be assumed that the shades are drawn when the setpoints are met.<br/>Runtime error (KeyNotFoundException): KeyError<br/>Traceback:<br/> line 1015, in createEPBlindControl, \"&lt;string&gt;\"<br/> line 1185, in main, \"&lt;string&gt;\"<br/> line 1230, in script\n\n\"\n", "attachments": [], "created_by_name": "Justin Shultz", "created_at": "March 29, 2016 at 11:30am", "created_by": "JustinShultz", "replies": [{"body": "\nHi Justin,\n\nDid you try to update the whole definition using update components and then recompute the definition? All the errors seems to be because of version discrepancies.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "March 29, 2016 at 1:01pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\u00a0\n\nThank you for the reply. I have now updated each component piece by piece with better success. However, following the Shading Benefit example on hydra with updated components to v0.59 freezes my Grasshopper. Running the EnergyPlus simulation is fine but when doing the shading benefit part the program freezes. Might there be something holding up the simulation?\u00a0\n\nJustin\n", "attachments": [], "created_by_name": "Justin Shultz", "created_at": "March 29, 2016 at 1:33pm", "created_by": "JustinShultz", "replies": []}, {"body": "\nHi,\n\nI can see that there is a change between the hydra version and the updated version of the HB_EPWindowShades components. Specially with the last input items (data1, 2, 3), which in the new there is only data1.\n\nI've tried adding the inputs in the component but the file works endlessly, so i assume some clarifications regarding those inputs will be welcomed.\n\nAlso in the HB_EnergyShadeBenefit\u00a0 inputs it is not clear now (for me) how the output of the Shads must be connected regarding the heating/cooling loads and beam gain inputs.\n\n\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "March 30, 2016 at 12:00am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nJustin,\n\nGlad that you were able to update the file.\n\nKeep in mind that the shade benefit calculation usually takes a good 2-5 minutes to complete. \u00a0It is projecting over 4000 sun rays from each of the 100+ test points on each of the windows so it's fairly computationally intensive.\n\nJust give it some time and you should get the result that you see on the Hydra example. I might also recommend running it for just one zone if you need faster feedback.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "March 30, 2016 at 7:36am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nI experienced a similar problem as Abraham. When configuring the model to study benefits of shading the file runs endlessly. I let it run for 7+ hours and at the end did not receive any results.\u00a0\n", "attachments": [], "created_by_name": "Justin Shultz", "created_at": "April 7, 2016 at 9:50am", "created_by": "JustinShultz", "replies": []}, {"body": "\nJustin and Abraham,\n\n\n\nSorry for not looking deeper into this before. \u00a0I didn't realize how much the new capabilities that I had added to the zone shades component had damaged the shade benefit workflow. \u00a0The big reason why the component was running endlessly was that when you add zoneData2_ and zoneData3_ inputs to the component, they were not being set to Tree access automatically (each item of the tree was being evaluated and this was causing the component to run 8760x4 times). \u00a0The assigning of tree access now happens automatically. \u00a0The attached file should work well without complications.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/5E78cygXwe2R1QniBTgBckm8DE7VllE3tasJaeVpm9x-9ZtAJLz9cJ6LUiyaZ1QyIeCqgD9DaDC7Z9F9JjtmNhJ5detDF1A8/WorkingShadeBenefit.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/5E78cygXwe2R1QniBTgBckm8DE7VllE3tasJaeVpm9x-9ZtAJLz9cJ6LUiyaZ1QyIeCqgD9DaDC7Z9F9JjtmNhJ5detDF1A8/WorkingShadeBenefit.JPG)\n\nAlso, I updated the Hydra example file:\n\n[http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;for...](http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;fork=hydra_2&amp;id=Energy_Shade_Benefit&amp;slide=0&amp;scale=1&amp;offset=0,0)\n\n\n\nLet me know if you have any other questions and thank you for bringing this to my attention.\n\n\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1505978", "name": "Energy_Shade_Benefit.gh"}], "created_by_name": "Chris Mackey", "created_at": "April 11, 2016 at 10:55am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks Chris!!\n\nAll this time i was thinking that i'm missing something. Now it is clear again.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "April 11, 2016 at 12:11pm", "created_by": "AbrahamYezioro", "replies": []}]}]}