{"body": "\nI got the following error when reading from a data component with one set of cumulative sky matrix data \"internalized\":\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/oSKcjFmw4GIvvvHBfNo6eazv9ABJT4nI*Obpu9OF1Djr19UxF8tVq3oCoeG0BCSk9HKvDt*EZ7xXZLS1T-9t9azjnlb4420r/Image34.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/oSKcjFmw4GIvvvHBfNo6eazv9ABJT4nI*Obpu9OF1Djr19UxF8tVq3oCoeG0BCSk9HKvDt*EZ7xXZLS1T-9t9azjnlb4420r/Image34.png)\n\nDoes this mean cumulative sky matrix cannot be stored?\n\n\n\nAppreciate your kind advice.\n\n\n\n- Ji\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1726799", "name": "unable to store sky matrix data.gh"}], "created_by_name": "Grasshope", "created_at": "April 4, 2017 at 12:07am", "created_by": "Grasshope", "topic": "can cumulative sky matrix be stored in a data component?", "replies": [{"body": "\nHi Ji,\n\n\n\nThe component that creates the cumulative sky [returns a Python Class](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/Ladybug_GenCumulativeSkyMtx.py#L330-L339). And the component that receives the cumulative sky [needs that Python class as input](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/Ladybug_selectSkyMtx.py#L188-L193). I don't think native python components can be internalized and retrieved inside Grasshopper. The error you are getting can be traced back to this\u00a0[line](https://github.com/mostaphaRoudsari/ladybug/blob/master/src/Ladybug_selectSkyMtx.py#L189) in the code where the script expects a class with a 'd' attribute.\n\nSo, to answer your question, cumulative matrix cannot be internalized.\n\n\n\n(There is a slight chance that I might be incorrect about this. If so, I hope someone would provide the right answer.)\n", "attachments": [], "created_by_name": "Sarith Subramaniam", "created_at": "April 4, 2017 at 1:48am", "created_by": "sarith", "replies": [{"body": "\nHi,\n\nProbably Sarith is right.\n\nThe only reason i can think about of internalizing the data is to transfer it to someone else. Otherwise i'm not sure it makes much sense. My understanding is that the genCumSky creates the mtx files the FIRST time it was asked for, for the EPW. It checks if those files exist already. If so, it only reads them (which takes some time because they are big files), if no it calculates them.\n\nSo, just for my curiosity, why you want to internalize them, Ji?\n\n\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "April 4, 2017 at 3:06am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThank you both, Sarith and Abraham.\n\n\n\nTo Ahbraham, the reason to store sky matrix is because it takes a while to generate the matrix every time a new weather file is used, especially when higher resolution of the sky subdivision is used.\n\n\n\nNevertheless, it's still ok as it takes less than 30 seconds to generate the sky matrix for the default 145-patch Tregenza sky subdivision....\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "April 5, 2017 at 2:18am", "created_by": "Grasshope", "replies": []}, {"body": "\nSarith is right. Grasshopper is incapable of loading internalized python objects so it cast the \"unknown type\" to a string. There might be a way to internalize them if we wrap them in a grasshopper object but I have never tested it.\n\nWe can also enhance the performance of the current parser to load the matrix faster. I re-wrote the parser for the new ladybug but that one should also be improved. It's just a matter of time! :)\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 5, 2017 at 7:45am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThanks, Mostapha, for the clarification.\n\n\n\nI noticed that in your youtube tutorial video on [gendaymtx](https://www.youtube.com/watch?v=s3stJVyaRmg), you have two components indicated as TregenzaSky and ReinhartSkyMtx, respectively. Are these components valid only during that particular GH session? i.e. once that GH file is closed and reopen, the two sky matrix need to be re-created?\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "April 5, 2017 at 9:04pm", "created_by": "Grasshope", "replies": []}, {"body": "\nExactly! I just internalized them for the video and that was it. Once the file is closed it needs to be recreated.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 10, 2017 at 8:57am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi,\n\nMy understanding was that once the MTX files are created for the first time they not need to be recreated but just read from those files.\n\nAm i wrong?\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "April 11, 2017 at 11:39am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nYou're right. By \"recreate\" I mean recreating the object from the mtx files.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 13, 2017 at 6:05am", "created_by": "MostaphaSadeghipour", "replies": []}]}]}