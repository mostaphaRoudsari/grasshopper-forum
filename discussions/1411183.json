{"body": "\naccording to the explain for the **ladybug_radiation analysis** component, the total radiation is calculated by the **\"sum of irradiance for each test point [kWh/m2]\"** multplies the **\"sum of patch area represented by each test point [m2]\"**.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/IXJDKpr04IoMbuJ4FyFa3WOTIzgvP1i17ezSz-h7DITCrsaMCwicylpCy8RZfCzfuSpD6FETfcptei*qO*IkNzX98rlERXwZ/Picture1.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/IXJDKpr04IoMbuJ4FyFa3WOTIzgvP1i17ezSz-h7DITCrsaMCwicylpCy8RZfCzfuSpD6FETfcptei*qO*IkNzX98rlERXwZ/Picture1.png)\n\n\n\nI'm thinking if this is correct because the area for each surface patch represented by a test point may not be the same depending on the meshing of the building envelope.\n\n\n\nI think the correct way of total solar radiation calculation should be the **mass addition** of \"**irradiance for each test point multiplies the area the test point associated with**\".\n\n\n\nPlease kindly verify if my suggestion is correct!\n\n\n\nThank you!\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "November 28, 2015 at 7:33am", "created_by": "Grasshope", "topic": "[clarified] is the solar radiation analysis summation method correct?", "replies": [{"body": "\nHi Grasshope,\n\nExactly for the same reason that you said that the area of the surfaces are not the same we need to multiply the values by area before adding them together. Imagine you have a horizontal surface with area of 20 m2 vs another surface with area of 10 m2. If you use different grid sizes the result will stay the same in the current approach (and that's what the right value) but with your approach the value will be drastically effected by the grid size. For an extreme case think of a single test point in the center of both surfaces. They will show the same total values.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "November 28, 2015 at 6:15pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nDear Mostapha, thank you for your reply!\n\n\n\nI'm not sure if I explained my point clearly. So, let's use the following example of a building surface with two patches after subdivision for simulation, each having a test point at its centroid with an irradiance reading.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/FAP00mbKuci5gQ5iQ4kx9Xu-V2ixYZKpLdHa7XVBkmHlD9y0ARde*8dqiD9J-aQpT2EThj4r0VogsVqfq5q0HGO4WR4PPADX/Picture1.png\" width=\"451\"/>](http://api.ning.com:80/files/FAP00mbKuci5gQ5iQ4kx9Xu-V2ixYZKpLdHa7XVBkmHlD9y0ARde*8dqiD9J-aQpT2EThj4r0VogsVqfq5q0HGO4WR4PPADX/Picture1.png)\n\nSo, shoudn't the total radiation energy for this surface be calculated as the sum of the radiation energy for patch A (3*2=6kwh) and that for patch B (5*1=5kwh) which is 11kwh?\n\n\n\nThe result for the current summation method used in Ladybug is (3+5)*(2*1)=24kWh.\n\n\n\nAs far as I understand, irradiance is an \"intensity\" variable, so, we need to multiply it by area to get the value of the absolute amount of radiation energy for a surface.\n\n\n\nPlease kindly comment.\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "November 28, 2015 at 8:50pm", "created_by": "Grasshope", "replies": []}, {"body": "\n[](http://api.ning.com:80/files/GHjisZ0-*yS6z2bmuT1NPnIXLedaA5VqM1BNHBF7u*rXoeSwqX4h2PePKMhNJ5kCjXRvQyU1Y3HeQO9noAe4jDYUCNgY9Vvg/totalRadiation.png)\n\nHi Grasshope, The first approach is what Ladybug does under the hood. I think we both agree that's the right way to do it. I made an example that should show how does it work under the hood.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/GHjisZ0-*yS6z2bmuT1NPnIXLedaA5VqM1BNHBF7u*rXoeSwqX4h2PePKMhNJ5kCjXRvQyU1Y3HeQO9noAe4jDYUCNgY9Vvg/totalRadiation.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/GHjisZ0-*yS6z2bmuT1NPnIXLedaA5VqM1BNHBF7u*rXoeSwqX4h2PePKMhNJ5kCjXRvQyU1Y3HeQO9noAe4jDYUCNgY9Vvg/totalRadiation.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1413227", "name": "radiation_analysis_cumulative_results.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1413228", "name": "totalRadiation.png"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "December 1, 2015 at 8:34am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nAh! Got you... The explanation on the component is wrong. I will get it fixed. Sorry that I didn't read it carefully. The calculation method is accurate though.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "December 1, 2015 at 8:39am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nVery Sorry. \u00a0This is my mistake. \u00a0I didn't even realize how wrong the description was when I wrote it. \u00a0Thanks for fixing this, Mostapha.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "December 3, 2015 at 11:29am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nDear Mostapha and Chris,\n\n\n\nThank you very much for your clarification!\n\n\n\nI'm glad that we agree with the rationale of calculation used by Ladybug under the hood!\n\n\n\nThanks, again!\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "December 3, 2015 at 10:31pm", "created_by": "Grasshope", "replies": []}]}], "id": "1411183"}