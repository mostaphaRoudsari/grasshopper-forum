{"body": "\nHi everyone,\n\n\n\nI'm trying to run an optimization for an Origami structure in Butterfly, in order to maximize wind speed beneath it. As Mostapha Roudsari said\u00a0[here](https://github.com/ladybug-tools/butterfly/issues/131), it is necessary to set interval -1 in the Butterfly_Solution component to visualize only the last value, during the simulation.\n\n\n\nWith this setting, the optimization through Galapagos seems to start in a good way, but after some iterations it stops due to this error on blockMesh component:\n\n\n\nRuntime error (ArgumentException): Environment variable name or value is too long.<br/>Traceback:<br/> line 420, in __setitem__, \"C:\\Program Files\\Rhinoceros 5 (64-bit)\\Plug-ins\\IronPython\\Lib\\os.py\"<br/> line 80, in getShellinit, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 69, in containerId, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 260, in _RunManager__command, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 316, in run, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 716, in command, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\case.py\"<br/> line 748, in blockMesh, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\case.py\"<br/> line 112, in getContainerId, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 215, in command, \"C:\\Users\\mmel\\AppData\\Roaming\\McNeel\\Rhinoceros\\5.0\\scripts\\butterfly\\runmanager.py\"<br/> line 47, in script\n\n\n\n\n\nAnyone know how to fix it?\n\nThank you\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1749687", "name": "phase_1.PNG"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1749688", "name": "phase_2.PNG"}], "created_by_name": "Federico Cucchi", "created_at": "May 11, 2017 at 6:04am", "created_by": "FedericoCucchi", "topic": "Butterfly and Galapagos Optimization", "replies": [{"body": "\nHi Federico,\n\nThis is a bug and this is why it is happening: I\u00a0[add the path to programs files and docker to os.environ](https://github.com/ladybug-tools/butterfly/blob/master/butterfly/runmanager.py#L80) every time that the analysis is ran without checking if it already exist and in your case after a couple of 100 times it end up being too long. I can fix it quickly today or tomorrow and then you can update it on your machine.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "May 11, 2017 at 7:28am", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nIt should be fixed now. You need to:\n\n1. Updated butterfly installation using the attached file. The last updated date should be 2017-05-11 09:44:00\n\n2. Restart **Rhino** and Grasshopper. Closing or unloading Grasshopper won't reload the libraries.\n\n3. Open your file and try again.\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1749761", "name": "update_butterfly.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "May 11, 2017 at 8:27am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\n\n\n\nit seems ok, I am running the optimization with the updated version and the results seems good.\n\nThanks a lot!\n", "attachments": [], "created_by_name": "Federico Cucchi", "created_at": "May 11, 2017 at 9:35am", "created_by": "FedericoCucchi", "replies": []}]}]}