{"body": "\nI got the following error when using the indoor view factor calculator component which is working fine previously**:**\n\n**Solution exception:'int' object is unsubscriptable**\n\n\n\nMay I ask what's the source of the problem and how to solve it?\n\n\n\nThank you!\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/k4uCoQpo4b4JyxyB8HVSHtwr4O0dfE2WEo4waFcso-p89n*X1X3ki8q9h2vWx*WMwsA6de0TyWi*QeDcOwWfqD4Z6w-yOcA-/Capture.PNG?width=750\" width=\"750\"/>](http://api.ning.com:80/files/k4uCoQpo4b4JyxyB8HVSHtwr4O0dfE2WEo4waFcso-p89n*X1X3ki8q9h2vWx*WMwsA6de0TyWi*QeDcOwWfqD4Z6w-yOcA-/Capture.PNG)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1448359", "name": "typology_v048.gh"}], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 9:32am", "created_by": "Grasshope", "topic": "[issue to be reported] \"indoor view factor calculator\" & \"Microclimate Map Analysis\" error", "replies": [{"body": "\nOK, I replaced the indoor view factor calculator and its input components from a previous working file, and it works now, strangely ...\n\n\n\na new problem now for the microclimate mapping component with the error message of:\n\n**The calculation has been terminated by the user!** , although I didn't intervene at all ....\n\n\n\nMay I have your advice on this problem?\n\n\n\nThank you!\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/k4uCoQpo4b7gXnRCLihwvQX0xTxbbgkXdDL8BN9-MAttY-3zMQ1xgxbl*4ftwXRz*WVmBYKy-yq8hpH7U6InEhpI3thed-Lx/Capture.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/k4uCoQpo4b7gXnRCLihwvQX0xTxbbgkXdDL8BN9-MAttY-3zMQ1xgxbl*4ftwXRz*WVmBYKy-yq8hpH7U6InEhpI3thed-Lx/Capture.PNG)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1448373", "name": "typology_v050_run.gh"}], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 9:54am", "created_by": "Grasshope", "replies": [{"body": "\nDear bee and bugs, really appreciate if you can kindly help to take a look and advise cause I'm kind of stuck here....!\n\n\n\nThank you very much!\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 8:18pm", "created_by": "Grasshope", "replies": []}, {"body": "\nI suggest you to simplify your example, for the sake of the simulation time. All Comfort analysis is processor consuming.\n\nJust opening the file takes a while ...\n\nI see that you want to analyze only one zone, so why you are connecting all the 53 zones to the analysis. I suspect that your computer gets \"tired\" and it's resources are exhausted.\n\nCan be?\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "January 27, 2016 at 11:09pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThanks, Abraham!\n\n\n\nI agree that my example file is too complicated to run for debugging purpose...\n\n\n\nNevertheless, I found that if analysis period is disconnected with the microclimate mapping component, it will work fine, but with only winter solstice data is generated.\n\n\n\n\n\nI wonder if the error is caused by reading analysis period for this component.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/UjLFZWxAkgrWwQI0H2vP44grR2N0uPY96DGV3MD5KbNVRMDU1dKTcP*uOqA-er65hJDE79YGQSEGTlkqM427Q0Y4sKJvmvXw/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/UjLFZWxAkgrWwQI0H2vP44grR2N0uPY96DGV3MD5KbNVRMDU1dKTcP*uOqA-er65hJDE79YGQSEGTlkqM427Q0Y4sKJvmvXw/Capture.JPG)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/UjLFZWxAkgp6261Nc3HIFXIQ1pOm*l2VAVnS0-YwU1L2kb0yueUYMZErOvV4FEhocCtLquiQQTSP4VquN-tE1U2*i-74H3Ru/2.JPG\" width=\"675\"/>](http://api.ning.com:80/files/UjLFZWxAkgp6261Nc3HIFXIQ1pOm*l2VAVnS0-YwU1L2kb0yueUYMZErOvV4FEhocCtLquiQQTSP4VquN-tE1U2*i-74H3Ru/2.JPG)\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 11:20pm", "created_by": "Grasshope", "replies": []}, {"body": "\nAs to the thermal zones connected to the view factor calculator component, I follow the original workflow shown on Hydra in which all thermal zones used for energyplus simulation are connected to this component.<br/><br/>\n\nIs is correct?\n\n\n\n[http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;for...](http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;fork=hydra_2&amp;id=Outdoor_Microclimate_Map&amp;slide=0&amp;scale=8&amp;offset=-3145.2006523050277,-1082.4769877437886)\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 11:24pm", "created_by": "Grasshope", "replies": []}, {"body": "\nOK, I simplified the geometry for test, and it runs faster now.\n\n\n\nHowever, the problem for the Microclimate Map Analysis component is still there when connected to analysis period component ...\n\n\n\nHelps are greatly appreciated!\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/UjLFZWxAkgrGRHsvdIFsJk*wOTIVdBnPolu7dIIdgaej5n*UIOtyU73V0emWa7QCsZ54TAasl1FHrFPbM3QZvq4cCx4oEfRT/3.JPG\" width=\"453\"/>](http://api.ning.com:80/files/UjLFZWxAkgrGRHsvdIFsJk*wOTIVdBnPolu7dIIdgaej5n*UIOtyU73V0emWa7QCsZ54TAasl1FHrFPbM3QZvq4cCx4oEfRT/3.JPG)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1448927", "name": "typology_v053_simple_geom.gh"}], "created_by_name": "Grasshope", "created_at": "January 27, 2016 at 11:59pm", "created_by": "Grasshope", "replies": []}, {"body": "\nYes. You should connect all zones (my bad) since it is required for the MRT calculations.\n\nI'll check your file ...\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "January 28, 2016 at 12:04am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nI noticed that the Microclimate Map Analysis component was just updated on Jan-26. I wonder if it is the latest update of this component that causing the problem...\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "January 28, 2016 at 12:02am", "created_by": "Grasshope", "replies": []}, {"body": "\nSee attached,\n\nIt is working but is not \"healthy\".\n\nThere is a problem with the analysisPeriod component and the results obtained from different simulations. I mentioned this issue in another discussion (can't recall which one).\n\nSee at the right the yellow group. Instead of connecting the analysisPeriod to the HB_MicroclimateMap i connected a HOY. It works and shows the selected hour, but ...\n\nThe legend shows a wrong month (March instead of April). When you go to hour 17 it crashes also. Don't understand why.\n\nNotice that also the KB_selectAndAverageData is failing (trying to divide by zero). So, something is going on there and i can't catch it exactly. Maybe it is related to some \"Line meshes\" output in the HB_IndoorViewFactor.\n\n\n\nWill be glad if Chris can have a look or give his opinion on this.\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1448881", "name": "typology_v053_simple_geom_AY.gh"}], "created_by_name": "Abraham Yezioro", "created_at": "January 28, 2016 at 4:21am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThank you very much, Abraham, for your kind help!\n\n\n\nI found that average data component works for full year hourly results, so, I'm not sure if there is a bug in this component that can't deal with non-annual data.\n\n\n\nI also noticed, as you mentioned, that there are quite a lot of month-day-hour combination for the HOY component that will make the Microclimate Map Analysis component fail:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/G6D6VGDF3GumzKsXCFL81KrgdQm-k4B58RnYSWf8-1ibwMw5Ly3-aTZkJ4A98iCBqqP-E85hGYtsmFaXobmnnjANsaDfRABB/7.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/G6D6VGDF3GumzKsXCFL81KrgdQm-k4B58RnYSWf8-1ibwMw5Ly3-aTZkJ4A98iCBqqP-E85hGYtsmFaXobmnnjANsaDfRABB/7.JPG)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/G6D6VGDF3Gun6FQPFoW8h74cspsI9IfT0C-FZXqxnFRjZoUgOQ4OQ60*Xp*7igXSRzNSMO8ZMrUTwPiU7p3y942w3kr7VNnj/8.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/G6D6VGDF3Gun6FQPFoW8h74cspsI9IfT0C-FZXqxnFRjZoUgOQ4OQ60*Xp*7igXSRzNSMO8ZMrUTwPiU7p3y942w3kr7VNnj/8.JPG)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/G6D6VGDF3GsIo1s91Nylv4sv-FtWoJn0Jcrc3anWAriKW0Gak2NRIn1TrpqWy1tkxT*bYeEQeH8vSOuumAEYd5nJY*LdUm-1/9.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/G6D6VGDF3GsIo1s91Nylv4sv-FtWoJn0Jcrc3anWAriKW0Gak2NRIn1TrpqWy1tkxT*bYeEQeH8vSOuumAEYd5nJY*LdUm-1/9.JPG)\n\nSo, I'll change the title of this post to get Chris and Mostapha's input.\n\n\n\n\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "January 28, 2016 at 10:54pm", "created_by": "Grasshope", "replies": []}, {"body": "\nI would report the issue in the github.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "January 28, 2016 at 11:02pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nAbraham and Grasshope,\n\nI apologize for being so lat to the conversation. \u00a0The stable release last week took a lot of time and, now that we are well past it, I can get down to addressing all of the discussions.\n\nThe heart of the problem was a math domain error that was occurring in the function that calculates indoor air stratification, which is ironic as this was a simulation that did not have any indoor test points. \u00a0This has now been fixed in the attached file and on the github.\n\nThe second issue was that the month was off by 1 when you connected up an HOY and this has also been fixed now.\n\n[https://github.com/mostaphaRoudsari/Honeybee/commit/d45ac37bc8b9db3...](https://github.com/mostaphaRoudsari/Honeybee/commit/d45ac37bc8b9db3f76aa5d9fcc00687394b9ef5d)\n\n\n\nMy last comment is a suggestion to break up the ground top surface into several surfaces as this allows the temperature maps to account for spatial differences in ground temperature across the scene. \u00a0This is what I do in this file here:\n\n[http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;for...](http://hydrashare.github.io/hydra/viewer?owner=chriswmackey&amp;fork=hydra_2&amp;id=Outdoor_Microclimate_Map&amp;slide=0&amp;scale=1&amp;offset=0,0)\n\n\n\nThanks for getting down to the cause of issues like this one. It really makes these bugs much easier to fix. Between the both of you, I feel you can take credit for over 90% of the bug fixes in the community.\n\nGreat job, as always,\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1454146", "name": "typology_v053_simple_geom_AY_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "February 3, 2016 at 3:41pm", "created_by": "ChrisMackey", "replies": []}]}]}