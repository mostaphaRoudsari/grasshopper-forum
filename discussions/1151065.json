{"body": "\nHi,\n\nI have a kind of question or bug report. Probably the first.\n\nI'm trying to \"control\" the zone program for each of them. I'm using the HB_ListZonePrograms component and connecting it to the HB_Mass2Zone. I'm choosing MidRiseApartment from the BldgPorograms.\n\nSo the first question is how to assign a precise program for each zone? I assume the Mass2Zone makes some random assignment ...\n\nIn the attached picturre i tried to pick from the list and make all of the zones \"Apartments\". It is not working.\n\nMoreover, if you look at the right side of the picturre it asigned an OpenOffice use, which is not part of the list at all (is this a bug?).\n\nI'm kind of confuse what is the \"proper\" workflow on this matter.\n\nHow to set the program more precisely per/zone at the beginning or change it in the middle of the work.\n\nThanks,\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1151064", "name": "Capture.PNG"}], "created_by_name": "Abraham Yezioro", "created_at": "October 18, 2014 at 7:37am", "created_by": "AbrahamYezioro", "topic": "Building program workflow", "replies": [{"body": "\nI would add that the midRiseApartment program is faulty (in the case i'm testing). The simulation fails using this program. Changing to any other it runs ok.\n\nIt says:\n\n1. Failed to find NONE in the Honeybee schedule library.\n\n1. Solution exception:'NoneType' object has no attribute 'lower'\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "October 18, 2014 at 8:59am", "created_by": "AbrahamYezioro", "replies": [{"body": "\nAbraham,\n\nI know why this happens and I will say that it is intentional but I also think that it might as well be a bug since I have seen so many people mess this up (including myself in the public videos that I put up) such that I think we should change it.\n\nThe Mass2Zone component has traditionally required you to input a full list of values for the zoneProgram, the zoneNames, and the isConditioned, that matches the length of the zoneMasses list. \u00a0However, everyone who uses this component expects to be able to plug in a single value for the zoneProgram and have it apply to all of the connected zones.\n\nAccordingly, I have just re-written the component and posted it to the github. \u00a0The component will now assign the zone program to all zones when a single value is connected and, if you plug in a longer list of values that does not match the length of the zoneMasses list, the component will give you a warning to let you know that it is assigning a default zoneProgram, zoneName, or isConditioned value.\n\nThis is such a serious issue that I think it merits changing all of my example files and changing this component in the userObjects folder at the app.box link. \u00a0I am going to do this now.\n\nThanks for reporting this, Abraham. \u00a0I had known about the issue but the full magnitude of how serious it is did not hit me until you posted.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "October 18, 2014 at 4:31pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks Chris!\n\nAbraham, We went back and forth on this couple of times. I assume what Chris just did should make it work as expected.\n\n\n\nBack to None problem for residential that look like a bug in OpenStudio JSON file. I am far behind of updating the JSON file and I assume they have already fixed that as I reported the issue few months ago. For now you can use setZoneSchedule and fix the issue by applying your own schedule for the NONE schedule.\n\n\n\nMostapha\n\n\n\n\u00a0\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 18, 2014 at 9:44pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi,\n\nThanks for your both replies.\n\nI get it to work. I added a NONE schedule in my custom definitions.\n\nI have a couple of issues, not exactly related to the discussion subject, but still, i'll write them here.\n\nAttached the file i'm using and my custom definitions IDF, so you can test also.\n\n1. In the isConditioned input i gave a list where one zone is not conditioned and the other 5 are. The ColorZones component is failing (1. Solution exception:index out of range: 5) - see point 5 in the file. The reason is that it is expecting that all zones are conditioned. When i input temperatures (for instance) it works fine. How you suggest to work out this (very) possible situation?\n\n2. Naming and assigning a list for the zones (point 1 in file) in certain order is not consistent with the order i can show the different zones (for instance point 7 in file). Is there a way to have more control in the naming and programing a zone (besides doing one by one)? Or any other suggestion you have for this file wil be welcomed.\n\n\n\nThanks,\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1151720", "name": "H_Bldg1.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1151721", "name": "userCustomEPLibrary.idf"}], "created_by_name": "Abraham Yezioro", "created_at": "October 19, 2014 at 2:52am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi again ... and sorry for asking so much.\n\nI have another issue here. I'm changing the construction materials with the setEPZoneCnstr component (according to video 16, i think) (see point 4 in attached). So far so good. Simulation is fine.\n\nThe issue happens with the RadiantTempMap component when i connect the HB_Zones with the output of the setEPZoneCnstr component. Then i get the following message (see point 8 Bad):\n\n**1. For one of the meshes in the _viewFactorMesh, the number of faces in the mesh and test points in the _testPtsViewFactor do not match.**<br/>**This can sometimes happen when you have geometry created with one Rhino model tolerance and you generate a mesh off of it with a different tolerance.**<br/>**Try changing your Rhino model tolerance and seeing if it works.**\n\n\n\nWhen the connected zones coming from the output of point 3 in file it is OK.\n\n(You need the Custom file from my previous message).\n\nAny ideas?\n\n\n\nThanks,\n\n-A.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1151483", "name": "H_Bldg1.gh"}], "created_by_name": "Abraham Yezioro", "created_at": "October 19, 2014 at 7:42am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nThis is also a question for Chris. I think you guys have been through this issue once. Chris, let me know if you want me to take a look at this.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 19, 2014 at 1:00pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nAbraham,\n\nSorry for getting back so late. \u00a0Very busy week with midterms here. \u00a0I have this whole weekend blocked off for updating, though :)\n\n1. I just fixed the bug in ColorZones such that you can now connect up lists of data that do not include values for all connected zones (and vice versa). \u00a0 Everything should be good now in these cases (see attached image of my parent's house with an unconditioned attic).\n\nAs for the issue with the MRT temperature map, I am looking into it now. \u00a0Will post back shortly.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1154493", "name": "Fixed Unconditioned Zones.PNG"}], "created_by_name": "Chris Mackey", "created_at": "October 23, 2014 at 12:55pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nAh I read a bit more in the discussion and realized why the Viewfactor component was not working correctly for you. \u00a0I just uploaded a new user object that always flattens the zones by default. \u00a0This should prevent future users from experiencing the same problem.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "October 23, 2014 at 12:59pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks Chris,\n\nThe ColorZones is ok now but ... ColorSurfaces and RadiantTempMap\n\ncomplain about:\n\n**1. Solution exception:'tuple' object has no attribute 'startswith'**\n\n\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "October 23, 2014 at 2:55pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nOh gosh. \u00a0This was because of some new code that I put in to deal with a stream of raw data that I was bringing in from a field study. \u00a0I just uploaded a version of these two components that is fixed now. \u00a0I think that I am going to make a new component for Ladybug that allows you to construct a custom Ladybug header for any data set. \u00a0This way we get easy compatibility with other GH tools and raw data that people might bring in from instruments. \u00a0I tried to make something to accommodate this inside our current components and this was not the right way to go.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "October 24, 2014 at 12:09am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Abraham,\n\n1. This is a bug in ColorZones. It happening because when you read the results no result will be available for branch 1, and the component doesn't consider this and fails mapping the values on the zones. Chris is the one who really knows about the component so I leave it to him.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/szrS1FfaDDICokm1nVKuaanpm9wyj1YS94kKt6lkQbObLJQWHPPa*iMnk3wtyhdFeDepaVNlvBuarujBTvXXsh5UoGc-MlCN/colorZone_bug.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/szrS1FfaDDICokm1nVKuaanpm9wyj1YS94kKt6lkQbObLJQWHPPa*iMnk3wtyhdFeDepaVNlvBuarujBTvXXsh5UoGc-MlCN/colorZone_bug.png)\n\n\n\n2. I can't see the issue. The naming is consistent on my system. You need to help me with this to get it right! :|\n\n\n\nMostapha\n\n\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 19, 2014 at 12:59pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThanks Mostapha,\n\nYes, we discussed the RadiantTempMap before. It was related to the model tolerance. But i don't think it is the problem now, because what i wrote above.\n\nAs for point 2. Let's take for example the zone named \"Core\". It is the 3 in the list of the names at point 1 in file (the same for all other properties there). But it is the second in the brep list. It is like all zones are shifted by one, geometries and properties. I just played wit the order so it will fit.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "October 19, 2014 at 1:30pm", "created_by": "AbrahamYezioro", "replies": []}]}]}