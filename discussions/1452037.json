{"body": "\nHi Mostapha, Chris and Abram\n\n\n\nHaving read Kimia's comment, I made a new potential component that finds sunrise, sunset for anyplace on earth using equations from Astronomical Algorithms, by Jean Meeus.<br/>Besides these two output, it calculates the solar position (elevation angle and azimut) considering the atmospheric refraction.<br/>I saw the difference between **solInitOutput** (based on Radiance) and the script that I wrote (based on NOAA). Some formulas are the same, while others are different. for example \"Julian day\", \"solar altitude\"..<br/>Anyway, they are two different models.<br/>At the moment the imputs are:<br/>1) location<br/>2) analysis period<br/>3) year<br/>and the outputs are:<br/>1) civil twilight<br/>2) official sunrise/sunset<br/>3) solar elevation angle<br/>4) solar azimut<br/>This is an example where I used data of a real place.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/cKnzGdTqAJ65rtzfvzauFQ*jEdaHD1-fVTo08OptvdpHLLJWFaT09vzaLOkXSeOF-cO*2pKmjWfhb9IZ6NE-6v-uJ8LLbK37/Info_sun.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/cKnzGdTqAJ65rtzfvzauFQ*jEdaHD1-fVTo08OptvdpHLLJWFaT09vzaLOkXSeOF-cO*2pKmjWfhb9IZ6NE-6v-uJ8LLbK37/Info_sun.png)and these are two photos that I took in this place.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/cKnzGdTqAJ4KoOSnYEAyOW2uGBIUmgH9HZit2M16foL1KAI3RhDe8YFsbHdlVg9-hSK0hloncR*AiVJFmYiH1TpL6E0PaORN/civil_06_44.jpg\" width=\"554\"/>](http://api.ning.com:80/files/cKnzGdTqAJ4KoOSnYEAyOW2uGBIUmgH9HZit2M16foL1KAI3RhDe8YFsbHdlVg9-hSK0hloncR*AiVJFmYiH1TpL6E0PaORN/civil_06_44.jpg)**SUNRISE (Civil Twilight) 06:44 AM**\n\n\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/cKnzGdTqAJ4xdMlqU19vznptRIZ0mQWAYHXiQkAFVpcEv5qNDihPKLR6fU3vk9M3Zuaxqav0lqMRORl9CRHCVh1ezkLoJxmp/official_07_13.jpg\" width=\"554\"/>](http://api.ning.com:80/files/cKnzGdTqAJ4xdMlqU19vznptRIZ0mQWAYHXiQkAFVpcEv5qNDihPKLR6fU3vk9M3Zuaxqav0lqMRORl9CRHCVh1ezkLoJxmp/official_07_13.jpg)**SUNRISE (Official) 07:14 AM**<br/>Note that in the first photo the street lights are on, while in the second are off because of the good level of luminous energy.<br/>I hope that it could be useful.\n\n<br/>Bests<br/>Antonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1452036", "name": "Info_Sun.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "February 1, 2016 at 8:58am", "created_by": "AntonelloDiNunzio", "topic": "Ladybug_sunrise/sunset", "replies": [{"body": "\nCool, are you going to put it on github?\n", "attachments": [], "created_by_name": "Anton Szilasi", "created_at": "February 1, 2016 at 10:30am", "created_by": "AntonSzilasi", "replies": [{"body": "\nHi Anton\n\n\n\nCertainly! Thank you! The good thing is that you can change the year from -1000 to 3000.<br/>I was thinking to use some outputs of it to make artificial light schedules for Honeybee. But I don't know if it is a good idea. What do you think about?\n\nBests<br/>Antonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "February 1, 2016 at 11:06am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nThis is nice Antonello.\n\nCan you elaborate what is the additional value from this component comparing with the LB_sunpath? I'm curious about the light schedules you mention.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 1, 2016 at 12:22pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 2, 2016 at 5:06pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nChris and Abraham,\n\nThank you for your reply. I have to do the latest checks so I can send my pull request.\n\n\n\nI have made other two component, I have studied a method to make HB schedules faster than the actual method.\n\nBelow, I descibe how they work:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl2xzScRugwaQ9wth7LjEZc3GvsRQ1Rma-rjAWzZOCiYFzPBTbptd8*UNKb1E8WhlNYvakboOanpnDYWFvEAlZUB/01.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl2xzScRugwaQ9wth7LjEZc3GvsRQ1Rma-rjAWzZOCiYFzPBTbptd8*UNKb1E8WhlNYvakboOanpnDYWFvEAlZUB/01.png)\n\n1) drag \"scheduleDay\"\u00a0onto the\u00a0canvas\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl2dDHZymdeY69Fln8VEfcmaVAfzoCTy0gl3WYVF5R8zFBmKGnRv-MVVKSbL-Wb4-FYU0CyEs4oe8fMdFuLLUeo8/02.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl2dDHZymdeY69Fln8VEfcmaVAfzoCTy0gl3WYVF5R8zFBmKGnRv-MVVKSbL-Wb4-FYU0CyEs4oe8fMdFuLLUeo8/02.png)\n\n2) drag some Gene Pool lists onto the canvas and connect a number slider - from 0 to 3.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl3I5biunSSsDAW3xMyyFqJGhxAYukCUh8bX8qZKBNOdWMd5qPVjh2AlqGDWRbZy9YQA*n3RXZntbx96ejZM3gSq/03.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl3I5biunSSsDAW3xMyyFqJGhxAYukCUh8bX8qZKBNOdWMd5qPVjh2AlqGDWRbZy9YQA*n3RXZntbx96ejZM3gSq/03.png)\n\n3) connect the Gene Pool list to _genePool input. The component change some important features of the Gene Pool list automatically. Now you have LB_GenePool!!\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl1f8VGcDvlFkfbeo4G5Z06rwL3EywO7iG8kgS7y9FACWfRgT8X9rw6GWsF*I5MDFfR36hQ*bJcFrXYe6GFxl7vP/04.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl1f8VGcDvlFkfbeo4G5Z06rwL3EywO7iG8kgS7y9FACWfRgT8X9rw6GWsF*I5MDFfR36hQ*bJcFrXYe6GFxl7vP/04.png)\n\n4) choose the template that it's suitable for you.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl15t*tS4jBvONUW*fQtEiwh99NhB7RiGTWZVnocmKL2snW11xN4XAlDP1gJozfUyTR0h9cD5DaXJhw9qEw4U-ee/05.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl15t*tS4jBvONUW*fQtEiwh99NhB7RiGTWZVnocmKL2snW11xN4XAlDP1gJozfUyTR0h9cD5DaXJhw9qEw4U-ee/05.png)\n\n5) disconnect LB_GenePool and if templates are not good, you can change them manually\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl1SNILfsG96mkcAE*cSmyCdcEPRx9r39QjQWZighwrseGmUWv2CvurwjNCUfVXjHxZ2l9B*YcSFWxEMr7TGBv3h/06.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl1SNILfsG96mkcAE*cSmyCdcEPRx9r39QjQWZighwrseGmUWv2CvurwjNCUfVXjHxZ2l9B*YcSFWxEMr7TGBv3h/06.png)\n\n6) drag \"Ladybug annual schedule\" onto the canvas\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl0qaKwsMYEWsrXA0lro0MmGQZU22sgNkOgy4zzQMynYiLBOI2GE-4XoaeXH1kJ7or2WqGTREB3g8V-mAg4mozbF/07.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl0qaKwsMYEWsrXA0lro0MmGQZU22sgNkOgy4zzQMynYiLBOI2GE-4XoaeXH1kJ7or2WqGTREB3g8V-mAg4mozbF/07.png)\n\n7)\u00a0Connect LB_GenePools to inputs for the days of the week, Epw file and if you want to \"_holiday\" (in this way you consider holidays). Now you have your simple schedule.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl3pCm4NcosVDpBcJS-lRzetzwI*DqaNRxqgL0mmm4Ju4syPNthE8OoRAG9R6dOm7t0m-3H1mpQu7fhe*hyWRKUW/08.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl3pCm4NcosVDpBcJS-lRzetzwI*DqaNRxqgL0mmm4Ju4syPNthE8OoRAG9R6dOm7t0m-3H1mpQu7fhe*hyWRKUW/08.png)\n\n8) a small workflow to visualize it into Rhino..\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl1*RZZcFe1eJym1GbsmF70JGnGDGgJPSyFrzBW7ZOccp4WzIlC52GBgamFBQpQr1Vjgqt0DDBpiEyvrrtL5O84f/09.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl1*RZZcFe1eJym1GbsmF70JGnGDGgJPSyFrzBW7ZOccp4WzIlC52GBgamFBQpQr1Vjgqt0DDBpiEyvrrtL5O84f/09.png)\n\n9) Connect \"Ladybug annual schedule\" to \"Honeybee_Create CSV Schedule\"\u00a0to make your csv Schedule\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/QSAjpdZCfl28wgz0n6nh0arbENHxknnm8zUM*oOnMHQKGsUoeIQBclN7Pp3RYFXjbwpR8r12yDjsB0ELHNWst8PHFgMFUbTX/10.png?width=400\" width=\"400\"/>](http://api.ning.com:80/files/QSAjpdZCfl28wgz0n6nh0arbENHxknnm8zUM*oOnMHQKGsUoeIQBclN7Pp3RYFXjbwpR8r12yDjsB0ELHNWst8PHFgMFUbTX/10.png)\n\nYou could make a schedule more complex than the one in the example above.\n\nYou can do that with _analysisPeriod input.\n\n\n\nBests\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "February 4, 2016 at 12:34pm", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nHi Antonello,\n\nLooks very nice. Like to test myself.\n\nThanks,\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 4, 2016 at 2:47pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nHi Abraham\n\n\n\nThanks! It works well, but I have to improve the first component, as I wrote to Mostapha.\n\n\n\nBests<br/>Antonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "February 6, 2016 at 9:02am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nHi Antonello,\n\nI see that\u00a0 the components are already in the github. Thanks and good work.\n\nJust a small remark: aren't they supposed to be in the HB tab instead of LB?\n\nAnd one suggestion: i would add in the DailySchedule component a couple of inputs more with minimum/maximum values of the schedule since not all of them are in the 0-1 range.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 8, 2016 at 11:05pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nyou're welcome Abraham,\n\n<br/>some changes are necessary:<br/>1) move the components to HB, as you and Chris suggest me<br/>2) do a small reseach about holidays and find a system to change them based on country. It's almost impossible do that for each country. I have to make a couple of avarage-holidays data.<br/>3) Optimize two components, perhaps combine the their functionality into one component.<br/>4) Maybe, insert a \"shift function\". For example I want my schedules start with Monday, or Tuesday and so on.\n\nBests<br/>Antonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "February 9, 2016 at 12:34am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nThanks for your suggestion,\n\n\n\nI'm going to make all changes as soon as possible.<br/>Meanwhile, here for you an example to understand how it works.\n\n\n\nBests\n\nAntonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1458756", "name": "schedule_example.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "February 9, 2016 at 5:21am", "created_by": "AntonelloDiNunzio", "replies": []}]}, {"body": "\nThanks Antonello for creating this component. It's great! I have a small suggestion for the component inputs. I suggest to change the input from AnalysisPeriod to DOYs. User can input values between 1-356. In this case user can match the number of inputs for days to number of output values. As you probably know Ladybug has a component to calculate DOY for any date.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "February 5, 2016 at 8:30pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nHi Mostapha\n\n\n\nThanks for your reply! I put _HOY input instead _Analysis period. Please, let me know if it is better than the old one.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/0EqXjSuwdKWvWdzhZZokwwBhoCRKbiCei-x9LbiYWmZwf4hHb3e68mrWnVdZxo1VeCLkyF89vkgQSH7nxaVSeeatIFSHIJRc/infoSun_01.png?width=600\" width=\"600\"/>](http://api.ning.com:80/files/0EqXjSuwdKWvWdzhZZokwwBhoCRKbiCei-x9LbiYWmZwf4hHb3e68mrWnVdZxo1VeCLkyF89vkgQSH7nxaVSeeatIFSHIJRc/infoSun_01.png)\n\nIt is possible to do analysis in different ways, as you can see on images below:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/0EqXjSuwdKVL*0mr2IIu4M2-*kwfjYnRej3UQgczD-9y3MWO8NYCQwSo-6RWh8rs6uVLD-KnelrCyCW82WCKlwv4myvvMx5s/Canvasat154851.png?width=600\" width=\"600\"/>](http://api.ning.com:80/files/0EqXjSuwdKVL*0mr2IIu4M2-*kwfjYnRej3UQgczD-9y3MWO8NYCQwSo-6RWh8rs6uVLD-KnelrCyCW82WCKlwv4myvvMx5s/Canvasat154851.png)\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/0EqXjSuwdKVC0jxxDDezqNX68Ktnl1hAtNPug1tnKYdnZ4fcA73eFyVmpNcdRL5PKFgeUGC9PgPv2bpD1M-GzVQ4xmF08E2S/Canvasat154756.png?width=600\" width=\"600\"/>](http://api.ning.com:80/files/0EqXjSuwdKVC0jxxDDezqNX68Ktnl1hAtNPug1tnKYdnZ4fcA73eFyVmpNcdRL5PKFgeUGC9PgPv2bpD1M-GzVQ4xmF08E2S/Canvasat154756.png)\n\nI had seen the problem of the leap year and I wrote this piece of script:\n\n\n\nif (year_ % 4 == 0 and year_ %100 != 0) or year_ %400 == 0:\n\n.......\n\n........\n\n\n\n\n\nBut, then I didn't write it inside LB_infoSun because EnergyPlus doesn't use leap years, is it right?\n\n\n\nAbout the other two components, is it possible to\u00a0move this discussion to github?[<br/>](https://github.com/mostaphaRoudsari/ladybug/issues/219)\n\nI need to improve the \"scheduleDay\"\u00a0component and I need some help to arrange template schedules. Thanks.\n\n\n\nBests\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "February 6, 2016 at 8:43am", "created_by": "AntonelloDiNunzio", "replies": []}]}]}