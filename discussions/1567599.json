{"body": "\nHi everyone.\n\nI have some questions regarding the display of the annual total solar radiation chart.\n\nThe picture below is the baked geometry in Rhino.\n\n- How do you modify the position of the secondary x-and y-axes? And how do you make them invisible?\n\n- How do you change the x- and y-scale of the chart? For instance displaying every 10 degrees of azimuth?\n\n- My input surface is a hyperbolic paraboloid, facing south symmetrically. How does the component calculate its tilt and azimuth?\n\n- Is it possible to do this for multiple surfaces at the same time? For instance for a tangential tessellation of rectangular standardized solar panels on the hyperbolic paraboloid.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/SrCLaexFjgacWtCnRdJ4mOSaKels5WlOHOWfSmgbZUe0GFrQOviH6WUndagn-zAe*ySvATXLYLd2WfbHppdzyCS1jVU6yhHd/Capture26.PNG?width=750\" width=\"750\"/>](http://api.ning.com:80/files/SrCLaexFjgacWtCnRdJ4mOSaKels5WlOHOWfSmgbZUe0GFrQOviH6WUndagn-zAe*ySvATXLYLd2WfbHppdzyCS1jVU6yhHd/Capture26.PNG)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/SrCLaexFjgZdEtyQTkxZbvhAQ3mWgbSrel2bF7p4TjpK-pfGZnCGv41ctq*pDLV-HrgfVa4EyEmH4CrXMLc88UB1gJtaPOIj/Capture27.PNG?width=750\" width=\"750\"/>](http://api.ning.com:80/files/SrCLaexFjgZdEtyQTkxZbvhAQ3mWgbSrel2bF7p4TjpK-pfGZnCGv41ctq*pDLV-HrgfVa4EyEmH4CrXMLc88UB1gJtaPOIj/Capture27.PNG)\n\n\n\n[\u00a0](http://api.ning.com:80/files/SrCLaexFjgacWtCnRdJ4mOSaKels5WlOHOWfSmgbZUe0GFrQOviH6WUndagn-zAe*ySvATXLYLd2WfbHppdzyCS1jVU6yhHd/Capture26.PNG)\n", "attachments": [], "created_by_name": "Erik Pelicaen", "created_at": "July 18, 2016 at 8:16am", "created_by": "ErikPelicaen", "topic": "Annual Total Solar Radiation Display", "replies": [{"body": "\nHi Erik,\n\n<br/>a) How do you modify the position of the secondary x-and y-axes? And how do you make them invisible?\n\nWhat are the secondary x, y axes?<br/>Are they these green and purple lines:<br/><br/>\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/qC4m5tLZ02ZSHugR-4cT2lal3Vmm3sBrh-wlgu4d8Q8iAMvBjYDtQE8nzUo2NIqVVVAbsV8HXwXXlB5-9cJh4y6Vh2oFx7pe/TOF_mesh_edges.jpg?width=250\" width=\"250\"/>](http://api.ning.com:80/files/qC4m5tLZ02ZSHugR-4cT2lal3Vmm3sBrh-wlgu4d8Q8iAMvBjYDtQE8nzUo2NIqVVVAbsV8HXwXXlB5-9cJh4y6Vh2oFx7pe/TOF_mesh_edges.jpg)\n\n?<br/><br/>If they are, then you determine their position and number by the \"precision_\" input. Their number is equal to \"precision_ - 1\".<br/>They are essentially mesh edges, not curves. To hide them, in Rhino application menu choose: Tools -&gt; Options -&gt; View -&gt; Display Modes -&gt; choose your current display mode, and uncheck the \"Show mesh wires\":\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/qC4m5tLZ02aGm6iX6byXqt06cQ5NK4-OOp2m96jMBK-1cQii6p8fS1Ze8H*pzGvi1hBKyHznToczCuhggu0SRdJ1kEQ0ykOt/uncheck_mesh_wires.jpg?width=250\" width=\"250\"/>](http://api.ning.com:80/files/qC4m5tLZ02aGm6iX6byXqt06cQ5NK4-OOp2m96jMBK-1cQii6p8fS1Ze8H*pzGvi1hBKyHznToczCuhggu0SRdJ1kEQ0ykOt/uncheck_mesh_wires.jpg)\n\n\n\nb) How do you change the x- and y-scale of the chart? For instance displaying every 10 degrees of azimuth?\n\nCan you be a bit more precise?<br/>You would like to change the labeling of the azimuth directions from 30 degrees step to 10 degrees step? If this is so, you can not do that.<br/><br/>\n\n<br/>c) My input surface is a hyperbolic paraboloid, facing south symmetrically. How does the component calculate its tilt and azimuth?\n\nAll Ladybug Photovoltaics components calculate the amount of AC energy generated by a planar (flat) surface. Tilt and azimuth angles are calculated based on surface normal at 0.5, 0.5 surface parameters. So you can not use the hyperbolic paraboloid as the _PVsurface (or _PV_SWHsurface) input, as it will yield incorrect results. You need to planarize that hyperbolic paraboloid surface first.<br/>I attached below an example with default grasshopper components, but the size of the panels is not equal. If you want them to be equal use some paneling Grasshopper plugin like\u00a0[Lunchbox](http://www.food4rhino.com/project/lunchbox?ufh) or [Paneling tools.](http://www.food4rhino.com/project/pt-gh?ufh)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1567884", "name": "TOF_parabolic_hyperboloid.gh"}], "created_by_name": "djordje", "created_at": "July 18, 2016 at 11:14am", "created_by": "djordje", "replies": [{"body": "\nThank you very much for the detailed response djordje, you have answered all questions spot on.\n\nWhat I am now interested in is to show the TOF of all of my panels that are tessellated tangentially as in the .gh-file below. However, it takes a very long time to generate this calculation, even four about five panels or so, while I have about 1600 on the hyperbolic paraboloid. You once told me in another discussion that the **TOF component** did less calculations than the **PV Surface component** and would therefore be faster. However, it seems to go even slower when you have multiple surfaces.\n\nSo what I would like to know is how to have an idea of which PV panels would be worth of keeping on the hyperbolic paraboloid. For instance, to visually represent the panels with a TOF of &gt;90%, &gt;80%, &gt;70% and so on, without too long calculation time.\n\n(You will have to zoom out quite a bit to see the surfaces. The TOF component is in the red group and there is some part of the code that is irrelevant for this question, but it's quite clear.)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1567924", "name": "PRINGLE_PV TOF Analysis.gh"}], "created_by_name": "Erik Pelicaen", "created_at": "July 18, 2016 at 11:58am", "created_by": "ErikPelicaen", "replies": []}, {"body": "\nYou once told me in another discussion that the TOF component did less calculations than the PV Surface component and would therefore be faster. However, it seems to go even slower when you have multiple surfaces.\n\nMaybe I misunderstood [what your intention was](http://www.grasshopper3d.com/xn/detail/2985220:Comment:1562413?xg_source=activity).<br/>The TOF component is intended to be used to determine the TOF of a single **_PV_SWH_surface** or few of them. 1600 surfaces is definitively a huge number.<br/><br/>Here is a work around:<br/><br/>Use the TOF component with a single _PV_SWH_surface to calculate the optimal tilt and azimuth. Then use these optimal tilt and azimuth values as an input for Photovoltaics surface component. The annual insolation you get is the optimal annual insolation. Then use the annual value of that optimal insolation to divide the insolation of every other surface inputted to the Photovoltaics surface component. The result multiplied with 100 will be the TOF for each of those surfaces.<br/>I attached an example below.<br/><br/>Btw have in mind that 1600 surfaces is definitively too much. You will probably need to lower this number and expect a couple of hours of calculation.<br/><br/>Sorry for not being able to edit the very file you attached. It simply loads too much on PC, I can not open it (I probably can, but would have to let it go for tens of minutes, and I do not have that much time).\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1567909", "name": "TOF_parabolic_hyperboloid2.gh"}], "created_by_name": "djordje", "created_at": "July 18, 2016 at 2:28pm", "created_by": "djordje", "replies": []}, {"body": "\nIt looks like I forgot to internalize the \"_PV_SWHsurface\" input (dummySurface). I apologize for that.\n\n<br/>I managed to open your .gh file (took it 14 minutes) and to edit it.<br/>Check the parts which are grouped in red color (there are two of them).\n\nI did a test with only 12 surfaces, to lower the waiting time.<br/>If you can not lower the number of 1600 surfaces, prepare for some long hours of calculation.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1568222", "name": "PRINGLE_PVTOFAnalysis2.gh"}], "created_by_name": "djordje", "created_at": "July 18, 2016 at 4:28pm", "created_by": "djordje", "replies": []}, {"body": "\nThank you very much for taking your time to find an alternative solution. It has been very helpful.\n\nIndeed, the calculations take a very long time when I select all of the panels. (There was a red cross popping up saying **Solution Aborted**.)\u00a0\n\nHowever, I have been playing around with the **Radiation Analysis** component, which makes calculations faster than the **PV Surface** component, allows to add shading context and has a built-in legend. It will probably be less accurate than the **PV Surface** calculations, but could you tell me how much it would deviate? Or what simple things I could add to improve the accuracy? The results are pretty satisfying, though.\u00a0\n\nI just have an issue with displaying the **Tags** of the TOF. How can I make them smaller? Because when I bake them, they have the same scale whether I zoom in or out...\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/pBewlkvOZIh8m0gM5uUb-ljpVsh4aH3FlBmUNd0W0-sQc*hvP0r2WVfd2MmbWzpN5JJ9WHlI6KXXQ4wuKThRAQzV0e8A1x8m/Capture28.PNG\" width=\"673\"/>](http://api.ning.com:80/files/pBewlkvOZIh8m0gM5uUb-ljpVsh4aH3FlBmUNd0W0-sQc*hvP0r2WVfd2MmbWzpN5JJ9WHlI6KXXQ4wuKThRAQzV0e8A1x8m/Capture28.PNG)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/pBewlkvOZIik2NCa0y5p9v6zR-Aa-mRz8QPMeUvmeE4MnTLLSjtwMzjbLUZiTgGWcy6b2vWwmqepB1pEH1aqd9itEbBbLvr5/Capture29.PNG\" width=\"622\"/>](http://api.ning.com:80/files/pBewlkvOZIik2NCa0y5p9v6zR-Aa-mRz8QPMeUvmeE4MnTLLSjtwMzjbLUZiTgGWcy6b2vWwmqepB1pEH1aqd9itEbBbLvr5/Capture29.PNG)[<br/>](http://api.ning.com:80/files/pBewlkvOZIik2NCa0y5p9v6zR-Aa-mRz8QPMeUvmeE4MnTLLSjtwMzjbLUZiTgGWcy6b2vWwmqepB1pEH1aqd9itEbBbLvr5/Capture29.PNG)\n\n[\u00a0](http://api.ning.com:80/files/pBewlkvOZIh8m0gM5uUb-ljpVsh4aH3FlBmUNd0W0-sQc*hvP0r2WVfd2MmbWzpN5JJ9WHlI6KXXQ4wuKThRAQzV0e8A1x8m/Capture28.PNG)\n", "attachments": [], "created_by_name": "Erik Pelicaen", "created_at": "July 19, 2016 at 7:55am", "created_by": "ErikPelicaen", "replies": []}, {"body": "\nOh yes and here's the .gh file.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1568362", "name": "PRINGLE_PV TOF Analysis with Radiation.gh"}], "created_by_name": "Erik Pelicaen", "created_at": "July 19, 2016 at 7:56am", "created_by": "ErikPelicaen", "replies": []}, {"body": "\nYou can add the context to **Photovoltaics Surface** component with the use of **Sunpath shading** component.<br/>I can not comment on the differences between the **Radiation Analysis** and **Photovoltaics Surface**, as I am not the author of the first one. If I remember correctly, the **Radiation Analysis** ignores the ground reflected component of the diffuse radiation. As you are working in a location without snow and the tilt is not close to 90 degrees, you can disregard the lack of it.<br/><br/>Maybe you accidentally clicked on \"Esc\" button to result in \"The Solution Aborted\". Not sure.<br/><br/>To control the size of the baked text dots, a custom component needs to be created. I attached it below.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1568440", "name": "PRINGLE_PVTOFAnalysis3.gh"}], "created_by_name": "djordje", "created_at": "July 19, 2016 at 11:08am", "created_by": "djordje", "replies": []}, {"body": "\nGreat, thanks! Would you know how to bake mesh colors as well?\n\n[http://www.grasshopper3d.com/forum/topics/bake-mesh-color-in-rhino](http://www.grasshopper3d.com/forum/topics/bake-mesh-color-in-rhino)\n", "attachments": [], "created_by_name": "Erik Pelicaen", "created_at": "July 19, 2016 at 11:30am", "created_by": "ErikPelicaen", "replies": []}, {"body": "\nI think they are already baked with colors but your **Shaded** display model is not showing them (I assume). Maybe this is an issue you already had with display modes.<br/><br/>Can't you use **Ghosted** or **Rendered** display modes?<br/>One of these two need to show mesh colors.\n", "attachments": [], "created_by_name": "djordje", "created_at": "July 19, 2016 at 1:34pm", "created_by": "djordje", "replies": []}, {"body": "\nYes of course, Ghosted and Rendered display modes show the colors fine. Thank you.\n\nSorry for continuing asking basic display questions, but I would like to print the Top View as a PDF (first picture) but I still get the large tag sizes, whereas the baked geometry in Rhino (second picture) has small ones.\n\nAlso, when I change the Size input from the Python Script, the dots do not become smaller when I lower this input (e.g. 1), nor does it become larger when increasing this number (e.g 20). It is only smaller at the input value of 7. How does it work?\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/A22HvZ-IoXWqD2ZsTRko2umH*A7xhlHzAjuD0dzXyGJiMlqwQw*VZ5*fua7X1Hjjt2VAxwioQAIokeUGuAQTfk7BT5U1GcjK/Capture37.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/A22HvZ-IoXWqD2ZsTRko2umH*A7xhlHzAjuD0dzXyGJiMlqwQw*VZ5*fua7X1Hjjt2VAxwioQAIokeUGuAQTfk7BT5U1GcjK/Capture37.PNG)\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/A22HvZ-IoXU4aEe7G1jIJu4BGHfxPdjJT5nf4rxp6G0Wbxv0EwYCLzRp1I-bt2cXX8-Vxq3oQk0Fx0fyE*ZsNmpkmxFB3Qal/Capture36.PNG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/A22HvZ-IoXU4aEe7G1jIJu4BGHfxPdjJT5nf4rxp6G0Wbxv0EwYCLzRp1I-bt2cXX8-Vxq3oQk0Fx0fyE*ZsNmpkmxFB3Qal/Capture36.PNG)\n\n[\u00a0](http://api.ning.com:80/files/A22HvZ-IoXWqD2ZsTRko2umH*A7xhlHzAjuD0dzXyGJiMlqwQw*VZ5*fua7X1Hjjt2VAxwioQAIokeUGuAQTfk7BT5U1GcjK/Capture37.PNG)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1568817", "name": "TOF Analysis Baked.pdf"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1568818", "name": "TOF Analysis Baked.3dm"}], "created_by_name": "Erik Pelicaen", "created_at": "July 20, 2016 at 3:48am", "created_by": "ErikPelicaen", "replies": []}, {"body": "\nAlso, when I change the Size input from the Python Script, the dots do not become smaller when I lower this input (e.g. 1), nor does it become larger when increasing this number (e.g 20). It is only smaller at the input value of 7. How does it work?\n\n<br/>Where does this happen?<br/>In the viewport or in Print Setup preview?\n", "attachments": [], "created_by_name": "djordje", "created_at": "July 20, 2016 at 4:29am", "created_by": "djordje", "replies": []}, {"body": "\nIn the Rhino viewport.\n", "attachments": [], "created_by_name": "Erik Pelicaen", "created_at": "July 20, 2016 at 5:06am", "created_by": "ErikPelicaen", "replies": []}]}], "id": "1567599"}