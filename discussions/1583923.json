{"body": "\nHi All,\n\n\n\n<br/>During these days I have written a new component called LB terrain generator.<br/>I have studied a bit GEO components of gHowl and Google's API.<br/>And I read that there are some limitations when you use Google's API, especially if you'd like to achieve a great quantity of data without overloading Google's servers.\n\n\n\nI used a way to request data without overloading Google's servers by using a tiling method. Obviously, this component respects the limit of 2500 requests per day.\n\n\n\nThis is how the component works:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/tjJbxEln7gg9cwwshXpyEsUgBSqoU4SmsBmuJBNtEOv9wJ0mhFLd3ZCoEJBDb04u6XgA2Qw*D939*NVpGnJX605fpQwVXMRz/0_setonepoint.png?width=450\" width=\"450\"/>](http://api.ning.com:80/files/tjJbxEln7gg9cwwshXpyEsUgBSqoU4SmsBmuJBNtEOv9wJ0mhFLd3ZCoEJBDb04u6XgA2Qw*D939*NVpGnJX605fpQwVXMRz/0_setonepoint.png)\n\n\n\n1)\u00a0set one point and its coordinates\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/tjJbxEln7gj1Kah-mFHrXWmtmV9*Clv88teBFSt0m-QfDm3u4LJnl4i7QqysW8k4DvmP-P*Ia693If8-*ioE*Jivw2hnGIeO/1_surfaces.png?width=450\" width=\"450\"/>](http://api.ning.com:80/files/tjJbxEln7gj1Kah-mFHrXWmtmV9*Clv88teBFSt0m-QfDm3u4LJnl4i7QqysW8k4DvmP-P*Ia693If8-*ioE*Jivw2hnGIeO/1_surfaces.png)\n\n\n\n2) generate surfaces by using isotrim component (Basically, each sub-surface is a request)\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/tjJbxEln7giaXZGBJg42ceklWV-jLMl96W1MaXyoLW75jDDRMkXNXVPlUXgO2YyIjmkGs5uCHkptgrVUcp5rvRuYDqrDMqmp/2_numdivisionimageresolution.png?width=450\" width=\"450\"/>](http://api.ning.com:80/files/tjJbxEln7giaXZGBJg42ceklWV-jLMl96W1MaXyoLW75jDDRMkXNXVPlUXgO2YyIjmkGs5uCHkptgrVUcp5rvRuYDqrDMqmp/2_numdivisionimageresolution.png)\n\n\n\n3) set the number of division of each surface and the resolution of Google static maps\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/ifqyBXA0tnXUMlKvd0JqQycS0osfal2*0fZn4gw6BXqQW3lTGzx1TbX8MYZNBXvCOXrB2Y9pFpf*GNuMnbX3u4KF5xnrsSMv/3_movepointsandgeneratesurfaces.png?width=450\" width=\"450\"/>](http://api.ning.com:80/files/ifqyBXA0tnXUMlKvd0JqQycS0osfal2*0fZn4gw6BXqQW3lTGzx1TbX8MYZNBXvCOXrB2Y9pFpf*GNuMnbX3u4KF5xnrsSMv/3_movepointsandgeneratesurfaces.png)\n\n\n\n4) run, move points and generate surfaces with surface from points\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/ifqyBXA0tnWzkFpZBp1veCqrLBoN6zeasQPJVRac6iCRK2gyTtu2CrCoHmvQxxTFmeS9Qjc31oHf0alhXqgnno52xSV5c9rc/4_textures.png?width=450\" width=\"450\"/>](http://api.ning.com:80/files/ifqyBXA0tnWzkFpZBp1veCqrLBoN6zeasQPJVRac6iCRK2gyTtu2CrCoHmvQxxTFmeS9Qjc31oHf0alhXqgnno52xSV5c9rc/4_textures.png)\n\n\n\n5) apply textures to the surfaces\n\n\n\nIn the image below another small example:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/ifqyBXA0tnWJfrEpNB-E0zQ5m*6vhTS4ZiC0qnz5*yqwOzHz8W3ti4brMG14I8hAUpENm3n*0fZCmrlT7MqsUkl*L6ZddjAa/example.png?width=500\" width=\"500\"/>](http://api.ning.com:80/files/ifqyBXA0tnWJfrEpNB-E0zQ5m*6vhTS4ZiC0qnz5*yqwOzHz8W3ti4brMG14I8hAUpENm3n*0fZCmrlT7MqsUkl*L6ZddjAa/example.png)\n\n\n\n\n\nI was thinking that this should be useful for wind simulation with Butterfly, maybe.\n\n\u00a0\n\nBest\n\nAntonello\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "August 18, 2016 at 8:27am", "created_by": "AntonelloDiNunzio", "topic": "LB terrain generator", "replies": [{"body": "\nCool :)\n", "attachments": [], "created_by_name": "Peter Za\u0165ko", "created_at": "August 18, 2016 at 8:39am", "created_by": "PeterZatko", "replies": []}, {"body": "\nHello Antonello,\n\n\n\nHaven't tried it yet but this looks amazing! You are right that in certain occasions, especially where the height differences are great (e.g. more than 20 meters or even less sometimes) in the landscape then they should be included in CFD studies.\n\n\n\nSo far I have been using sketch up to do very much the same thing and then import it to Rhino, which probably uses a similar method. Unfortunately, between downloading and importing to Rhino the final maps often have issues with scale and quality of terrain. This can hopefully resolve all that and the need for using two different software.\n\n\n\n\n\nOnce again, thanks for sharing!\n\n\n\nKind regards,\n\nTheodore.\u00a0\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "August 18, 2016 at 9:13am", "created_by": "TheodorosGalanos", "replies": [{"body": "\nHi all, It will be quite helpful. I don't know how it will be comparable to Djordje's development. Nevertheless we should add an input to be able to replace the ground of the wind tunnel with an optional geometry like the terrain surface.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "August 18, 2016 at 9:24am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nYes there can definitely add an input for a landscape.\n\n\n\nWe should take care though with SHM since this mesh is kind of awkward to create with the way SHM works. The reason is the ups and downs of the landscape, it means that on the edges (sides, inlet, outlet) there are parts of the bounding box that will be 'outside' of the final mesh. If we mesh it as an outside case, the final mesh will be invalid because it will have surfaces on all sides (probably) extruding outside the volume.\u00a0\n\n\n\nOne way to go around this is to treat the wind tunnel case as an internal case. This would mean splitting the bounding box with the landscape and discarding all the leftover bits \u00a0from the bottom\u00a0on all sides. Then the final geometry is treated like a huge 'room'. \u00a0So in the final boundary file there should be all the masses added by the user, the landscape added by the user, the new split sides, and the top.\n\n\n\nSometimes, depending on how big the model, the additional volume in the blockMesh that would be required to be built around this 'room' in order to mesh it (much like we do in the indoor cases) has quite a cost in terms of memory.\n\n\n\nI can add an example of this in the weekend.\n\n\n\nRegards,\n\nTheodore.\n\n\n\n\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "August 18, 2016 at 9:42am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nVery cool stuff.\u00a0 Looking forward to checking this out soon.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "August 18, 2016 at 10:22am", "created_by": "ChrisMackey", "replies": []}]}, {"body": "\nHi All,\n\n\n\nhere's an example file of LB terrain generator. You can find the component at LB WIP sub-category.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/MWWq2q-m3moiCVamiigERtRDvBZE-Jc*7GN07lxZtrYI3kbILcgMsz18qdnxwKGYlDXCdZz9d-1*8TiBKuvhRdpDDRzZm46y/example_.png?width=550\" width=\"550\"/>](http://api.ning.com:80/files/MWWq2q-m3moiCVamiigERtRDvBZE-Jc*7GN07lxZtrYI3kbILcgMsz18qdnxwKGYlDXCdZz9d-1*8TiBKuvhRdpDDRzZm46y/example_.png)\n\n<br/>Best<br/>Antonello\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1584931", "name": "example_LB_terrain_generator.gh"}], "created_by_name": "Antonello Di Nunzio", "created_at": "August 21, 2016 at 3:50am", "created_by": "AntonelloDiNunzio", "replies": [{"body": "\nHi Antonello, Thanks for posting the example file. It would be great if you can make a Hydra for this example file so it doesn't get lost after awhile.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "August 22, 2016 at 10:48am", "created_by": "MostaphaSadeghipour", "replies": []}]}, {"body": "\nIndeed very useful component Antonello !!<br/>Glad to see you are contributing that quickly !<br/><br/>Terrain shading mask component actually creates the terrain first for the chosen location, then makes a mask from it.<br/>The Terrain generator component has been\u00a0[requested by Giacomo](http://www.grasshopper3d.com/group/ladybug/forum/topics/daylight-simulation-using-complex-surfaces?commentId=2985220%3AComment%3A1577089&amp;xg_source=activity&amp;groupId=2985220%3AGroup%3A658987) few weeks ago. Up until last weekend I have been really busy with the personal work, and couldn't find any spare time to actually delete the part of the code which creates the mask, and only output the terrain.<br/>Maybe we can release two terrain generators components, taken into account that sources are different (Google maps and Opentopography)?\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/yq-y3g9ashwmnZaolLZS7dtIEQoYsALp3C0KsBLdw-QCYAErbtP0DjtHFkyi2XL0qkwHWVrxtQvbmLvSdVRHGi4MCS5V5h0e/terrainGenerator2_Mt_Vesuvius2.jpg?width=300\" width=\"300\"/>](http://api.ning.com:80/files/yq-y3g9ashwmnZaolLZS7dtIEQoYsALp3C0KsBLdw-QCYAErbtP0DjtHFkyi2XL0qkwHWVrxtQvbmLvSdVRHGi4MCS5V5h0e/terrainGenerator2_Mt_Vesuvius2.jpg)\n\nbtw. Antonello I stole your icon for the component. Hope you do not mind.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/yq-y3g9ashxs1O4UIt4G2SuvybzkNuEwwuNeTNeegw5T9Y1Ulb*dJGOOEl-2tGp7SkiKQ5EtPf5iaRLTGQdJaeo9qfkkHz2C/proba.png?width=100\" width=\"100\"/>](http://api.ning.com:80/files/yq-y3g9ashxs1O4UIt4G2SuvybzkNuEwwuNeTNeegw5T9Y1Ulb*dJGOOEl-2tGp7SkiKQ5EtPf5iaRLTGQdJaeo9qfkkHz2C/proba.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1587180", "name": "terrainGenerator2_Sample.gh"}], "created_by_name": "djordje", "created_at": "August 23, 2016 at 1:56pm", "created_by": "djordje", "replies": [{"body": "\nHi djordje,\n\n\n\nI have tried your component, it is great! Especially if you want to create large areas.<br/>You are right about the difference of the sources, in fact I have compared the results of same locations (Vesuvius and Rome, Campidoglio) and the results are very different.\n\nI'm agree with you, we can release both.\n\n\n\nBest<br/>Antonello\n\nP.S. for the icon, it is all right! ;)\n", "attachments": [], "created_by_name": "Antonello Di Nunzio", "created_at": "August 25, 2016 at 1:49am", "created_by": "AntonelloDiNunzio", "replies": []}, {"body": "\nHi Antonello,<br/><br/>Thank you for the component permission, and approval of the icon usage !<br/><br/>I couldn't test your component due to usage of secure https connection, which does not work on my operating system.<br/>I am not knowledgeable about google maps nor google maps api, but from what I read the two components will definitely show a bit different results due to different topography sources.<br/>If it is judging by this 2010 [article](http://www.opentopography.org/blog/lidar-beginning-appear-google-maps-terrain-layer), your Terrain Generator component offers much higher precisions for USA. Precision goes up to a couple of meters, which is amazing!!<br/>On the global scale it offers either\u00a0[SRTM 1 or 3 arc-second](http://www2.jpl.nasa.gov/srtm/) data or\u00a0[30 arc-second GLOBE](http://www.ngdc.noaa.gov/mgg/topo/globe.html) data. Again this is from the mentioned article, I couldn't find this information by searching the Google Maps website.<br/><br/>Terrain Generator 2 component always uses SRTM 1 arc-second data from opentopography.org, and it is limited to\u00a0[60 degrees north](http://api.ning.com/files/w-Qoov2ENCzQRg6lRoBzUQK52EScXu296*ta5F11vq-cExASG85CmDN5Kn72VorG8LlpGSVOztahbuyI9JQj-kvl0cJH9KqY/srtm_cover_map.jpg) and does not have data for Antarctica. It does not come with satellite image either which is another very convenient feature that you have!<br/>I couldn't find information about the allowed radius provided by the Google maps api free account. I limited the \"radius_\" input to 100 000 meters, even though opentopography.org provides more than that (I successfully downloaded 300 000, but Rhino 5 was not able to create a topography on my PC from such a large amount of data).<br/><br/>Even though I couldn't compare the results from two components, by looking at your upper\u00a0**example_LB_terrain_generator.gh** definition: set the \"I\" input of \"Surface from points\" component to True. In this way the surface will be interpolated through points, which is what we want.\n\n<br/>Again thank you for the permission, and I look forward seeing those high precision topography that Google maps offers!!\n", "attachments": [], "created_by_name": "djordje", "created_at": "August 25, 2016 at 3:44am", "created_by": "djordje", "replies": []}, {"body": "\nGreat work gentlemen!\n\nI just merged in your component, Djordje and I agree that the two different specialties of the APIs make it a good idea to support both components. \u00a0I just wanted to add that, if anyone wants to nerd-out all of the way and take a look at the raw data that supports both components you can find it all here:\n\n[http://dds.cr.usgs.gov/srtm/version2_1/](http://dds.cr.usgs.gov/srtm/version2_1/)\n\nOf course, this data is really unwieldy and the APIs that you guys are both using make A LOT more sense if you want to actually apply the data usefully.\n\nBoth components are going to make things a lot easier for a number of people. \u00a0My mind is already spinning with the possibilities of hydrology studies that we can run off of this easily-accessible topo data.\n\nKeep the great stuff coming!\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "August 26, 2016 at 8:33pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThank you Chris, and thank you for the merge.<br/><br/>On providing the usgs.gov SRTM v2 and v2.1 raw data, just a small addition if I may:<br/><br/>Terrain Generator 2 is using\u00a0[SRTM v3](https://lpdaac.usgs.gov/sites/default/files/public/measures/docs/NASA_SRTM_V3.pdf) raster data.<br/>A bit more flat and mountainous terrains in v2 and v2.1 had voids in its data set. SRTM v3 finally fixes these voids.<br/>Nevertheless the usgs.gov is quite useful, and provides the data along with documentation.\n", "attachments": [], "created_by_name": "djordje", "created_at": "August 30, 2016 at 2:01am", "created_by": "djordje", "replies": []}]}]}