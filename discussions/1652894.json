{"body": "\nThe\u00a0Ladybug_Shading Mask component allows to define the Sky View Factor starting from a 3D model.\n\nThe\u00a0[Rayman software](http://link.springer.com/article/10.1007/s00484-006-0061-8)\u00a0or [other\u00a0sw](http://link.springer.com/article/10.1007/s00704-011-0402-3)\u00a0allow to do the same starting\u00a0from a real image captured with a fish-eye.\n\nI have seen if in ladybug there is a specific component but I have not found it. So I ask: \"have you considered to implement this features in ladybug?\"\n\n\n\nRegards,\n\nFrancesco\n", "attachments": [], "created_by_name": "Francesco", "created_at": "December 6, 2016 at 6:45am", "created_by": "Francesco897", "topic": "Sky View Factor calculation: different possible approaches.", "replies": [{"body": "\nFrancesco,\n\nAre you looking for a component that takes a fisheye image as an input or a workflow to create the whole process in Grasshopper? Grasshopper's Image sampler does take an image and returns the colors for each pixel. You can use Honeybee to render a fish-eye view looking to the sky and then count the number of sky pixels. Apply a black material to all the geometries, generate a uniform sky and set -ab to 0 and pick a high value for -ar.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "December 6, 2016 at 7:18am", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nHere is an example.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/LacygCl0qQLyN2t-rARDR8SBUVgw3k7guMbZS1o*1RcFmQzL9Vaj*7TkozZx*oxPgT9BR8q8y2G4nV-EgrdkNNUge59DQ1W0/skyView.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/LacygCl0qQLyN2t-rARDR8SBUVgw3k7guMbZS1o*1RcFmQzL9Vaj*7TkozZx*oxPgT9BR8q8y2G4nV-EgrdkNNUge59DQ1W0/skyView.png)\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "December 6, 2016 at 7:39am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nDear Mostapha,\n\n\n\nI have used a basic image (Image_for_comparison.bmp, attached below) to compare the SVF calculated with Rayman and that calculated using the above simple script (I have modified it by adding \"1-\" in the formula).\n\nAs you can see from the two images below, the\u00a0result are a bit different and I'm not able to found an explanation.\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/8kkt4Vvp7GxSXOIG-yjTm1Yca*RIgvHcMPJ9TDXVH*PMddqTWJEE2ZsRYk6QTDtH523ELOV4KTsuVBtW1SpxxFCn1ETcE9SJ/Grasshopper_SVF.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/8kkt4Vvp7GxSXOIG-yjTm1Yca*RIgvHcMPJ9TDXVH*PMddqTWJEE2ZsRYk6QTDtH523ELOV4KTsuVBtW1SpxxFCn1ETcE9SJ/Grasshopper_SVF.JPG)\n\n\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/8kkt4Vvp7GwvGt4Mx7Xyog3YWZjvyNd9WbT7YRC45NLfWf1u4JhqDZxK6yDSOaYeJX8cVdvub-A20yqP7d*GbSE78gjLWywk/screenshotRayman.jpg?width=721\" width=\"721\"/>](http://api.ning.com:80/files/8kkt4Vvp7GwvGt4Mx7Xyog3YWZjvyNd9WbT7YRC45NLfWf1u4JhqDZxK6yDSOaYeJX8cVdvub-A20yqP7d*GbSE78gjLWywk/screenshotRayman.jpg)\n\nCan you try to explain me why it happens?\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1657635", "name": "Image_for_comparison.bmp"}], "created_by_name": "Francesco", "created_at": "December 14, 2016 at 4:00am", "created_by": "Francesco897", "replies": []}, {"body": "\nI have also used the image attached below but the difference in the two values determined by the two softwares persists. I think is due to the different geometry of the input image: square vs circular\n\n\n\nHow can I exclude the 4 corners in the native grasshopper image sampler component?\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1657639", "name": "Image_for_comparison_r3.png"}], "created_by_name": "Francesco", "created_at": "December 14, 2016 at 4:28am", "created_by": "Francesco897", "replies": []}, {"body": "\nUpdate.\n\nI have tried a new code:\n\n[<img class=\"align-center\" src=\"http://api.ning.com:80/files/okqgQ6*kCKRDxiN65KhYTpLuuvov3cV3-siXsg-8Z9-vy-LmWL82SMBg1Z82NDhFo8rgl8pPL6m76oZ6qwaVdCMB7FUxF*OD/rev3.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/okqgQ6*kCKRDxiN65KhYTpLuuvov3cV3-siXsg-8Z9-vy-LmWL82SMBg1Z82NDhFo8rgl8pPL6m76oZ6qwaVdCMB7FUxF*OD/rev3.JPG)\n\nImportant: in input you have to consider a .png file\u00a0with transparent background\n", "attachments": [], "created_by_name": "Francesco", "created_at": "December 14, 2016 at 6:57am", "created_by": "Francesco897", "replies": []}, {"body": "\nAre you looking for a component that takes a fisheye image as an input\n\nExactly\n", "attachments": [], "created_by_name": "Francesco", "created_at": "December 6, 2016 at 8:12am", "created_by": "Francesco897", "replies": []}, {"body": "\nWe don't currently have a component for that in Ladybug but as you can see in the example file you can use Grasshopper native components to get what you need.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "December 6, 2016 at 8:56am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "", "attachments": [], "created_by_name": "Francesco", "created_at": "December 6, 2016 at 9:27am", "created_by": "Francesco897", "replies": []}]}]}