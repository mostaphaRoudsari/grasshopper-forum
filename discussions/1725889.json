{"body": "\nI am trying to model a self-shaded freeform facade using Ladybug. The resulted mesh that I obtain from the 'shade' output from 'shadowRange' component looks incorrect or opposite. The meshes which should be sun-exposed are 'sun-shaded' in my model. Attached is the file. Need help to fix it. I would appreciate if somewone explain me the logic/algorithm to locate the 'self-shaded' meshes. Thanks. [selfShadedFacade.gh](http://api.ning.com:80/files/Nzsxa*Wuim*lRkphFFuCd4fIEyONp0J*ik2auoEORTWM85XMmNs98E-LGKjD5fVgoB3CfBY*4epCE5MM8ieLBK6xFgielQdS/selfShadedFacade.gh)\u00a0\n\n[\u00a0](http://api.ning.com:80/files/4jwXaSgOoWqAEB9KJiAA7YqW0YD1V*4rXUmgiydFz-BiKv-iowzMcAHPz94flCHi-*sCzNc0YPxeCYcO4kO24wSzZieT2u8Z/selfShadedFacade.gh)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1725888", "name": "selfShadedFacade.gh"}], "created_by_name": "Iasef Md Rian", "created_at": "April 2, 2017 at 2:06pm", "created_by": "IasefMdRian", "topic": "Self-shaded meshes in freeform facade surface", "replies": [{"body": "\nFlip the test geometry!\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 2, 2017 at 3:36pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nthanks Mostapha !...gr8 help :)\n", "attachments": [], "created_by_name": "Iasef Md Rian", "created_at": "April 3, 2017 at 12:42am", "created_by": "IasefMdRian", "replies": []}, {"body": "\nWhen I am calculating radition, it takes less time, and therefore, galapagos works smoothly. But, when I am calculating the shades (number shaded meshes) using \u00a0'shadowRange' component\u00a0with the changing of parameter, it takes long time, and that is why, galapagos does not rum smoothly; in fact, it hangs. Any solution? My main aim is to do optimization of a free-from facade to get maximum number of self-shaded meshes. Thanks !\n", "attachments": [], "created_by_name": "Iasef Md Rian", "created_at": "April 5, 2017 at 12:24pm", "created_by": "IasefMdRian", "replies": []}, {"body": "\nIasef,\n\nTry to use sunlight hours component for a single hour. That is basically the same as what you're trying to do and it is much faster.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 6, 2017 at 6:12am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nIn fact, I started my optimization with a single hour by fixing it 12:00 noon. Do I need any special command to make it 'singe hour'?\n\nThanks !\n", "attachments": [], "created_by_name": "Iasef Md Rian", "created_at": "April 6, 2017 at 6:39am", "created_by": "IasefMdRian", "replies": []}, {"body": "\nAttached is the ghfile. I feel difficulty to use sunlighthours component; there is no sunvectors, so I am not able to use it for shadowRange for finding self-shading meshes. Could you please check the attached file.\n\nThank you so much !\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1728910", "name": "SelfShadedFacade_Optimization.gh"}], "created_by_name": "Iasef Md Rian", "created_at": "April 6, 2017 at 7:03am", "created_by": "IasefMdRian", "replies": []}, {"body": "\nThere is a sunvectors input! Check the attached file. If your case doesn't have direction and sunlight on both directions of the surface is acceptable then you need to test to surfaces with flipped normal and check if any of them receives sunlight for each cell.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/ViR0WUJsyzGDqycMEOwBnGEAzhKU2r*rcUvly2DntzlBifJgAeGzKmmdFkTyYmPEl1TpDTwmg-1SWaIx-dZ2vuyZQHdMmuPO/shaded_area.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/ViR0WUJsyzGDqycMEOwBnGEAzhKU2r*rcUvly2DntzlBifJgAeGzKmmdFkTyYmPEl1TpDTwmg-1SWaIx-dZ2vuyZQHdMmuPO/shaded_area.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1729358", "name": "SelfShadedFacade_Optimization.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 7, 2017 at 7:03am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nDear Mostapha,\n\nA great help ! Thanks a lot !\u00a0\n\nIasef\n", "attachments": [], "created_by_name": "Iasef Md Rian", "created_at": "April 10, 2017 at 4:59am", "created_by": "IasefMdRian", "replies": []}]}]}