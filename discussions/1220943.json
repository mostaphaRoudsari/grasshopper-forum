{"body": "\nHello guys,\n\n\n\nI am trying to conduct an indoor evaluation. I believe I have set everything correct but the component keeps giving the error \"The calculation has been terminated by the user!\" which I think means some of my settings/inputs are wrong.\n\n\n\nI have Chris's file on the other tab and it works ok, with the same exact settings. What am I doing wrong?\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 8, 2015 at 11:22pm", "created_by": "TheodorosGalanos", "topic": "Adaptive Indoor Comfort Evaluation", "replies": [{"body": "\nTheodore,\n\nIt was a very weird bug. \u00a0I was getting a \"can't divide by zero\" error and yet I already had a check in the function to make sure that it didn't divide by zero. \u00a0In any case, I put in yet another check and it fixed it in the attached file. \u00a0Thanks for finding the bug.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/nLML9an*avpLNyOfayC6cZuSbN1XlyCnpiqCv37DpaWFA1atiOkgbhwKBVPecPPPojSEYjt1pn3e32xmQUmNJoVQm1SoRb3w/FileWorking.PNG\" width=\"585\"/>](http://api.ning.com:80/files/nLML9an*avpLNyOfayC6cZuSbN1XlyCnpiqCv37DpaWFA1atiOkgbhwKBVPecPPPojSEYjt1pn3e32xmQUmNJoVQm1SoRb3w/FileWorking.PNG)\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1220951", "name": "IndoorComfort_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "February 9, 2015 at 12:00am", "created_by": "ChrisMackey", "replies": [{"body": "\nHey Chris,\n\n\n\nThanks it seems to work now!\n\n\n\nHowever, the parallel command is still giving the error, it runs okay without parallel toggled on. I am not sure if it is my system or definition, or the component, but parallel seems useful in this demanding calculation.\n\nAnother odd thing. I'm playing with the layers of the wall construction and when I changed layer the vertical surface in the operative temperature disappeared. When I reverted, it was back. I think this mostly related to me though.\n\n\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 9, 2015 at 12:39am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nTheodore,\n\nI feel like I am discovering the weirdest bugs. \u00a0You are right that the error only happens when you do an annual run in parallel. \u00a0The non-parallel function runs fine and, if I run the analysis for just a month in parallel, it works fine. \u00a0Moreover, I noticed that the parallel function is failing on a different hour each time that I run the component.\n\n\n\nI'm going to keep working through this but I can't figure out what is going on. \u00a0Maybe Mostapha can shed some light on this.\n\n\n\nTo address the issue of the vertical surface disappearing, the latest version of GH has a major bug in the display of meshes. \u00a0Any time that there is a brep previewing in the Rhino scene, meshes will be shown with only one side of their face colored. \u00a0From the other side, they appear invisible. \u00a0If you rotate your model 180, you will see that the vertical mesh is still there. \u00a0Also, if you turn the preview off on the colored charts, you will see both sides of the mesh colored again.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 9, 2015 at 1:51pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nI just noticed something strange. \u00a0The parallel function has weird \"blips\" when it printing out results:\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/741FtnVWixaxfUQrJTL4IJHjlQCXzcrD015F7UmJufR1yYDrPvc0wqlqQNg6z4PTuvcrWqYw1v0D67sk12FF5wdFqy12AwsP/WeirdBlip.PNG\" width=\"416\"/>](http://api.ning.com:80/files/741FtnVWixaxfUQrJTL4IJHjlQCXzcrD015F7UmJufR1yYDrPvc0wqlqQNg6z4PTuvcrWqYw1v0D67sk12FF5wdFqy12AwsP/WeirdBlip.PNG)\n\nI wonder if this has something to do with it.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 9, 2015 at 1:54pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nI have another update. \u00a0I can run the component in parallel for up to 3 months, usually, but this is not always consistent (sometimes I can only run it 2 and others I can run it 4). \u00a0Weird stuff here.\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 9, 2015 at 2:05pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks for sticking to it Chris.\n\n\n\nIt is some weird behaviour indeed.\n\n\n\n\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 9, 2015 at 7:00pm", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nTheodore,\n\nI am happy to announce that, with the aid of Mostapha and his infinite python wisdom, we found the error that was causing the parallel run to fail. \u00a0Some threads of the parallel run were calling certain properties from a class at the same time that other threads were changing those properties. \u00a0It's a parallel pitfall commonly called a \"race condition\" or the \"writing to shared memory\" ([https://msdn.microsoft.com/en-us/library/dd997392](https://msdn.microsoft.com/en-us/library/dd997392)(v=vs.110).aspx).\n\nNeedless to say, the parallel capability is now fixed in the component on the github and in the attached file. \u00a0I also put in another check to have the component not run calculations related to direct sunlight if the zone has no windows. \u00a0All of this has gotten the annual run of your test box down to a whopping 35 seconds!\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/741FtnVWixblgr00dh*Ohc*R2tQXhR*ptY8jIOrjxWtKBWT9jViitDwpadpYYqxc0ALNI81pK-zpFdQM1XeXfH*NrbNj6Cnb/SuperfastAnnualRun.PNG\" width=\"639\"/>](http://api.ning.com:80/files/741FtnVWixblgr00dh*Ohc*R2tQXhR*ptY8jIOrjxWtKBWT9jViitDwpadpYYqxc0ALNI81pK-zpFdQM1XeXfH*NrbNj6Cnb/SuperfastAnnualRun.PNG)\n\nEnjoy and thanks again goes to Mostapha,\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1221510", "name": "IndoorComfort_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "February 9, 2015 at 9:25pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks Chris!\n\n\n\nExcellent work! Will put it to great use!\n\n\n\nCan I update from Github or do I just use your definition?\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 10, 2015 at 12:17am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nTheodore,\n\nI would sync with the github using the Honeybee_Update Honeybee and the Ladybug_Update Ladybug components. \u00a0The comfort components on the github and the ones in the GH file are the same but you seem to be using the components enough to keep the components in your GH toolbar in sync with the latest development.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "February 10, 2015 at 12:33am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris,\n\n\n\nSorry to bother again. I noticed that when adding air resistance (interior and exterior) to my walls the Energy Plus simulation isn't running.\n\n\n\nAm I doing something wrong, since I suck at physics, or is this a bug?\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 9, 2015 at 2:44am", "created_by": "TheodorosGalanos", "replies": []}, {"body": "\nHi Theodoros,\n\nIf i undestand right, you added external layers of air (interior and exterior). E+ doesn't receive this. Those layers are internally calculated so there is no need to use them as you did.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "February 9, 2015 at 5:21am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nAh okay, thank you very much Abraham.\n\n\n\nI thought this was program specific (e.g. design builder does it the same way, no air layers) and not engine (i.e. EnergyPlus) specific.\n\n\n\nThanks for clearing that up!\n\n\n\nKind regards,\n\nTheodore.\n", "attachments": [], "created_by_name": "Theodoros Galanos", "created_at": "February 9, 2015 at 5:24am", "created_by": "TheodorosGalanos", "replies": []}]}]}