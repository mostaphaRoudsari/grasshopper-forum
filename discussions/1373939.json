{"body": "\nHi All,\n\n\n\nI'd like to start a discussion, or general questions in regrades to the use of simple models for daylighting analysis. Where we understand that thermal models do not require the thickness of the wall to be modelled geometrically, as the thickness is defined through the construction we assigned via E+, what is the approach for Honeybee with daylighting?\n\n\n\nUsing a simple, architectural sketch model for thermal analysis cannot be used for daylighting analysis for high levels of accuracy due to the lack of wall thickness and modelling of mullions.\n\n\n\nWould you all suggest then some form of \"shading\" to be scripted to fit the outline of each window to mimic the presence of a wall thickness which would have an effect on the light distribution within the space? How should this be treated within Honeybee for quick and reliable simulations?\n", "attachments": [], "created_by_name": "Elzine Braasch", "created_at": "October 5, 2015 at 8:41pm", "created_by": "ElzineBraasch", "topic": "Discussion: Accuracy of Daylight simulations with no wall thickness?", "replies": [{"body": "\nElzine,\n\nIf you want to account for wall thickness here, just outline the borders of the windows, join the curves, and extrude them along the normal of the window using native GH components:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/nkLEPVQ6s9cV5NycMJodUS7kFx8kIW9tbzAafKCjiA450rfSMC6ieFHh3usBeQuDAf4GFIMJMws0U5rkQCUIWuAu7t7MUdcs/WindowBorder.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/nkLEPVQ6s9cV5NycMJodUS7kFx8kIW9tbzAafKCjiA450rfSMC6ieFHh3usBeQuDAf4GFIMJMws0U5rkQCUIWuAu7t7MUdcs/WindowBorder.JPG)\n\nI know that Daniel Nielsen was planning to write a single component that would take care of this but I don't think that he has gotten around to it yet.\n\n\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1374616", "name": "WindowBorder.gh"}], "created_by_name": "Chris Mackey", "created_at": "October 6, 2015 at 10:45pm", "created_by": "ChrisMackey", "replies": [{"body": "\nI created a Hydra for this so you can see how you can integrate it to the whole process ([http://hydrashare.github.io/hydra/viewer?owner=mostaphaRoudsari&amp;amp...;](http://hydrashare.github.io/hydra/viewer?owner=mostaphaRoudsari&amp;fork=hydra_1&amp;id=Add_wall_depth_for_daylight_simulation))\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/A3IzgjbOqn3RnJgRaeuJek4boDS*rU2Apj3dVWXmvlVLPv1hXYIoznBRdcscGnES*Z274*J92O*eB1CtEbVuqdhM*b03HzIi/Add_wall_depth_for_daylight_simulation_GH.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/A3IzgjbOqn3RnJgRaeuJek4boDS*rU2Apj3dVWXmvlVLPv1hXYIoznBRdcscGnES*Z274*J92O*eB1CtEbVuqdhM*b03HzIi/Add_wall_depth_for_daylight_simulation_GH.png)\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 8, 2015 at 11:38am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nThank you very much Chris and Mostapha, this should work for now! It's definitely been on my mind for a while now but never got around to actually automating it myself.\n\n\n\nCheers\n", "attachments": [], "created_by_name": "Elzine Braasch", "created_at": "October 12, 2015 at 4:48pm", "created_by": "ElzineBraasch", "replies": []}, {"body": "\nHmm this process does not seem to want to work if you have windows on different orientations. I clearly need to familiarise myself with the vectors and may need to make the extruxions for each orientation instead of it doing it for all.\n\nThanks again for the help, I reply if I manage to come up with an automated process for all directions.\n", "attachments": [], "created_by_name": "Elzine Braasch", "created_at": "October 12, 2015 at 7:45pm", "created_by": "ElzineBraasch", "replies": []}, {"body": "\nThe sample file should work regardless of orientation of the surface. What's exactly the issue?\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 16, 2015 at 7:38am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi Mostapha,\n\n\n\nThe sample file works with the given orientations, however if you add windows on other orientations then the extrusions of the windows seem to duplicate and go in different directions.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/DWRjbZBls-K8H-TtcCnetu9wLdJQyE7cJkT9M3ZintNBrjMRVZJzj81cGmJJUBD8iFf*VGAJOCx7NfZMrbFs8Du4kHcYEjBV/WindowExtrusions.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/DWRjbZBls-K8H-TtcCnetu9wLdJQyE7cJkT9M3ZintNBrjMRVZJzj81cGmJJUBD8iFf*VGAJOCx7NfZMrbFs8Du4kHcYEjBV/WindowExtrusions.JPG)I have played around with the UV coordinates and trying to single out orientation windows, however I am wondering if there is a simpler method of making this work.\n", "attachments": [], "created_by_name": "Elzine Braasch", "created_at": "October 18, 2015 at 3:16pm", "created_by": "ElzineBraasch", "replies": []}, {"body": "\nHere is nother example of the extrusions acting weirdly with this workflow. In adding this process to my underconstruction template, the extrusions are going in different directions for some windows on the same orientation, and have issues actually joining the edges with just one orientation having windows...\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/qsDvI9n3ENd1AT74mTXglHo73q9*DL9ximp6ua3gbUPY3Tp0Q63j-0ItsuZQN4vi-fZz85kyXE4f4R*dbC-CREr5KwbEZya1/WindowExtrusions2.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/qsDvI9n3ENd1AT74mTXglHo73q9*DL9ximp6ua3gbUPY3Tp0Q63j-0ItsuZQN4vi-fZz85kyXE4f4R*dbC-CREr5KwbEZya1/WindowExtrusions2.JPG)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/qsDvI9n3ENd3FWJCKbaT52gt6QLozBOVWURWOJzt9duDVEBVCKwQLdDWzXSDZTV6u0*A6eREfkIQOBU82-Dw0QSrWW8jB5PM/WindowExtrusions3.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/qsDvI9n3ENd3FWJCKbaT52gt6QLozBOVWURWOJzt9duDVEBVCKwQLdDWzXSDZTV6u0*A6eREfkIQOBU82-Dw0QSrWW8jB5PM/WindowExtrusions3.JPG)I have attached the template file if you wish to play with it.\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1381426", "name": "Parametric_V1.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1381427", "name": "userCustomEPLibrary.idf"}], "created_by_name": "Elzine Braasch", "created_at": "October 18, 2015 at 4:10pm", "created_by": "ElzineBraasch", "replies": []}, {"body": "\nIt seems to work however if you just apply it to a one-zoned building. Perhaps it has issues with the way in which a mass is split into perimeter and core zones?\n", "attachments": [], "created_by_name": "Elzine Braasch", "created_at": "October 27, 2015 at 7:35pm", "created_by": "ElzineBraasch", "replies": []}, {"body": "\nElzine,\n\nSorry for getting back so late. \u00a0Your script works and you just have to flatten some of the inputs. \u00a0See attached for a file that should always work.\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1387966", "name": "Parametric_V1_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "October 27, 2015 at 11:00pm", "created_by": "ChrisMackey", "replies": []}]}, {"body": "\nI don't mean to highjack this discussion, however, I got inspired by/copied Chris's solution and wrote a Python script to replace much of the grasshopper components as I need something similar for my own research. An example is here... [https://www.youtube.com/watch?v=6foolvaKhNE](https://www.youtube.com/watch?v=6foolvaKhNE). But I cannot get the extrude-along-vector to work inside Python. The extrusion created by python script always seems to get warped for some reason. Is there anything that I can do to fix this ? My ghuser file is attached.\n\n\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1388748", "name": "Add_window_thickness.ghuser"}], "created_by_name": "Sarith Subramaniam", "created_at": "October 28, 2015 at 6:26pm", "created_by": "sarith", "replies": [{"body": "\nIf this is hijacking I hope someone to hijack every single discussion that we have here. This looks great and I think we should add it to Honeybee official release. Here is a code snippet for extrude curve. You actually need to move the curve and loft them together.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/1wKh57E-s8x-KZT7km0Cq-4-WRJUifLu*ZaaUmzM97A3Sk6FkMs8kR0xzzy-5n8MV8RQMc7s72KTijEtZmYBwvFgpcirYOQ0/extrudeCurve.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/1wKh57E-s8x-KZT7km0Cq-4-WRJUifLu*ZaaUmzM97A3Sk6FkMs8kR0xzzy-5n8MV8RQMc7s72KTijEtZmYBwvFgpcirYOQ0/extrudeCurve.png)\n\n\n\nNotice how I did it for every segment of the curve so the result will be a polysurface and not a single extruded surface! Looking forward for a PR after you have extrude curve added.\n\nMostapha\u00a0\n\n\n\nPS: I'm [finally] checking the electrical light files tonight!\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1388751", "name": "extrudeCurve.gh"}], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "October 28, 2015 at 6:52pm", "created_by": "MostaphaSadeghipour", "replies": []}]}, {"body": "\nMostapha, thanks for the tips! Here is an update : [https://youtu.be/xYvc25KT1Nw](https://youtu.be/xYvc25KT1Nw)\n\nI am attaching the ghuser file and python code. Please feel free to edit/correct/share it in whichever way. You'd have to change the ghenv values, other than that, I think it is fairly stable. The icon isn't royalty-free (got it from google image search), so you might have to change that too. I have tried to make the coding-style Honeybee-esque, although there are likely to be some redundancies in it. I am somewhat confused by the Github lingo and rules, so I will leave that to you. The idea for the component wasn't mine to begin with anyway..\n\n\n\n(Let me know how the Photometry thing works out.. I haven't played with it myself in a month or so)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1388668", "name": "Add_window_thickness.ghuser"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1388669", "name": "window_thickness.py"}], "created_by_name": "Sarith Subramaniam", "created_at": "October 28, 2015 at 8:51pm", "created_by": "sarith", "replies": []}]}