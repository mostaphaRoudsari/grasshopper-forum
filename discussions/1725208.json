{"body": "\nHi Guys,<br/><br/>My goal is to get information about the lighting in a room from arduino sensors and simulate the radiation in grasshopper to optimize an experimental freeform.<br/><br/>I was wondering if there is a way in Ladybug/Honeybee to set the light source manually? So without a certain \"analysis period\" looking for the right position of the sun in the .epw file.<br/><br/>Or is there maybe a better grasshopper plugin for this task?<br/><br/>thank you, Julian\n", "attachments": [], "created_by_name": "Julian Jauk", "created_at": "April 1, 2017 at 2:55pm", "created_by": "JulianJauk", "topic": "Ladybug - set Sun/Light Source manually", "replies": [{"body": "\nNot sure if I fully understand what are you trying to do but there are several ways to create a light source in Honeybee including generating a dark sky: [https://mostapharoudsari.gitbooks.io/honeybee-primer/content/text/c...](https://mostapharoudsari.gitbooks.io/honeybee-primer/content/text/categories/02_Daylight_Light%20Source.html)\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 1, 2017 at 3:38pm", "created_by": "MostaphaSadeghipour", "replies": [{"body": "\nHi Mostapha,<br/><br/>thanks for your fast response. I tried it with creating a \"custom lamp\" in a \"dark sky\". I'm not sure if I figured it out yet but for now my problem is: no matter how much test points I have the \"rundaylightanalysis\" takes about 50seconds for a result.\u00a0<br/><br/>Attached you'll find \u00a0screenshots, the grasshopper definition and a test surface in rhino.<br/><br/>As i need the results for an iterative optimization process, I wonder if there is an easier and faster way to get the radiance on a surface from a single custom light source?<br/><br/>thanks, Julian<br/><br/>--<br/><br/>Just in case you wonder. The project is about a physical kinetic model which has 5 lux sensors to evaluate the position of the sun/light source. With this information I want grasshopper to optimize the form of the model to gain maximum solar radiation for example.<br/><br/><br/>\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1725672", "name": "test_lux_surface_definition.gh"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1725673", "name": "test_lux_surface_geometry.3dm"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1725674", "name": "test_lux_surface_screen_1.JPG"}], "created_by_name": "Julian Jauk", "created_at": "April 2, 2017 at 5:11am", "created_by": "JulianJauk", "replies": []}]}, {"body": "\nHi Julian,\n\n\n\nHere are a few things that you can do:\n\n1. Make the calculation completely deterministic and get rid of ambient parameters: Looking at your model, I don't see the geometry being surrounded by anything else (like walls, ceiling etc.). So, specifying ambient parameters in the simulation does not serve any purpose.\n\n2. Get rid of source subdivision by setting -ds to 0. This will make Radiance assume that your source is a point source ( which seems to be a valid assumption in your case).\n\n3. Finally, you can cut down the time even more by magnifying the candela value of a single light fixture instead of using the 9 fixtures that you have right now. This is a hack, but will work because that way, even the deterministic part of the calculation will feature only 1 variable instead of 9. You can make this work by increasing the candelaMultiplier of that one source by 9.\n\nI have attached a gh file (which shows the parameters options) as an example. The points I have made above will mostly work for electric lighting only. Daylighting needs different kind of optimization because we are dealing with parallel rays from the sun and not a source with directional distribution like electric lights.\n\n\n\nThe image below is base-case. Takes the maximum time, using default settings.\n\n[<img class=\"align-left\" src=\"http://api.ning.com:80/files/Nzsxa*Wuim8*fQmEqavtm3tBIlhhJb2ZVFkFioBqK29Os8OOalcei7XAFb2IW5XpM2*8VCptamPjOWJKD6jguskm7Hfu1NNd/baseCase.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/Nzsxa*Wuim8*fQmEqavtm3tBIlhhJb2ZVFkFioBqK29Os8OOalcei7XAFb2IW5XpM2*8VCptamPjOWJKD6jguskm7Hfu1NNd/baseCase.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis one is with direct-only calculations.\n\n[<img class=\"align-left\" src=\"http://api.ning.com:80/files/Nzsxa*Wuim*luYKmGw09N6yShi3dRNgVfSEzj11Ac5ue3eTPkmIZOcPpepkr6TWnq8QbzldcNpBGaumx2v6adLnblfs*g8Jh/directOnly.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/Nzsxa*Wuim*luYKmGw09N6yShi3dRNgVfSEzj11Ac5ue3eTPkmIZOcPpepkr6TWnq8QbzldcNpBGaumx2v6adLnblfs*g8Jh/directOnly.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis is the case where a single fixture was used and the candela multiplier was used to magnify it's brightness 9 times. Took the least amount of time....but as you can there is a perceptible difference between this one and the base-case.\n\n[<img class=\"align-left\" src=\"http://api.ning.com:80/files/Nzsxa*Wuim8eJUwxWAR9GsRVgtkhUOgnCobOd1yJs0TAQ4-JKWevwm9g-XP8SoggdOBxV22tbFN-DCc0mXu5RXIufu7ywuOC/directOnlySingle.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/Nzsxa*Wuim8eJUwxWAR9GsRVgtkhUOgnCobOd1yJs0TAQ4-JKWevwm9g-XP8SoggdOBxV22tbFN-DCc0mXu5RXIufu7ywuOC/directOnlySingle.png)\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1726048", "name": "test_lux_surface_definition_Sarith.gh"}], "created_by_name": "Sarith Subramaniam", "created_at": "April 2, 2017 at 5:04pm", "created_by": "sarith", "replies": [{"body": "\nHi Sarith!<br/><br/>thanks for you very detailed answer. How much time did the optimized calculation took on your system?\u00a0<br/><br/>For me it still takes more than a minute which is too long to integrate it into an optimization loop.<br/><br/> But would you still say that this method or this plugin is the best way to go?<br/><br/>[<img class=\"align-full\" src=\"http://api.ning.com:80/files/dszxoG-AMGnqq4KP*Oqny-F1uOdKyCC1fbfJujw0R3EvqdHCdRhKPDBYQmteF-PuGJbsCb-P9Gzt5dBlI18KyiZlxftFoJ0*/Capture.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/dszxoG-AMGnqq4KP*Oqny-F1uOdKyCC1fbfJujw0R3EvqdHCdRhKPDBYQmteF-PuGJbsCb-P9Gzt5dBlI18KyiZlxftFoJ0*/Capture.JPG)<br/>thanks for your effort, Julian\n", "attachments": [], "created_by_name": "Julian Jauk", "created_at": "April 3, 2017 at 2:26am", "created_by": "JulianJauk", "replies": []}, {"body": "\nDo you need the value for all those points? If you need the analysis to be faster just read the value for where you sensor is.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "April 3, 2017 at 6:43am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHi,<br/><br/>yes i need at least some values distributed over the surface. About 10-20 would be enough but the funny thing is: there is no considerable difference between having a grid size of for example 5 or 15...<br/><br/>So still, also with a minimum of points, let's say 10, the calculation takes far too long<br/><br/>Julian\n", "attachments": [], "created_by_name": "Julian Jauk", "created_at": "April 3, 2017 at 6:55am", "created_by": "JulianJauk", "replies": []}]}, {"body": "\nOn my system it took between 1 minute to 30 seconds.\n\nTo answer your question about whether this is the right tool for the job, I'd say it is not. If you are running your solution the same way that you've shown in the gh file, then you are spending far too much time in doing things in Grasshopper and Rhino for every iteration. The fastest way to run all the iterations would be to set them all up and run them outside Grasshopper in one single sequence and then compare their results inside Grasshopper. This, however, will require a fair amount of scripting/programming.\n\n\n", "attachments": [], "created_by_name": "Sarith Subramaniam", "created_at": "April 3, 2017 at 9:24am", "created_by": "sarith", "replies": [{"body": "\nHi Sarith,<br/><br/>alright, thank you for your advices. I learned a lot and I'm sure I'll find the right method<br/><br/>Julian\n", "attachments": [], "created_by_name": "Julian Jauk", "created_at": "April 3, 2017 at 11:30am", "created_by": "JulianJauk", "replies": []}]}], "id": "1725208"}