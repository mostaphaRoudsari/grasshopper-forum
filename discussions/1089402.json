{"body": "\nHello every one,\n\nI run in to a problem while doing a DLA analysis. First of all let me explain the project. We\u2019ve created an artificial topography with 2 courtyards that brings daylight to a library organized around the courtyards.\n\nBecause the geometry it\u2019s a bit complex I did not used the HB Masses to \u00a0Zones component. I\u2019ve also give the surfaces and massing a singular white opaque material as I only care for the window (glass material). I just want to calculate the DLA index on the surfaces of the library that it\u2019s organized around the courtyards.\n\nSo any help would be much appreciate. We are at stage that we need to understand the daylight amount in the library as it\u2019s a very important area of the project\n\nAttached you\u2019ll find the weather file, rhino and gh file\n\nThank you all in advance\n\n\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/p5H7N8Ot6oOU52ffs2oqpGbRxNEsupibB4iPvE7c*9LfB1z25*tHgbLYqi4RAlu5Z6pdRkJOU7pjF2rNaSAa-dvG6BDsgSnD/screencapture01.jpg?width=750\" width=\"750\"/>](http://api.ning.com:80/files/p5H7N8Ot6oOU52ffs2oqpGbRxNEsupibB4iPvE7c*9LfB1z25*tHgbLYqi4RAlu5Z6pdRkJOU7pjF2rNaSAa-dvG6BDsgSnD/screencapture01.jpg)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1089399", "name": "CAN_PQ_Montreal.Jean.Brebeuf.716278_CWEC.epw"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1089400", "name": "Esquisse_05_Env_Analysis.3dm"}, {"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1089401", "name": "esquisse-05_DL.gh"}], "created_by_name": "Claudio", "created_at": "June 17, 2014 at 9:13am", "created_by": "Claudio", "topic": "HB Annual Simulation Problems", "replies": [{"body": "\nUpdate:\n\nI've noticed that my sloping SRF (topography) has geometry blocking the light from the test surfaces. I just deleted (rhino file updated and attached). I also used one of\u00a0the courtyard srf\u00a0 for a DLA analysis (image 01) that returns the correct values. As soon as I explode the library geometry and use one of its surfaces instead\u00a0as a test Srf. I get errors (image 02). Hmmmm!\n\nI even\u00a0created a separate surface floating on top of the roofs and run the DLA analysis and\u00a0I get the same error (can't find the results from the study - RunDaylightSimulation component) and (length of the results is not equal to the number of meshes from the\u00a0 - ReColorMesh component_)\n\n\u00a0\n\nOK I' m lost\n\n\u00a0\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/p5H7N8Ot6oMJIMLdbOsd1ht-CZ3ey3-sg6qQptRJtXjKzja3t-wOXLH117iBn**1-z8eaOFYhnGg0Cd-3fMZ7rg6QGgqm6Ul/01.jpg?width=721\" width=\"721\"/>](http://api.ning.com:80/files/p5H7N8Ot6oMJIMLdbOsd1ht-CZ3ey3-sg6qQptRJtXjKzja3t-wOXLH117iBn**1-z8eaOFYhnGg0Cd-3fMZ7rg6QGgqm6Ul/01.jpg)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/p5H7N8Ot6oNnM4jYqkX7xaazI4HNy4BURqZ60ULfhIeMjMsnpvJhDJI4F8cMXg*p6j9FfmD2FHtVE3UVwfJTVqDj2eKueMCH/02.jpg?width=721\" width=\"721\"/>](http://api.ning.com:80/files/p5H7N8Ot6oNnM4jYqkX7xaazI4HNy4BURqZ60ULfhIeMjMsnpvJhDJI4F8cMXg*p6j9FfmD2FHtVE3UVwfJTVqDj2eKueMCH/02.jpg)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1089486", "name": "Esquisse_05_Env_Analysis-02.3dm"}], "created_by_name": "Claudio", "created_at": "June 17, 2014 at 10:19am", "created_by": "Claudio", "replies": []}, {"body": "\nUpdate-02:\n\nFirst problem found, the glazing material has 0 transmittance....\n\n\u00a0\n", "attachments": [], "created_by_name": "Claudio", "created_at": "June 17, 2014 at 11:06am", "created_by": "Claudio", "replies": []}, {"body": "\nLast update, Problem solved\n\n\u00a0\n\nThe Grid Size for the test Surface wasn't small enough.\n\n\u00a0\n\n\u00a0\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/oszb1oYwZClUsLP*AQRiFhysTt6AM03QW7X7zDT6dCKkVnHS8PnztQD*ZzfvqTDh7-xc*tgAThtsoYVa6xe2y4Lvzmf99zYr/03.jpg?width=721\" width=\"721\"/>](http://api.ning.com:80/files/oszb1oYwZClUsLP*AQRiFhysTt6AM03QW7X7zDT6dCKkVnHS8PnztQD*ZzfvqTDh7-xc*tgAThtsoYVa6xe2y4Lvzmf99zYr/03.jpg)\n\ncheers\n\n\u00a0\n", "attachments": [], "created_by_name": "Claudio", "created_at": "June 17, 2014 at 12:08pm", "created_by": "Claudio", "replies": [{"body": "\nStill not able to group all the test srfs into one simple flatten list in order to plug them all on the create grid component. Otherwise it works but I have to go surface by surface and then bake.\n\n\u00a0\n", "attachments": [], "created_by_name": "Claudio", "created_at": "June 17, 2014 at 12:29pm", "created_by": "Claudio", "replies": []}, {"body": "\nHi Claudio, What do you mean by grouping surfaces? You can connect multiple surfaces to genTestPts component and it should work fine.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "June 20, 2014 at 3:36am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nDear Mostapha,\n\nThank you again for your time. Well my problem is not the genTestPts component its the recolor mesh component from LB. It does not recognize the amount of mesh faces v/s the results lenght.\u00a0Other wise the runday analysis component returns the correct values.[<img class=\"align-full\" src=\"http://api.ning.com:80/files/Ug6ORo4NSNQoVf80Gl5vL8gddOmXWgfnHyd2C3NZFMjoioVikdVM*74h*8PRlNsrLKz0orSCNHk41WVBXYg5O0ZEoJcRRzve/Canvasat134003.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/Ug6ORo4NSNQoVf80Gl5vL8gddOmXWgfnHyd2C3NZFMjoioVikdVM*74h*8PRlNsrLKz0orSCNHk41WVBXYg5O0ZEoJcRRzve/Canvasat134003.png)\n", "attachments": [], "created_by_name": "Claudio", "created_at": "June 20, 2014 at 11:42am", "created_by": "Claudio", "replies": []}, {"body": "\nEither try to flatten and join all the meshes and input the joined mesh, or remove flatten from _analysisResult input. Either one should solve your problem.\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "June 20, 2014 at 12:22pm", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nHI Mostapha\n\nIt does work. I removed the flatten from analysis results input -\u00a0mesh\u00a0 and also LegenPar (but no required) and it works. Something\u00a0boaders me tough is that the legend repeat\u00a0It self, but I can deal with it.\n\n\u00a0\n\ncheers\n", "attachments": [], "created_by_name": "Claudio", "created_at": "June 23, 2014 at 7:23am", "created_by": "Claudio", "replies": []}, {"body": "\nHi Claudio,\n\nIf you want to only see one legend then you need to join all the meshes into a single joined mesh and flatten result inputs, otherwise component takes them as 3 different input lists and that's why you get 3 legends.\n\nCheers,\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "June 23, 2014 at 5:26pm", "created_by": "MostaphaSadeghipour", "replies": []}]}], "id": "1089402"}