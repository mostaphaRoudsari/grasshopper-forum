{"body": "\nThere is a \"hump\" on the comforPolygon in the adaptive comfort chart component:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/m7*E7RUk3WACzDDPIr3Hs0xmGQrX2SdRpLd6lJ4tRKQUCGKF9SSs6Wd0UduudqSBjg*knSeQMaEcq4Fvj3fNbDbBIilNNN0e/Image62.png\" width=\"599\"/>](http://api.ning.com:80/files/m7*E7RUk3WACzDDPIr3Hs0xmGQrX2SdRpLd6lJ4tRKQUCGKF9SSs6Wd0UduudqSBjg*knSeQMaEcq4Fvj3fNbDbBIilNNN0e/Image62.png)\n\nMay I ask what this part of the polygon represents? The adaptive comfort chart in ASHARE2013 doesn't show such \"hump\"...\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/m7*E7RUk3WB3-SrzPWebIQlXFFH1VikxH0kgqulpcMvf95eBQzRFz9NahDCrOXk4O*0ADttvuQs*66xW5jVmcQ9RWSyvuiDb/Image61.png?width=750\" width=\"750\"/>](http://api.ning.com:80/files/m7*E7RUk3WB3-SrzPWebIQlXFFH1VikxH0kgqulpcMvf95eBQzRFz9NahDCrOXk4O*0ADttvuQs*66xW5jVmcQ9RWSyvuiDb/Image61.png)\n\n\n\nThank you very much!\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1485693", "name": "thermal_comfort_calc_v001.gh"}], "created_by_name": "Grasshope", "created_at": "March 15, 2016 at 11:46pm", "created_by": "Grasshope", "topic": "the \"hump\" on the comfortPolygon in the adpative comfort chart", "replies": [{"body": "\n... OK, I may have found the explanation:\n\nOn page 13 of ASHARE 55-2013, paragraph 5.4.2.4, it is indicated that if operative temperature is above 25 degrees, the upper limit of acceptable temperature is allowed to be increased, depending on the air speed as specified in Table 5.4.2.4, which can be as high as 2.2 degree.\n\n\n\nSo, I assume the height of the \"hump\" is about 2.2 degrees from the upper acceptability limit (80% or 90%).\n\n\n\nAppreciate your advice if the understanding here is not correct.\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/2Yrg*FGAb7yDlxUoH8JV8BpCeZXArZDFATOMj5pJgQAwRq6PFTKM80X7*qVPjgSAqciH73qMqcXVe3GCX59t9aS0WYCnoxfF/Image63.png\" width=\"480\"/>](http://api.ning.com:80/files/2Yrg*FGAb7yDlxUoH8JV8BpCeZXArZDFATOMj5pJgQAwRq6PFTKM80X7*qVPjgSAqciH73qMqcXVe3GCX59t9aS0WYCnoxfF/Image63.png)\n", "attachments": [], "created_by_name": "Grasshope", "created_at": "March 16, 2016 at 1:35am", "created_by": "Grasshope", "replies": [{"body": "\nGrasshope,\n\nYour citation from ASHRAE 55 is correct. \u00a0The \"hump\" will go away if you input a windSpeed of 0 into the adaptive chart component. \u00a0Not many people know about the provision for increased air speed in the Adaptive model but it ends up being very useful for design.\n\nAlso, I should note that both ASHRAE and the European adaptive model have this provision for increased air speed. \u00a0For another reference regarding the effect of increased airspeed in both US/EU adaptive models, you can check out the \"Adaptive Method\" of the CBE Comfort Tool:\n\n[http://comfort.cbe.berkeley.edu/](http://comfort.cbe.berkeley.edu/)\n\n-Chris\u00a0\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "March 16, 2016 at 8:45pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nChris,\n\nI should probably add this to github but I wanted to also have Grasshop's input on this.\n\nDo you think that we should change the \"Desired indoor operative temperature\" to \"Indoor operative temperature\"? As far as I understand the desired temperature is the area inside the curve and not the axis values itself.\n\nMostapha\n", "attachments": [], "created_by_name": "Mostapha Sadeghipour Roudsari", "created_at": "March 19, 2016 at 9:01am", "created_by": "MostaphaSadeghipour", "replies": []}, {"body": "\nMostapha,\n\nI agree. \u00a0For a while, I debated with myself what the axis label should be and, for the plotting of the polygon, it is \"desired\" but, for everything else plotted on the chart, it might not be. \u00a0I have changed it here:\n\n[https://github.com/mostaphaRoudsari/ladybug/commit/87554cd3c1906d4a...](https://github.com/mostaphaRoudsari/ladybug/commit/87554cd3c1906d4a602812dff4454413bed886bd)\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1488538", "name": "Adaptive Comfort Chart.gh"}], "created_by_name": "Chris Mackey", "created_at": "March 19, 2016 at 3:23pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nDear Chris and Mostapha,\n\n\n\nThanks for your clarification!\n\n\n\nYes, I agree with you that using \"Indoor operative temperature\" for the Y axis of the adaptive comfort chart might be less confusing, and plus it is consistent with what is presented in the ASHRAE standard.\n\n\n\nUsers should be able to use the outputs of this component to filter out those measurements within or outside the acceptable limits.\n\n\n\nSpeaking of the outputs of this component, I got the following issue which I'd like to have your advice:\n\n\n\nAs shown in the image, the output of the \"comfortableOrNot\" node has 2 branches and 17534 values, which is strange because the input epw file has only 8760 hourly data (8767 including the headers).\n\n\n\nSth must have caused the duplication, and I hope you can kindly point out what I missed here.\n\n\n\nThank you!\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/WlEYvnGKT6CdgDpz1k8y1Rk-igJbTH9LrY16OSkLJBuRmpu4l4J4DjzJxY8TjE5Yz9MFksjOV9AfyU8yA-ndho3nceMvH3zl/Image1.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/WlEYvnGKT6CdgDpz1k8y1Rk-igJbTH9LrY16OSkLJBuRmpu4l4J4DjzJxY8TjE5Yz9MFksjOV9AfyU8yA-ndho3nceMvH3zl/Image1.png)\n\n\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1489500", "name": "thermal_comfort_calc_v002.gh"}], "created_by_name": "Grasshope", "created_at": "March 21, 2016 at 8:39am", "created_by": "Grasshope", "replies": []}, {"body": "\n... sorry to bother, but the position of the output point of the following input combinations doesn't seem to be right, and it is not consistent with the outcome of the CBE tool for the same inputs:\n\n\n\nHope you can advise what I missed here:\n\n\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/WlEYvnGKT6AWF5*z-1Ozzj30pczHBpso0e3F0RQFEsUU0BCEA799e063d2Rc9MJ8ByMROsypA7fkSQoCNt3Os5sj4AYZzASE/Image2.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/WlEYvnGKT6AWF5*z-1Ozzj30pczHBpso0e3F0RQFEsUU0BCEA799e063d2Rc9MJ8ByMROsypA7fkSQoCNt3Os5sj4AYZzASE/Image2.png)[<img class=\"align-full\" src=\"http://api.ning.com:80/files/WlEYvnGKT6Cr3eFi8yvEEIsc5bIOm7-rpGyEPnB8GYSHxn2I-LS1GgvAb-cstNnTUXuOIxL92FdRvs0tEraBnNkGDfe7N9vY/Image3.png?width=721\" width=\"721\"/>](http://api.ning.com:80/files/WlEYvnGKT6Cr3eFi8yvEEIsc5bIOm7-rpGyEPnB8GYSHxn2I-LS1GgvAb-cstNnTUXuOIxL92FdRvs0tEraBnNkGDfe7N9vY/Image3.png)\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1489378", "name": "thermal_comfort_calc_v003.gh"}], "created_by_name": "Grasshope", "created_at": "March 21, 2016 at 9:00am", "created_by": "Grasshope", "replies": []}, {"body": "\nGrasshope,\n\n\n\nI will check the duplication issue once I get more time to sit down and check your file. \u00a0\n\nThank you so much for posting about the misplaced point in relation to the CBE tool. \u00a0It was a bug in the chart that only affected cases when you connect up single values to airTemperature, radTemperature and prevailTemp. \u00a0It was accidentally setting the prevailing temperature as the y-coordinate of the point and the operative temperature as the x-coordinate. \u00a0All other uses of the chart were good so that might be why I didn't notice it until you pointed it out here.\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/nVneZuV00OjTjmQ8jqU2bF5L*StXzdTMvPrm3L9bFRHJHYogCr29z6YmujmcMNkS7GFRsiF5tZdiuKnuJVH**GJ0wn6BJFPK/AdaptFixed.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/nVneZuV00OjTjmQ8jqU2bF5L*StXzdTMvPrm3L9bFRHJHYogCr29z6YmujmcMNkS7GFRsiF5tZdiuKnuJVH**GJ0wn6BJFPK/AdaptFixed.JPG)\n\nI fixed it in the attached file.\n\nThanks, as always, for your vigilant pursuing of bugs.\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1489872", "name": "AdaptComfFixed.gh"}], "created_by_name": "Chris Mackey", "created_at": "March 21, 2016 at 7:42pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris,\n\nOne small bug: Setting the wind speed to 1.2 gives the following error:\n\n1. Creating an outline of one of the comfort or strategy curves failed.\u00a0 Component will return a solid brep.\n\n1.19/1.21 are fine. 1.2 doesn't.\n\nThanks,\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "March 22, 2016 at 8:53am", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nGreat Bug-Catchers Abraham and Grasshope!\n\n\n\nThank you for your attention on this component. \u00a0Thanks to your efforts,\u00a0I feel that we are really weeding out a lot of the small errors I made when I originally put the component together a few months ago.\n\n\n\nAbraham, the case of 1.2 failing was because of a bug where I simply put \"&lt; 1.2\" in the code instead of \"&lt;=1.2\". \u00a0The error was specifically happening with 1.2 because that is the wind speed threshold at which the \"hump\" of the ASHRAE adaptive comfort polygon grows. \u00a0It is perhaps easier to see this threshold in the inputs of the CBE Adaptive comfort chart:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/b8ZVJ4Q*UlLAzjHWpvcxI5X6ofVXOVwByuA0-4gRGnFSTqvyYD6q5oplaScHDTVDz*ghdsbsnBNEU8LHFtwlF3zxpHFn4SOC/CBE_AdaptiveCategories.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/b8ZVJ4Q*UlLAzjHWpvcxI5X6ofVXOVwByuA0-4gRGnFSTqvyYD6q5oplaScHDTVDz*ghdsbsnBNEU8LHFtwlF3zxpHFn4SOC/CBE_AdaptiveCategories.JPG)\n\nI fixed the bug in the attached file and on the github.\n\n\n\nGrasshope, to address why you are getting branched data and the 2 comfort polygons, it is because you have connected up the EPW windSpeed to the component. \u00a0Usually, if you connect up multiple values for windSpeed_, the component will produce a comfort polygon for each wind speed. \u00a0However, I built a mechanism into the component that stops it from generating 8760 comfort polygons (one polygon for each hour)\u00a0if you connect up full EPW data. \u00a08760 comfort polygons takes almost a minute to generate and so I figured that this is probably not what people want to do most of the time. \u00a0Instead, the component just generates one polygon for the minimum wind speed and another for the maximum wind speed (to show you the range). \u00a0The branched data that you get out of the component are values for each polygon (2 branches for two polygons). \u00a0If you connect up the data to the 3D chart, this might make things clearer:\n\n[<img class=\"align-full\" src=\"http://api.ning.com:80/files/b8ZVJ4Q*UlL3P9N5mx33k*9sRNuaNqJw*Ecs8EdmrVNyXHOXFTpM3z6XEbslP36jRT0cuUCei2W8n3nvDQ8MFakdCq2CTTwi/AdpativeComfRange.JPG?width=721\" width=\"721\"/>](http://api.ning.com:80/files/b8ZVJ4Q*UlL3P9N5mx33k*9sRNuaNqJw*Ecs8EdmrVNyXHOXFTpM3z6XEbslP36jRT0cuUCei2W8n3nvDQ8MFakdCq2CTTwi/AdpativeComfRange.JPG)\n\nOne polygon is for 0 wind speed and the other is for the maximum EPW wind speed.\n\n\n\nI am interested in hearing your thoughts on my way of dealing with this since I am thinking of implementing something similar on psychrometric chart. \u00a0I realized that a lot of people were crashing the psych chart by connecting up the EPW wind speed, which currently tells the component to generate 8760 comfort polygons.\n\n\n\nThanks, as always, for all of your help,\n\n-Chris\n", "attachments": [{"link": "http://www.grasshopper3d.com/group/ladybug/forum/attachment/download?id=2985220%3AUploadedFile%3A1490569", "name": "thermal_comfort_calc_v002_CWM.gh"}], "created_by_name": "Chris Mackey", "created_at": "March 22, 2016 at 8:56pm", "created_by": "ChrisMackey", "replies": []}, {"body": "\nThanks Chris.\n\nYes\u00a0 i saw the 1.2 at the CBE and that's why i reported.\n\n\n\nI'm thinking about your question regarding min/max wind speed. On one side, as you said, it speeds the calculation time significantly. On the other it will be interesting to calculate how many points felt in the extra comfort area but don't have the wind speed to really be in comfort. Dilemma!!\n\nBut if the options are a crashing component/exaggerated calculation time, i'm for this min/max wind assumption. If it is only running time, maybe a flag input saying \"Take all wind speeds\" or \"Take min/max values\" can be fine. But if crashing is a real situation ... then simplify.\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "March 22, 2016 at 11:29pm", "created_by": "AbrahamYezioro", "replies": []}, {"body": "\nAbraham,\n\nThank you for your thoughts.\u00a0 I should also mention the alternatives that I am considering:\n\n\n\n1) The component can sense whether the windSpeed data is aligned with the _dryBulbTemperature and _prevailTemperature and, if so, I just output 1 branch of data using the wind speed at each hour.\u00a0 It sounds like you would advocate for this and, as I am thinking about it more, this makes sense to me too.\n\n2) Instead of outputting 2 polygons, I could just output 1 that represents the mean wind speed for the whole year.\u00a0 I am not sure if this is better.\n\n3) Instead of outputting 2 comfort polygons for the min and max windSpeed, I could run some statistical analysis on the data and output two polygons for 1 upper and lower standard deviation.\u00a0 This might be more representative of the range over the year but, again, I am not sure.\n\n\n\nAny thoughts on this or suggestion of other options is much appreciated.\n\n-Chris\n", "attachments": [], "created_by_name": "Chris Mackey", "created_at": "March 23, 2016 at 9:15am", "created_by": "ChrisMackey", "replies": []}, {"body": "\nHi Chris,\n\nIf the goal of the polygon(s) is only the graphics (for showing) i believe the 2 polygons are fine (min and max over the analysis period).\n\nThe question is regarding the calculation of comfort. How it is done and/or how it should be done. The right way is point by point with the respective wind speed. What i understood is that this option can crash GH (isn't it? Or it happens just because it shows 8760 polygons?). If so the right way is not an option.\n\nI'm thinking: There are 4 polygons overall, right (0, 0.6, 0.9, 1.2 m/s). So what if, according to the wind speed you take one of those polygons for the calculation, and for the graphic output the 2, min and max?\n\n\n\nAs for the options you mention, 1 is the one that \"makes sense\".\n\nOp. 2 (average year), really DON'T.\n\nOp.3 can be but didn't understand how it works for the calculation.\n\n\n\nMakes sense?\n\n-A.\n", "attachments": [], "created_by_name": "Abraham Yezioro", "created_at": "March 23, 2016 at 2:13pm", "created_by": "AbrahamYezioro", "replies": []}]}]}